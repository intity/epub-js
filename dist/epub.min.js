!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("JSZip"),require("localforage")):"function"==typeof define&&define.amd?define(["JSZip","localforage"],e):"object"==typeof exports?exports.ePub=e(require("JSZip"),require("localforage")):t.ePub=e(t.JSZip,t.localforage)}(self,((t,e)=>(()=>{var r={4582:(t,e)=>{"use strict";function r(t,e){return void 0===e&&(e=Object),e&&"function"==typeof e.freeze?e.freeze(t):t}var i=r({HTML:"text/html",isHTML:function(t){return t===i.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),n=r({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(t){return t===n.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});e.assign=function(t,e){if(null===t||"object"!=typeof t)throw new TypeError("target is not an object");for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},e.find=function(t,e,r){if(void 0===r&&(r=Array.prototype),t&&"function"==typeof r.find)return r.find.call(t,e);for(var i=0;i<t.length;i++)if(Object.prototype.hasOwnProperty.call(t,i)){var n=t[i];if(e.call(void 0,n,i,t))return n}},e.freeze=r,e.MIME_TYPE=i,e.NAMESPACE=n},5752:(t,e,r)=>{var i=r(4582),n=r(4722),s=r(6559),o=r(4466),a=n.DOMImplementation,c=i.NAMESPACE,l=o.ParseError,h=o.XMLReader;function u(t){return t.replace(/\r[\n\u0085]/g,"\n").replace(/[\r\u0085\u2028]/g,"\n")}function d(t){this.options=t||{locator:{}}}function p(){this.cdata=!1}function f(t,e){e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber}function g(t){if(t)return"\n@"+(t.systemId||"")+"#[line:"+t.lineNumber+",col:"+t.columnNumber+"]"}function m(t,e,r){return"string"==typeof t?t.substr(e,r):t.length>=e+r||e?new java.lang.String(t,e,r)+"":t}function v(t,e){t.currentElement?t.currentElement.appendChild(e):t.doc.appendChild(e)}d.prototype.parseFromString=function(t,e){var r=this.options,i=new h,n=r.domBuilder||new p,o=r.errorHandler,a=r.locator,l=r.xmlns||{},d=/\/x?html?$/.test(e),f=d?s.HTML_ENTITIES:s.XML_ENTITIES;a&&n.setDocumentLocator(a),i.errorHandler=function(t,e,r){if(!t){if(e instanceof p)return e;t=e}var i={},n=t instanceof Function;function s(e){var s=t[e];!s&&n&&(s=2==t.length?function(r){t(e,r)}:t),i[e]=s&&function(t){s("[xmldom "+e+"]\t"+t+g(r))}||function(){}}return r=r||{},s("warning"),s("error"),s("fatalError"),i}(o,n,a),i.domBuilder=r.domBuilder||n,d&&(l[""]=c.HTML),l.xml=l.xml||c.XML;var m=r.normalizeLineEndings||u;return t&&"string"==typeof t?i.parse(m(t),l,f):i.errorHandler.error("invalid doc source"),n.doc},p.prototype={startDocument:function(){this.doc=(new a).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(t,e,r,i){var n=this.doc,s=n.createElementNS(t,r||e),o=i.length;v(this,s),this.currentElement=s,this.locator&&f(this.locator,s);for(var a=0;a<o;a++){t=i.getURI(a);var c=i.getValue(a),l=(r=i.getQName(a),n.createAttributeNS(t,r));this.locator&&f(i.getLocator(a),l),l.value=l.nodeValue=c,s.setAttributeNode(l)}},endElement:function(t,e,r){var i=this.currentElement;i.tagName,this.currentElement=i.parentNode},startPrefixMapping:function(t,e){},endPrefixMapping:function(t){},processingInstruction:function(t,e){var r=this.doc.createProcessingInstruction(t,e);this.locator&&f(this.locator,r),v(this,r)},ignorableWhitespace:function(t,e,r){},characters:function(t,e,r){if(t=m.apply(this,arguments)){if(this.cdata)var i=this.doc.createCDATASection(t);else i=this.doc.createTextNode(t);this.currentElement?this.currentElement.appendChild(i):/^\s*$/.test(t)&&this.doc.appendChild(i),this.locator&&f(this.locator,i)}},skippedEntity:function(t){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(t){(this.locator=t)&&(t.lineNumber=0)},comment:function(t,e,r){t=m.apply(this,arguments);var i=this.doc.createComment(t);this.locator&&f(this.locator,i),v(this,i)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(t,e,r){var i=this.doc.implementation;if(i&&i.createDocumentType){var n=i.createDocumentType(t,e,r);this.locator&&f(this.locator,n),v(this,n),this.doc.doctype=n}},warning:function(t){console.warn("[xmldom warning]\t"+t,g(this.locator))},error:function(t){console.error("[xmldom error]\t"+t,g(this.locator))},fatalError:function(t){throw new l(t,this.locator)}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,(function(t){p.prototype[t]=function(){return null}})),e.DOMParser=d},4722:(t,e,r)=>{var i=r(4582),n=i.find,s=i.NAMESPACE;function o(t){return""!==t}function a(t,e){return t.hasOwnProperty(e)||(t[e]=!0),t}function c(t){if(!t)return[];var e=function(t){return t?t.split(/[\t\n\f\r ]+/).filter(o):[]}(t);return Object.keys(e.reduce(a,{}))}function l(t,e){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}function h(t,e){var r=t.prototype;if(!(r instanceof e)){function i(){}i.prototype=e.prototype,l(r,i=new i),t.prototype=r=i}r.constructor!=t&&("function"!=typeof t&&console.error("unknown Class:"+t),r.constructor=t)}var u={},d=u.ELEMENT_NODE=1,p=u.ATTRIBUTE_NODE=2,f=u.TEXT_NODE=3,g=u.CDATA_SECTION_NODE=4,m=u.ENTITY_REFERENCE_NODE=5,v=u.ENTITY_NODE=6,y=u.PROCESSING_INSTRUCTION_NODE=7,w=u.COMMENT_NODE=8,b=u.DOCUMENT_NODE=9,x=u.DOCUMENT_TYPE_NODE=10,E=u.DOCUMENT_FRAGMENT_NODE=11,N=u.NOTATION_NODE=12,T={},k={},S=(T.INDEX_SIZE_ERR=(k[1]="Index size error",1),T.DOMSTRING_SIZE_ERR=(k[2]="DOMString size error",2),T.HIERARCHY_REQUEST_ERR=(k[3]="Hierarchy request error",3)),C=(T.WRONG_DOCUMENT_ERR=(k[4]="Wrong document",4),T.INVALID_CHARACTER_ERR=(k[5]="Invalid character",5),T.NO_DATA_ALLOWED_ERR=(k[6]="No data allowed",6),T.NO_MODIFICATION_ALLOWED_ERR=(k[7]="No modification allowed",7),T.NOT_FOUND_ERR=(k[8]="Not found",8)),O=(T.NOT_SUPPORTED_ERR=(k[9]="Not supported",9),T.INUSE_ATTRIBUTE_ERR=(k[10]="Attribute in use",10));function R(t,e){if(e instanceof Error)var r=e;else r=this,Error.call(this,k[t]),this.message=k[t],Error.captureStackTrace&&Error.captureStackTrace(this,R);return r.code=t,e&&(this.message=this.message+": "+e),r}function A(){}function L(t,e){this._node=t,this._refresh=e,D(this)}function D(t){var e=t._node._inc||t._node.ownerDocument._inc;if(t._inc!==e){var r=t._refresh(t._node);if(yt(t,"length",r.length),!t.$$length||r.length<t.$$length)for(var i=r.length;i in t;i++)Object.prototype.hasOwnProperty.call(t,i)&&delete t[i];l(r,t),t._inc=e}}function q(){}function I(t,e){for(var r=t.length;r--;)if(t[r]===e)return r}function M(t,e,r,i){if(i?e[I(e,i)]=r:e[e.length++]=r,t){r.ownerElement=t;var n=t.ownerDocument;n&&(i&&z(n,t,i),function(t,e,r){t&&t._inc++,r.namespaceURI===s.XMLNS&&(e._nsMap[r.prefix?r.localName:""]=r.value)}(n,t,r))}}function P(t,e,r){var i=I(e,r);if(!(i>=0))throw new R(C,new Error(t.tagName+"@"+r));for(var n=e.length-1;i<n;)e[i]=e[++i];if(e.length=n,t){var s=t.ownerDocument;s&&(z(s,t,r),r.ownerElement=null)}}function _(){}function j(){}function B(t){return("<"==t?"&lt;":">"==t&&"&gt;")||"&"==t&&"&amp;"||'"'==t&&"&quot;"||"&#"+t.charCodeAt()+";"}function U(t,e){if(e(t))return!0;if(t=t.firstChild)do{if(U(t,e))return!0}while(t=t.nextSibling)}function F(){this.ownerDocument=this}function z(t,e,r,i){t&&t._inc++,r.namespaceURI===s.XMLNS&&delete e._nsMap[r.prefix?r.localName:""]}function W(t,e,r){if(t&&t._inc){t._inc++;var i=e.childNodes;if(r)i[i.length++]=r;else{for(var n=e.firstChild,s=0;n;)i[s++]=n,n=n.nextSibling;i.length=s,delete i[i.length]}}}function H(t,e){var r=e.previousSibling,i=e.nextSibling;return r?r.nextSibling=i:t.firstChild=i,i?i.previousSibling=r:t.lastChild=r,e.parentNode=null,e.previousSibling=null,e.nextSibling=null,W(t.ownerDocument,t),e}function V(t){return t&&t.nodeType===j.DOCUMENT_TYPE_NODE}function X(t){return t&&t.nodeType===j.ELEMENT_NODE}function G(t){return t&&t.nodeType===j.TEXT_NODE}function $(t,e){var r=t.childNodes||[];if(n(r,X)||V(e))return!1;var i=n(r,V);return!(e&&i&&r.indexOf(i)>r.indexOf(e))}function Y(t,e){var r=t.childNodes||[];if(n(r,(function(t){return X(t)&&t!==e})))return!1;var i=n(r,V);return!(e&&i&&r.indexOf(i)>r.indexOf(e))}function J(t,e,r){var i=t.childNodes||[],s=e.childNodes||[];if(e.nodeType===j.DOCUMENT_FRAGMENT_NODE){var o=s.filter(X);if(o.length>1||n(s,G))throw new R(S,"More than one element or text in fragment");if(1===o.length&&!$(t,r))throw new R(S,"Element in fragment can not be inserted before doctype")}if(X(e)&&!$(t,r))throw new R(S,"Only one element can be added and only after doctype");if(V(e)){if(n(i,V))throw new R(S,"Only one doctype is allowed");var a=n(i,X);if(r&&i.indexOf(a)<i.indexOf(r))throw new R(S,"Doctype can only be inserted before an element");if(!r&&a)throw new R(S,"Doctype can not be appended since element is present")}}function Z(t,e,r){var i=t.childNodes||[],s=e.childNodes||[];if(e.nodeType===j.DOCUMENT_FRAGMENT_NODE){var o=s.filter(X);if(o.length>1||n(s,G))throw new R(S,"More than one element or text in fragment");if(1===o.length&&!Y(t,r))throw new R(S,"Element in fragment can not be inserted before doctype")}if(X(e)&&!Y(t,r))throw new R(S,"Only one element can be added and only after doctype");if(V(e)){if(n(i,(function(t){return V(t)&&t!==r})))throw new R(S,"Only one doctype is allowed");var a=n(i,X);if(r&&i.indexOf(a)<i.indexOf(r))throw new R(S,"Doctype can only be inserted before an element")}}function Q(t,e,r,i){(function(t,e,r){if(!function(t){return t&&(t.nodeType===j.DOCUMENT_NODE||t.nodeType===j.DOCUMENT_FRAGMENT_NODE||t.nodeType===j.ELEMENT_NODE)}(t))throw new R(S,"Unexpected parent node type "+t.nodeType);if(r&&r.parentNode!==t)throw new R(C,"child not in parent");if(!function(t){return t&&(X(t)||G(t)||V(t)||t.nodeType===j.DOCUMENT_FRAGMENT_NODE||t.nodeType===j.COMMENT_NODE||t.nodeType===j.PROCESSING_INSTRUCTION_NODE)}(e)||V(e)&&t.nodeType!==j.DOCUMENT_NODE)throw new R(S,"Unexpected node type "+e.nodeType+" for parent node type "+t.nodeType)})(t,e,r),t.nodeType===j.DOCUMENT_NODE&&(i||J)(t,e,r);var n=e.parentNode;if(n&&n.removeChild(e),e.nodeType===E){var s=e.firstChild;if(null==s)return e;var o=e.lastChild}else s=o=e;var a=r?r.previousSibling:t.lastChild;s.previousSibling=a,o.nextSibling=r,a?a.nextSibling=s:t.firstChild=s,null==r?t.lastChild=o:r.previousSibling=o;do{s.parentNode=t}while(s!==o&&(s=s.nextSibling));return W(t.ownerDocument||t,t),e.nodeType==E&&(e.firstChild=e.lastChild=null),e}function K(){this._nsMap={}}function tt(){}function et(){}function rt(){}function it(){}function nt(){}function st(){}function ot(){}function at(){}function ct(){}function lt(){}function ht(){}function ut(){}function dt(t,e){var r=[],i=9==this.nodeType&&this.documentElement||this,n=i.prefix,s=i.namespaceURI;if(s&&null==n&&null==(n=i.lookupPrefix(s)))var o=[{namespace:s,prefix:null}];return gt(this,r,t,e,o),r.join("")}function pt(t,e,r){var i=t.prefix||"",n=t.namespaceURI;if(!n)return!1;if("xml"===i&&n===s.XML||n===s.XMLNS)return!1;for(var o=r.length;o--;){var a=r[o];if(a.prefix===i)return a.namespace!==n}return!0}function ft(t,e,r){t.push(" ",e,'="',r.replace(/[<>&"\t\n\r]/g,B),'"')}function gt(t,e,r,i,n){if(n||(n=[]),i){if(!(t=i(t)))return;if("string"==typeof t)return void e.push(t)}switch(t.nodeType){case d:var o=t.attributes,a=o.length,c=t.firstChild,l=t.tagName,h=l;if(!(r=s.isHTML(t.namespaceURI)||r)&&!t.prefix&&t.namespaceURI){for(var u,v=0;v<o.length;v++)if("xmlns"===o.item(v).name){u=o.item(v).value;break}if(!u)for(var N=n.length-1;N>=0;N--)if(""===(T=n[N]).prefix&&T.namespace===t.namespaceURI){u=T.namespace;break}if(u!==t.namespaceURI)for(N=n.length-1;N>=0;N--){var T;if((T=n[N]).namespace===t.namespaceURI){T.prefix&&(h=T.prefix+":"+l);break}}}e.push("<",h);for(var k=0;k<a;k++)"xmlns"==(S=o.item(k)).prefix?n.push({prefix:S.localName,namespace:S.value}):"xmlns"==S.nodeName&&n.push({prefix:"",namespace:S.value});for(k=0;k<a;k++){var S,C,O;pt(S=o.item(k),0,n)&&(ft(e,(C=S.prefix||"")?"xmlns:"+C:"xmlns",O=S.namespaceURI),n.push({prefix:C,namespace:O})),gt(S,e,r,i,n)}if(l===h&&pt(t,0,n)&&(ft(e,(C=t.prefix||"")?"xmlns:"+C:"xmlns",O=t.namespaceURI),n.push({prefix:C,namespace:O})),c||r&&!/^(?:meta|link|img|br|hr|input)$/i.test(l)){if(e.push(">"),r&&/^script$/i.test(l))for(;c;)c.data?e.push(c.data):gt(c,e,r,i,n.slice()),c=c.nextSibling;else for(;c;)gt(c,e,r,i,n.slice()),c=c.nextSibling;e.push("</",h,">")}else e.push("/>");return;case b:case E:for(c=t.firstChild;c;)gt(c,e,r,i,n.slice()),c=c.nextSibling;return;case p:return ft(e,t.name,t.value);case f:return e.push(t.data.replace(/[<&>]/g,B));case g:return e.push("<![CDATA[",t.data,"]]>");case w:return e.push("\x3c!--",t.data,"--\x3e");case x:var R=t.publicId,A=t.systemId;if(e.push("<!DOCTYPE ",t.name),R)e.push(" PUBLIC ",R),A&&"."!=A&&e.push(" ",A),e.push(">");else if(A&&"."!=A)e.push(" SYSTEM ",A,">");else{var L=t.internalSubset;L&&e.push(" [",L,"]"),e.push(">")}return;case y:return e.push("<?",t.target," ",t.data,"?>");case m:return e.push("&",t.nodeName,";");default:e.push("??",t.nodeName)}}function mt(t,e,r){var i;switch(e.nodeType){case d:(i=e.cloneNode(!1)).ownerDocument=t;case E:break;case p:r=!0}if(i||(i=e.cloneNode(!1)),i.ownerDocument=t,i.parentNode=null,r)for(var n=e.firstChild;n;)i.appendChild(mt(t,n,r)),n=n.nextSibling;return i}function vt(t,e,r){var i=new e.constructor;for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var s=e[n];"object"!=typeof s&&s!=i[n]&&(i[n]=s)}switch(e.childNodes&&(i.childNodes=new A),i.ownerDocument=t,i.nodeType){case d:var o=e.attributes,a=i.attributes=new q,c=o.length;a._ownerElement=i;for(var l=0;l<c;l++)i.setAttributeNode(vt(t,o.item(l),!0));break;case p:r=!0}if(r)for(var h=e.firstChild;h;)i.appendChild(vt(t,h,r)),h=h.nextSibling;return i}function yt(t,e,r){t[e]=r}T.INVALID_STATE_ERR=(k[11]="Invalid state",11),T.SYNTAX_ERR=(k[12]="Syntax error",12),T.INVALID_MODIFICATION_ERR=(k[13]="Invalid modification",13),T.NAMESPACE_ERR=(k[14]="Invalid namespace",14),T.INVALID_ACCESS_ERR=(k[15]="Invalid access",15),R.prototype=Error.prototype,l(T,R),A.prototype={length:0,item:function(t){return t>=0&&t<this.length?this[t]:null},toString:function(t,e){for(var r=[],i=0;i<this.length;i++)gt(this[i],r,t,e);return r.join("")},filter:function(t){return Array.prototype.filter.call(this,t)},indexOf:function(t){return Array.prototype.indexOf.call(this,t)}},L.prototype.item=function(t){return D(this),this[t]||null},h(L,A),q.prototype={length:0,item:A.prototype.item,getNamedItem:function(t){for(var e=this.length;e--;){var r=this[e];if(r.nodeName==t)return r}},setNamedItem:function(t){var e=t.ownerElement;if(e&&e!=this._ownerElement)throw new R(O);var r=this.getNamedItem(t.nodeName);return M(this._ownerElement,this,t,r),r},setNamedItemNS:function(t){var e,r=t.ownerElement;if(r&&r!=this._ownerElement)throw new R(O);return e=this.getNamedItemNS(t.namespaceURI,t.localName),M(this._ownerElement,this,t,e),e},removeNamedItem:function(t){var e=this.getNamedItem(t);return P(this._ownerElement,this,e),e},removeNamedItemNS:function(t,e){var r=this.getNamedItemNS(t,e);return P(this._ownerElement,this,r),r},getNamedItemNS:function(t,e){for(var r=this.length;r--;){var i=this[r];if(i.localName==e&&i.namespaceURI==t)return i}return null}},_.prototype={hasFeature:function(t,e){return!0},createDocument:function(t,e,r){var i=new F;if(i.implementation=this,i.childNodes=new A,i.doctype=r||null,r&&i.appendChild(r),e){var n=i.createElementNS(t,e);i.appendChild(n)}return i},createDocumentType:function(t,e,r){var i=new st;return i.name=t,i.nodeName=t,i.publicId=e||"",i.systemId=r||"",i}},j.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(t,e){return Q(this,t,e)},replaceChild:function(t,e){Q(this,t,e,Z),e&&this.removeChild(e)},removeChild:function(t){return H(this,t)},appendChild:function(t){return this.insertBefore(t,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(t){return vt(this.ownerDocument||this,this,t)},normalize:function(){for(var t=this.firstChild;t;){var e=t.nextSibling;e&&e.nodeType==f&&t.nodeType==f?(this.removeChild(e),t.appendData(e.data)):(t.normalize(),t=e)}},isSupported:function(t,e){return this.ownerDocument.implementation.hasFeature(t,e)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(t){for(var e=this;e;){var r=e._nsMap;if(r)for(var i in r)if(Object.prototype.hasOwnProperty.call(r,i)&&r[i]===t)return i;e=e.nodeType==p?e.ownerDocument:e.parentNode}return null},lookupNamespaceURI:function(t){for(var e=this;e;){var r=e._nsMap;if(r&&Object.prototype.hasOwnProperty.call(r,t))return r[t];e=e.nodeType==p?e.ownerDocument:e.parentNode}return null},isDefaultNamespace:function(t){return null==this.lookupPrefix(t)}},l(u,j),l(u,j.prototype),F.prototype={nodeName:"#document",nodeType:b,doctype:null,documentElement:null,_inc:1,insertBefore:function(t,e){if(t.nodeType==E){for(var r=t.firstChild;r;){var i=r.nextSibling;this.insertBefore(r,e),r=i}return t}return Q(this,t,e),t.ownerDocument=this,null===this.documentElement&&t.nodeType===d&&(this.documentElement=t),t},removeChild:function(t){return this.documentElement==t&&(this.documentElement=null),H(this,t)},replaceChild:function(t,e){Q(this,t,e,Z),t.ownerDocument=this,e&&this.removeChild(e),X(t)&&(this.documentElement=t)},importNode:function(t,e){return mt(this,t,e)},getElementById:function(t){var e=null;return U(this.documentElement,(function(r){if(r.nodeType==d&&r.getAttribute("id")==t)return e=r,!0})),e},getElementsByClassName:function(t){var e=c(t);return new L(this,(function(r){var i=[];return e.length>0&&U(r.documentElement,(function(n){if(n!==r&&n.nodeType===d){var s=n.getAttribute("class");if(s){var o=t===s;if(!o){var a=c(s);o=e.every((l=a,function(t){return l&&-1!==l.indexOf(t)}))}o&&i.push(n)}}var l})),i}))},createElement:function(t){var e=new K;return e.ownerDocument=this,e.nodeName=t,e.tagName=t,e.localName=t,e.childNodes=new A,(e.attributes=new q)._ownerElement=e,e},createDocumentFragment:function(){var t=new lt;return t.ownerDocument=this,t.childNodes=new A,t},createTextNode:function(t){var e=new rt;return e.ownerDocument=this,e.appendData(t),e},createComment:function(t){var e=new it;return e.ownerDocument=this,e.appendData(t),e},createCDATASection:function(t){var e=new nt;return e.ownerDocument=this,e.appendData(t),e},createProcessingInstruction:function(t,e){var r=new ht;return r.ownerDocument=this,r.tagName=r.nodeName=r.target=t,r.nodeValue=r.data=e,r},createAttribute:function(t){var e=new tt;return e.ownerDocument=this,e.name=t,e.nodeName=t,e.localName=t,e.specified=!0,e},createEntityReference:function(t){var e=new ct;return e.ownerDocument=this,e.nodeName=t,e},createElementNS:function(t,e){var r=new K,i=e.split(":"),n=r.attributes=new q;return r.childNodes=new A,r.ownerDocument=this,r.nodeName=e,r.tagName=e,r.namespaceURI=t,2==i.length?(r.prefix=i[0],r.localName=i[1]):r.localName=e,n._ownerElement=r,r},createAttributeNS:function(t,e){var r=new tt,i=e.split(":");return r.ownerDocument=this,r.nodeName=e,r.name=e,r.namespaceURI=t,r.specified=!0,2==i.length?(r.prefix=i[0],r.localName=i[1]):r.localName=e,r}},h(F,j),K.prototype={nodeType:d,hasAttribute:function(t){return null!=this.getAttributeNode(t)},getAttribute:function(t){var e=this.getAttributeNode(t);return e&&e.value||""},getAttributeNode:function(t){return this.attributes.getNamedItem(t)},setAttribute:function(t,e){var r=this.ownerDocument.createAttribute(t);r.value=r.nodeValue=""+e,this.setAttributeNode(r)},removeAttribute:function(t){var e=this.getAttributeNode(t);e&&this.removeAttributeNode(e)},appendChild:function(t){return t.nodeType===E?this.insertBefore(t,null):function(t,e){return e.parentNode&&e.parentNode.removeChild(e),e.parentNode=t,e.previousSibling=t.lastChild,e.nextSibling=null,e.previousSibling?e.previousSibling.nextSibling=e:t.firstChild=e,t.lastChild=e,W(t.ownerDocument,t,e),e}(this,t)},setAttributeNode:function(t){return this.attributes.setNamedItem(t)},setAttributeNodeNS:function(t){return this.attributes.setNamedItemNS(t)},removeAttributeNode:function(t){return this.attributes.removeNamedItem(t.nodeName)},removeAttributeNS:function(t,e){var r=this.getAttributeNodeNS(t,e);r&&this.removeAttributeNode(r)},hasAttributeNS:function(t,e){return null!=this.getAttributeNodeNS(t,e)},getAttributeNS:function(t,e){var r=this.getAttributeNodeNS(t,e);return r&&r.value||""},setAttributeNS:function(t,e,r){var i=this.ownerDocument.createAttributeNS(t,e);i.value=i.nodeValue=""+r,this.setAttributeNode(i)},getAttributeNodeNS:function(t,e){return this.attributes.getNamedItemNS(t,e)},getElementsByTagName:function(t){return new L(this,(function(e){var r=[];return U(e,(function(i){i===e||i.nodeType!=d||"*"!==t&&i.tagName!=t||r.push(i)})),r}))},getElementsByTagNameNS:function(t,e){return new L(this,(function(r){var i=[];return U(r,(function(n){n===r||n.nodeType!==d||"*"!==t&&n.namespaceURI!==t||"*"!==e&&n.localName!=e||i.push(n)})),i}))}},F.prototype.getElementsByTagName=K.prototype.getElementsByTagName,F.prototype.getElementsByTagNameNS=K.prototype.getElementsByTagNameNS,h(K,j),tt.prototype.nodeType=p,h(tt,j),et.prototype={data:"",substringData:function(t,e){return this.data.substring(t,t+e)},appendData:function(t){t=this.data+t,this.nodeValue=this.data=t,this.length=t.length},insertData:function(t,e){this.replaceData(t,0,e)},appendChild:function(t){throw new Error(k[S])},deleteData:function(t,e){this.replaceData(t,e,"")},replaceData:function(t,e,r){r=this.data.substring(0,t)+r+this.data.substring(t+e),this.nodeValue=this.data=r,this.length=r.length}},h(et,j),rt.prototype={nodeName:"#text",nodeType:f,splitText:function(t){var e=this.data,r=e.substring(t);e=e.substring(0,t),this.data=this.nodeValue=e,this.length=e.length;var i=this.ownerDocument.createTextNode(r);return this.parentNode&&this.parentNode.insertBefore(i,this.nextSibling),i}},h(rt,et),it.prototype={nodeName:"#comment",nodeType:w},h(it,et),nt.prototype={nodeName:"#cdata-section",nodeType:g},h(nt,et),st.prototype.nodeType=x,h(st,j),ot.prototype.nodeType=N,h(ot,j),at.prototype.nodeType=v,h(at,j),ct.prototype.nodeType=m,h(ct,j),lt.prototype.nodeName="#document-fragment",lt.prototype.nodeType=E,h(lt,j),ht.prototype.nodeType=y,h(ht,j),ut.prototype.serializeToString=function(t,e,r){return dt.call(t,e,r)},j.prototype.toString=dt;try{if(Object.defineProperty){function wt(t){switch(t.nodeType){case d:case E:var e=[];for(t=t.firstChild;t;)7!==t.nodeType&&8!==t.nodeType&&e.push(wt(t)),t=t.nextSibling;return e.join("");default:return t.nodeValue}}Object.defineProperty(L.prototype,"length",{get:function(){return D(this),this.$$length}}),Object.defineProperty(j.prototype,"textContent",{get:function(){return wt(this)},set:function(t){switch(this.nodeType){case d:case E:for(;this.firstChild;)this.removeChild(this.firstChild);(t||String(t))&&this.appendChild(this.ownerDocument.createTextNode(t));break;default:this.data=t,this.value=t,this.nodeValue=t}}}),yt=function(t,e,r){t["$$"+e]=r}}}catch(bt){}e.DocumentType=st,e.DOMException=R,e.DOMImplementation=_,e.Element=K,e.Node=j,e.NodeList=A,e.XMLSerializer=ut},6559:(t,e,r)=>{"use strict";var i=r(4582).freeze;e.XML_ENTITIES=i({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),e.HTML_ENTITIES=i({Aacute:"Á",aacute:"á",Abreve:"Ă",abreve:"ă",ac:"∾",acd:"∿",acE:"∾̳",Acirc:"Â",acirc:"â",acute:"´",Acy:"А",acy:"а",AElig:"Æ",aelig:"æ",af:"⁡",Afr:"𝔄",afr:"𝔞",Agrave:"À",agrave:"à",alefsym:"ℵ",aleph:"ℵ",Alpha:"Α",alpha:"α",Amacr:"Ā",amacr:"ā",amalg:"⨿",AMP:"&",amp:"&",And:"⩓",and:"∧",andand:"⩕",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsd:"∡",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",Aogon:"Ą",aogon:"ą",Aopf:"𝔸",aopf:"𝕒",ap:"≈",apacir:"⩯",apE:"⩰",ape:"≊",apid:"≋",apos:"'",ApplyFunction:"⁡",approx:"≈",approxeq:"≊",Aring:"Å",aring:"å",Ascr:"𝒜",ascr:"𝒶",Assign:"≔",ast:"*",asymp:"≈",asympeq:"≍",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",awconint:"∳",awint:"⨑",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",Backslash:"∖",Barv:"⫧",barvee:"⊽",Barwed:"⌆",barwed:"⌅",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",Bcy:"Б",bcy:"б",bdquo:"„",becaus:"∵",Because:"∵",because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",Bernoullis:"ℬ",Beta:"Β",beta:"β",beth:"ℶ",between:"≬",Bfr:"𝔅",bfr:"𝔟",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bNot:"⫭",bnot:"⌐",Bopf:"𝔹",bopf:"𝕓",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxbox:"⧉",boxDL:"╗",boxDl:"╖",boxdL:"╕",boxdl:"┐",boxDR:"╔",boxDr:"╓",boxdR:"╒",boxdr:"┌",boxH:"═",boxh:"─",boxHD:"╦",boxHd:"╤",boxhD:"╥",boxhd:"┬",boxHU:"╩",boxHu:"╧",boxhU:"╨",boxhu:"┴",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxUL:"╝",boxUl:"╜",boxuL:"╛",boxul:"┘",boxUR:"╚",boxUr:"╙",boxuR:"╘",boxur:"└",boxV:"║",boxv:"│",boxVH:"╬",boxVh:"╫",boxvH:"╪",boxvh:"┼",boxVL:"╣",boxVl:"╢",boxvL:"╡",boxvl:"┤",boxVR:"╠",boxVr:"╟",boxvR:"╞",boxvr:"├",bprime:"‵",Breve:"˘",breve:"˘",brvbar:"¦",Bscr:"ℬ",bscr:"𝒷",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsol:"\\",bsolb:"⧅",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpE:"⪮",bumpe:"≏",Bumpeq:"≎",bumpeq:"≏",Cacute:"Ć",cacute:"ć",Cap:"⋒",cap:"∩",capand:"⩄",capbrcup:"⩉",capcap:"⩋",capcup:"⩇",capdot:"⩀",CapitalDifferentialD:"ⅅ",caps:"∩︀",caret:"⁁",caron:"ˇ",Cayleys:"ℭ",ccaps:"⩍",Ccaron:"Č",ccaron:"č",Ccedil:"Ç",ccedil:"ç",Ccirc:"Ĉ",ccirc:"ĉ",Cconint:"∰",ccups:"⩌",ccupssm:"⩐",Cdot:"Ċ",cdot:"ċ",cedil:"¸",Cedilla:"¸",cemptyv:"⦲",cent:"¢",CenterDot:"·",centerdot:"·",Cfr:"ℭ",cfr:"𝔠",CHcy:"Ч",chcy:"ч",check:"✓",checkmark:"✓",Chi:"Χ",chi:"χ",cir:"○",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",CircleDot:"⊙",circledR:"®",circledS:"Ⓢ",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",cirE:"⧃",cire:"≗",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",clubs:"♣",clubsuit:"♣",Colon:"∷",colon:":",Colone:"⩴",colone:"≔",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",Congruent:"≡",Conint:"∯",conint:"∮",ContourIntegral:"∮",Copf:"ℂ",copf:"𝕔",coprod:"∐",Coproduct:"∐",COPY:"©",copy:"©",copysr:"℗",CounterClockwiseContourIntegral:"∳",crarr:"↵",Cross:"⨯",cross:"✗",Cscr:"𝒞",cscr:"𝒸",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",Cup:"⋓",cup:"∪",cupbrcap:"⩈",CupCap:"≍",cupcap:"⩆",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curren:"¤",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",Dagger:"‡",dagger:"†",daleth:"ℸ",Darr:"↡",dArr:"⇓",darr:"↓",dash:"‐",Dashv:"⫤",dashv:"⊣",dbkarow:"⤏",dblac:"˝",Dcaron:"Ď",dcaron:"ď",Dcy:"Д",dcy:"д",DD:"ⅅ",dd:"ⅆ",ddagger:"‡",ddarr:"⇊",DDotrahd:"⤑",ddotseq:"⩷",deg:"°",Del:"∇",Delta:"Δ",delta:"δ",demptyv:"⦱",dfisht:"⥿",Dfr:"𝔇",dfr:"𝔡",dHar:"⥥",dharl:"⇃",dharr:"⇂",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",diam:"⋄",Diamond:"⋄",diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",DifferentialD:"ⅆ",digamma:"ϝ",disin:"⋲",div:"÷",divide:"÷",divideontimes:"⋇",divonx:"⋇",DJcy:"Ђ",djcy:"ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",Dopf:"𝔻",dopf:"𝕕",Dot:"¨",dot:"˙",DotDot:"⃜",doteq:"≐",doteqdot:"≑",DotEqual:"≐",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",DownArrow:"↓",Downarrow:"⇓",downarrow:"↓",DownArrowBar:"⤓",DownArrowUpArrow:"⇵",DownBreve:"̑",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVector:"↽",DownLeftVectorBar:"⥖",DownRightTeeVector:"⥟",DownRightVector:"⇁",DownRightVectorBar:"⥗",DownTee:"⊤",DownTeeArrow:"↧",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",Dscr:"𝒟",dscr:"𝒹",DScy:"Ѕ",dscy:"ѕ",dsol:"⧶",Dstrok:"Đ",dstrok:"đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",DZcy:"Џ",dzcy:"џ",dzigrarr:"⟿",Eacute:"É",eacute:"é",easter:"⩮",Ecaron:"Ě",ecaron:"ě",ecir:"≖",Ecirc:"Ê",ecirc:"ê",ecolon:"≕",Ecy:"Э",ecy:"э",eDDot:"⩷",Edot:"Ė",eDot:"≑",edot:"ė",ee:"ⅇ",efDot:"≒",Efr:"𝔈",efr:"𝔢",eg:"⪚",Egrave:"È",egrave:"è",egs:"⪖",egsdot:"⪘",el:"⪙",Element:"∈",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",Emacr:"Ē",emacr:"ē",empty:"∅",emptyset:"∅",EmptySmallSquare:"◻",emptyv:"∅",EmptyVerySmallSquare:"▫",emsp:" ",emsp13:" ",emsp14:" ",ENG:"Ŋ",eng:"ŋ",ensp:" ",Eogon:"Ę",eogon:"ę",Eopf:"𝔼",eopf:"𝕖",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",Epsilon:"Ε",epsilon:"ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",Equal:"⩵",equals:"=",EqualTilde:"≂",equest:"≟",Equilibrium:"⇌",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erarr:"⥱",erDot:"≓",Escr:"ℰ",escr:"ℯ",esdot:"≐",Esim:"⩳",esim:"≂",Eta:"Η",eta:"η",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",euro:"€",excl:"!",exist:"∃",Exists:"∃",expectation:"ℰ",ExponentialE:"ⅇ",exponentiale:"ⅇ",fallingdotseq:"≒",Fcy:"Ф",fcy:"ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",Ffr:"𝔉",ffr:"𝔣",filig:"ﬁ",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",Fopf:"𝔽",fopf:"𝕗",ForAll:"∀",forall:"∀",fork:"⋔",forkv:"⫙",Fouriertrf:"ℱ",fpartint:"⨍",frac12:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",Fscr:"ℱ",fscr:"𝒻",gacute:"ǵ",Gamma:"Γ",gamma:"γ",Gammad:"Ϝ",gammad:"ϝ",gap:"⪆",Gbreve:"Ğ",gbreve:"ğ",Gcedil:"Ģ",Gcirc:"Ĝ",gcirc:"ĝ",Gcy:"Г",gcy:"г",Gdot:"Ġ",gdot:"ġ",gE:"≧",ge:"≥",gEl:"⪌",gel:"⋛",geq:"≥",geqq:"≧",geqslant:"⩾",ges:"⩾",gescc:"⪩",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",Gfr:"𝔊",gfr:"𝔤",Gg:"⋙",gg:"≫",ggg:"⋙",gimel:"ℷ",GJcy:"Ѓ",gjcy:"ѓ",gl:"≷",gla:"⪥",glE:"⪒",glj:"⪤",gnap:"⪊",gnapprox:"⪊",gnE:"≩",gne:"⪈",gneq:"⪈",gneqq:"≩",gnsim:"⋧",Gopf:"𝔾",gopf:"𝕘",grave:"`",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",Gscr:"𝒢",gscr:"ℊ",gsim:"≳",gsime:"⪎",gsiml:"⪐",Gt:"≫",GT:">",gt:">",gtcc:"⪧",gtcir:"⩺",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",Hacek:"ˇ",hairsp:" ",half:"½",hamilt:"ℋ",HARDcy:"Ъ",hardcy:"ъ",hArr:"⇔",harr:"↔",harrcir:"⥈",harrw:"↭",Hat:"^",hbar:"ℏ",Hcirc:"Ĥ",hcirc:"ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",Hfr:"ℌ",hfr:"𝔥",HilbertSpace:"ℋ",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",Hopf:"ℍ",hopf:"𝕙",horbar:"―",HorizontalLine:"─",Hscr:"ℋ",hscr:"𝒽",hslash:"ℏ",Hstrok:"Ħ",hstrok:"ħ",HumpDownHump:"≎",HumpEqual:"≏",hybull:"⁃",hyphen:"‐",Iacute:"Í",iacute:"í",ic:"⁣",Icirc:"Î",icirc:"î",Icy:"И",icy:"и",Idot:"İ",IEcy:"Е",iecy:"е",iexcl:"¡",iff:"⇔",Ifr:"ℑ",ifr:"𝔦",Igrave:"Ì",igrave:"ì",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",IJlig:"Ĳ",ijlig:"ĳ",Im:"ℑ",Imacr:"Ī",imacr:"ī",image:"ℑ",ImaginaryI:"ⅈ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",imof:"⊷",imped:"Ƶ",Implies:"⇒",in:"∈",incare:"℅",infin:"∞",infintie:"⧝",inodot:"ı",Int:"∬",int:"∫",intcal:"⊺",integers:"ℤ",Integral:"∫",intercal:"⊺",Intersection:"⋂",intlarhk:"⨗",intprod:"⨼",InvisibleComma:"⁣",InvisibleTimes:"⁢",IOcy:"Ё",iocy:"ё",Iogon:"Į",iogon:"į",Iopf:"𝕀",iopf:"𝕚",Iota:"Ι",iota:"ι",iprod:"⨼",iquest:"¿",Iscr:"ℐ",iscr:"𝒾",isin:"∈",isindot:"⋵",isinE:"⋹",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",Itilde:"Ĩ",itilde:"ĩ",Iukcy:"І",iukcy:"і",Iuml:"Ï",iuml:"ï",Jcirc:"Ĵ",jcirc:"ĵ",Jcy:"Й",jcy:"й",Jfr:"𝔍",jfr:"𝔧",jmath:"ȷ",Jopf:"𝕁",jopf:"𝕛",Jscr:"𝒥",jscr:"𝒿",Jsercy:"Ј",jsercy:"ј",Jukcy:"Є",jukcy:"є",Kappa:"Κ",kappa:"κ",kappav:"ϰ",Kcedil:"Ķ",kcedil:"ķ",Kcy:"К",kcy:"к",Kfr:"𝔎",kfr:"𝔨",kgreen:"ĸ",KHcy:"Х",khcy:"х",KJcy:"Ќ",kjcy:"ќ",Kopf:"𝕂",kopf:"𝕜",Kscr:"𝒦",kscr:"𝓀",lAarr:"⇚",Lacute:"Ĺ",lacute:"ĺ",laemptyv:"⦴",lagran:"ℒ",Lambda:"Λ",lambda:"λ",Lang:"⟪",lang:"⟨",langd:"⦑",langle:"⟨",lap:"⪅",Laplacetrf:"ℒ",laquo:"«",Larr:"↞",lArr:"⇐",larr:"←",larrb:"⇤",larrbfs:"⤟",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",lat:"⪫",lAtail:"⤛",latail:"⤙",late:"⪭",lates:"⪭︀",lBarr:"⤎",lbarr:"⤌",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",Lcaron:"Ľ",lcaron:"ľ",Lcedil:"Ļ",lcedil:"ļ",lceil:"⌈",lcub:"{",Lcy:"Л",lcy:"л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",lE:"≦",le:"≤",LeftAngleBracket:"⟨",LeftArrow:"←",Leftarrow:"⇐",leftarrow:"←",LeftArrowBar:"⇤",LeftArrowRightArrow:"⇆",leftarrowtail:"↢",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVector:"⇃",LeftDownVectorBar:"⥙",LeftFloor:"⌊",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",LeftRightArrow:"↔",Leftrightarrow:"⇔",leftrightarrow:"↔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",LeftRightVector:"⥎",LeftTee:"⊣",LeftTeeArrow:"↤",LeftTeeVector:"⥚",leftthreetimes:"⋋",LeftTriangle:"⊲",LeftTriangleBar:"⧏",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVector:"↿",LeftUpVectorBar:"⥘",LeftVector:"↼",LeftVectorBar:"⥒",lEg:"⪋",leg:"⋚",leq:"≤",leqq:"≦",leqslant:"⩽",les:"⩽",lescc:"⪨",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",lessgtr:"≶",LessLess:"⪡",lesssim:"≲",LessSlantEqual:"⩽",LessTilde:"≲",lfisht:"⥼",lfloor:"⌊",Lfr:"𝔏",lfr:"𝔩",lg:"≶",lgE:"⪑",lHar:"⥢",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",LJcy:"Љ",ljcy:"љ",Ll:"⋘",ll:"≪",llarr:"⇇",llcorner:"⌞",Lleftarrow:"⇚",llhard:"⥫",lltri:"◺",Lmidot:"Ŀ",lmidot:"ŀ",lmoust:"⎰",lmoustache:"⎰",lnap:"⪉",lnapprox:"⪉",lnE:"≨",lne:"⪇",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",LongLeftArrow:"⟵",Longleftarrow:"⟸",longleftarrow:"⟵",LongLeftRightArrow:"⟷",Longleftrightarrow:"⟺",longleftrightarrow:"⟷",longmapsto:"⟼",LongRightArrow:"⟶",Longrightarrow:"⟹",longrightarrow:"⟶",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",Lopf:"𝕃",lopf:"𝕝",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",LowerLeftArrow:"↙",LowerRightArrow:"↘",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",Lscr:"ℒ",lscr:"𝓁",Lsh:"↰",lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",Lstrok:"Ł",lstrok:"ł",Lt:"≪",LT:"<",lt:"<",ltcc:"⪦",ltcir:"⩹",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltri:"◃",ltrie:"⊴",ltrif:"◂",ltrPar:"⦖",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",macr:"¯",male:"♂",malt:"✠",maltese:"✠",Map:"⤅",map:"↦",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",Mcy:"М",mcy:"м",mdash:"—",mDDot:"∺",measuredangle:"∡",MediumSpace:" ",Mellintrf:"ℳ",Mfr:"𝔐",mfr:"𝔪",mho:"℧",micro:"µ",mid:"∣",midast:"*",midcir:"⫰",middot:"·",minus:"−",minusb:"⊟",minusd:"∸",minusdu:"⨪",MinusPlus:"∓",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",Mopf:"𝕄",mopf:"𝕞",mp:"∓",Mscr:"ℳ",mscr:"𝓂",mstpos:"∾",Mu:"Μ",mu:"μ",multimap:"⊸",mumap:"⊸",nabla:"∇",Nacute:"Ń",nacute:"ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natur:"♮",natural:"♮",naturals:"ℕ",nbsp:" ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",Ncaron:"Ň",ncaron:"ň",Ncedil:"Ņ",ncedil:"ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",Ncy:"Н",ncy:"н",ndash:"–",ne:"≠",nearhk:"⤤",neArr:"⇗",nearr:"↗",nearrow:"↗",nedot:"≐̸",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",nequiv:"≢",nesear:"⤨",nesim:"≂̸",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:"\n",nexist:"∄",nexists:"∄",Nfr:"𝔑",nfr:"𝔫",ngE:"≧̸",nge:"≱",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",nGg:"⋙̸",ngsim:"≵",nGt:"≫⃒",ngt:"≯",ngtr:"≯",nGtv:"≫̸",nhArr:"⇎",nharr:"↮",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",NJcy:"Њ",njcy:"њ",nlArr:"⇍",nlarr:"↚",nldr:"‥",nlE:"≦̸",nle:"≰",nLeftarrow:"⇍",nleftarrow:"↚",nLeftrightarrow:"⇎",nleftrightarrow:"↮",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nLl:"⋘̸",nlsim:"≴",nLt:"≪⃒",nlt:"≮",nltri:"⋪",nltrie:"⋬",nLtv:"≪̸",nmid:"∤",NoBreak:"⁠",NonBreakingSpace:" ",Nopf:"ℕ",nopf:"𝕟",Not:"⫬",not:"¬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",notin:"∉",notindot:"⋵̸",notinE:"⋹̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",NotLeftTriangle:"⋪",NotLeftTriangleBar:"⧏̸",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangle:"⋫",NotRightTriangleBar:"⧐̸",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",npar:"∦",nparallel:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",npre:"⪯̸",nprec:"⊀",npreceq:"⪯̸",nrArr:"⇏",nrarr:"↛",nrarrc:"⤳̸",nrarrw:"↝̸",nRightarrow:"⇏",nrightarrow:"↛",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",Nscr:"𝒩",nscr:"𝓃",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsubE:"⫅̸",nsube:"⊈",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupE:"⫆̸",nsupe:"⊉",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",Ntilde:"Ñ",ntilde:"ñ",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",Nu:"Ν",nu:"ν",num:"#",numero:"№",numsp:" ",nvap:"≍⃒",nVDash:"⊯",nVdash:"⊮",nvDash:"⊭",nvdash:"⊬",nvge:"≥⃒",nvgt:">⃒",nvHarr:"⤄",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwarhk:"⤣",nwArr:"⇖",nwarr:"↖",nwarrow:"↖",nwnear:"⤧",Oacute:"Ó",oacute:"ó",oast:"⊛",ocir:"⊚",Ocirc:"Ô",ocirc:"ô",Ocy:"О",ocy:"о",odash:"⊝",Odblac:"Ő",odblac:"ő",odiv:"⨸",odot:"⊙",odsold:"⦼",OElig:"Œ",oelig:"œ",ofcir:"⦿",Ofr:"𝔒",ofr:"𝔬",ogon:"˛",Ograve:"Ò",ograve:"ò",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",Omacr:"Ō",omacr:"ō",Omega:"Ω",omega:"ω",Omicron:"Ο",omicron:"ο",omid:"⦶",ominus:"⊖",Oopf:"𝕆",oopf:"𝕠",opar:"⦷",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",operp:"⦹",oplus:"⊕",Or:"⩔",or:"∨",orarr:"↻",ord:"⩝",order:"ℴ",orderof:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oS:"Ⓢ",Oscr:"𝒪",oscr:"ℴ",Oslash:"Ø",oslash:"ø",osol:"⊘",Otilde:"Õ",otilde:"õ",Otimes:"⨷",otimes:"⊗",otimesas:"⨶",Ouml:"Ö",ouml:"ö",ovbar:"⌽",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",par:"∥",para:"¶",parallel:"∥",parsim:"⫳",parsl:"⫽",part:"∂",PartialD:"∂",Pcy:"П",pcy:"п",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",Pfr:"𝔓",pfr:"𝔭",Phi:"Φ",phi:"φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",Pi:"Π",pi:"π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plus:"+",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plusdo:"∔",plusdu:"⨥",pluse:"⩲",PlusMinus:"±",plusmn:"±",plussim:"⨦",plustwo:"⨧",pm:"±",Poincareplane:"ℌ",pointint:"⨕",Popf:"ℙ",popf:"𝕡",pound:"£",Pr:"⪻",pr:"≺",prap:"⪷",prcue:"≼",prE:"⪳",pre:"⪯",prec:"≺",precapprox:"⪷",preccurlyeq:"≼",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",precsim:"≾",Prime:"″",prime:"′",primes:"ℙ",prnap:"⪹",prnE:"⪵",prnsim:"⋨",prod:"∏",Product:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",Proportion:"∷",Proportional:"∝",propto:"∝",prsim:"≾",prurel:"⊰",Pscr:"𝒫",pscr:"𝓅",Psi:"Ψ",psi:"ψ",puncsp:" ",Qfr:"𝔔",qfr:"𝔮",qint:"⨌",Qopf:"ℚ",qopf:"𝕢",qprime:"⁗",Qscr:"𝒬",qscr:"𝓆",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",QUOT:'"',quot:'"',rAarr:"⇛",race:"∽̱",Racute:"Ŕ",racute:"ŕ",radic:"√",raemptyv:"⦳",Rang:"⟫",rang:"⟩",rangd:"⦒",range:"⦥",rangle:"⟩",raquo:"»",Rarr:"↠",rArr:"⇒",rarr:"→",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",Rarrtl:"⤖",rarrtl:"↣",rarrw:"↝",rAtail:"⤜",ratail:"⤚",ratio:"∶",rationals:"ℚ",RBarr:"⤐",rBarr:"⤏",rbarr:"⤍",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",Rcaron:"Ř",rcaron:"ř",Rcedil:"Ŗ",rcedil:"ŗ",rceil:"⌉",rcub:"}",Rcy:"Р",rcy:"р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",Re:"ℜ",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",rect:"▭",REG:"®",reg:"®",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",rfisht:"⥽",rfloor:"⌋",Rfr:"ℜ",rfr:"𝔯",rHar:"⥤",rhard:"⇁",rharu:"⇀",rharul:"⥬",Rho:"Ρ",rho:"ρ",rhov:"ϱ",RightAngleBracket:"⟩",RightArrow:"→",Rightarrow:"⇒",rightarrow:"→",RightArrowBar:"⇥",RightArrowLeftArrow:"⇄",rightarrowtail:"↣",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVector:"⇂",RightDownVectorBar:"⥕",RightFloor:"⌋",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",RightTee:"⊢",RightTeeArrow:"↦",RightTeeVector:"⥛",rightthreetimes:"⋌",RightTriangle:"⊳",RightTriangleBar:"⧐",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVector:"↾",RightUpVectorBar:"⥔",RightVector:"⇀",RightVectorBar:"⥓",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoust:"⎱",rmoustache:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",Ropf:"ℝ",ropf:"𝕣",roplus:"⨮",rotimes:"⨵",RoundImplies:"⥰",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",Rrightarrow:"⇛",rsaquo:"›",Rscr:"ℛ",rscr:"𝓇",Rsh:"↱",rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",RuleDelayed:"⧴",ruluhar:"⥨",rx:"℞",Sacute:"Ś",sacute:"ś",sbquo:"‚",Sc:"⪼",sc:"≻",scap:"⪸",Scaron:"Š",scaron:"š",sccue:"≽",scE:"⪴",sce:"⪰",Scedil:"Ş",scedil:"ş",Scirc:"Ŝ",scirc:"ŝ",scnap:"⪺",scnE:"⪶",scnsim:"⋩",scpolint:"⨓",scsim:"≿",Scy:"С",scy:"с",sdot:"⋅",sdotb:"⊡",sdote:"⩦",searhk:"⤥",seArr:"⇘",searr:"↘",searrow:"↘",sect:"§",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",Sfr:"𝔖",sfr:"𝔰",sfrown:"⌢",sharp:"♯",SHCHcy:"Щ",shchcy:"щ",SHcy:"Ш",shcy:"ш",ShortDownArrow:"↓",ShortLeftArrow:"←",shortmid:"∣",shortparallel:"∥",ShortRightArrow:"→",ShortUpArrow:"↑",shy:"­",Sigma:"Σ",sigma:"σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",SmallCircle:"∘",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",SOFTcy:"Ь",softcy:"ь",sol:"/",solb:"⧄",solbar:"⌿",Sopf:"𝕊",sopf:"𝕤",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",Sqrt:"√",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",squ:"□",Square:"□",square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",squarf:"▪",squf:"▪",srarr:"→",Sscr:"𝒮",sscr:"𝓈",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",Star:"⋆",star:"☆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",Sub:"⋐",sub:"⊂",subdot:"⪽",subE:"⫅",sube:"⊆",subedot:"⫃",submult:"⫁",subnE:"⫋",subne:"⊊",subplus:"⪿",subrarr:"⥹",Subset:"⋐",subset:"⊂",subseteq:"⊆",subseteqq:"⫅",SubsetEqual:"⊆",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succ:"≻",succapprox:"⪸",succcurlyeq:"≽",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",SuchThat:"∋",Sum:"∑",sum:"∑",sung:"♪",Sup:"⋑",sup:"⊃",sup1:"¹",sup2:"²",sup3:"³",supdot:"⪾",supdsub:"⫘",supE:"⫆",supe:"⊇",supedot:"⫄",Superset:"⊃",SupersetEqual:"⊇",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supnE:"⫌",supne:"⊋",supplus:"⫀",Supset:"⋑",supset:"⊃",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swarhk:"⤦",swArr:"⇙",swarr:"↙",swarrow:"↙",swnwar:"⤪",szlig:"ß",Tab:"\t",target:"⌖",Tau:"Τ",tau:"τ",tbrk:"⎴",Tcaron:"Ť",tcaron:"ť",Tcedil:"Ţ",tcedil:"ţ",Tcy:"Т",tcy:"т",tdot:"⃛",telrec:"⌕",Tfr:"𝔗",tfr:"𝔱",there4:"∴",Therefore:"∴",therefore:"∴",Theta:"Θ",theta:"θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",ThickSpace:"  ",thinsp:" ",ThinSpace:" ",thkap:"≈",thksim:"∼",THORN:"Þ",thorn:"þ",Tilde:"∼",tilde:"˜",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",times:"×",timesb:"⊠",timesbar:"⨱",timesd:"⨰",tint:"∭",toea:"⤨",top:"⊤",topbot:"⌶",topcir:"⫱",Topf:"𝕋",topf:"𝕥",topfork:"⫚",tosa:"⤩",tprime:"‴",TRADE:"™",trade:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",TripleDot:"⃛",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",Tscr:"𝒯",tscr:"𝓉",TScy:"Ц",tscy:"ц",TSHcy:"Ћ",tshcy:"ћ",Tstrok:"Ŧ",tstrok:"ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",Uacute:"Ú",uacute:"ú",Uarr:"↟",uArr:"⇑",uarr:"↑",Uarrocir:"⥉",Ubrcy:"Ў",ubrcy:"ў",Ubreve:"Ŭ",ubreve:"ŭ",Ucirc:"Û",ucirc:"û",Ucy:"У",ucy:"у",udarr:"⇅",Udblac:"Ű",udblac:"ű",udhar:"⥮",ufisht:"⥾",Ufr:"𝔘",ufr:"𝔲",Ugrave:"Ù",ugrave:"ù",uHar:"⥣",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",Umacr:"Ū",umacr:"ū",uml:"¨",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",Uogon:"Ų",uogon:"ų",Uopf:"𝕌",uopf:"𝕦",UpArrow:"↑",Uparrow:"⇑",uparrow:"↑",UpArrowBar:"⤒",UpArrowDownArrow:"⇅",UpDownArrow:"↕",Updownarrow:"⇕",updownarrow:"↕",UpEquilibrium:"⥮",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",UpperLeftArrow:"↖",UpperRightArrow:"↗",Upsi:"ϒ",upsi:"υ",upsih:"ϒ",Upsilon:"Υ",upsilon:"υ",UpTee:"⊥",UpTeeArrow:"↥",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",Uring:"Ů",uring:"ů",urtri:"◹",Uscr:"𝒰",uscr:"𝓊",utdot:"⋰",Utilde:"Ũ",utilde:"ũ",utri:"▵",utrif:"▴",uuarr:"⇈",Uuml:"Ü",uuml:"ü",uwangle:"⦧",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",vArr:"⇕",varr:"↕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",Vbar:"⫫",vBar:"⫨",vBarv:"⫩",Vcy:"В",vcy:"в",VDash:"⊫",Vdash:"⊩",vDash:"⊨",vdash:"⊢",Vdashl:"⫦",Vee:"⋁",vee:"∨",veebar:"⊻",veeeq:"≚",vellip:"⋮",Verbar:"‖",verbar:"|",Vert:"‖",vert:"|",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",Vfr:"𝔙",vfr:"𝔳",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",Vopf:"𝕍",vopf:"𝕧",vprop:"∝",vrtri:"⊳",Vscr:"𝒱",vscr:"𝓋",vsubnE:"⫋︀",vsubne:"⊊︀",vsupnE:"⫌︀",vsupne:"⊋︀",Vvdash:"⊪",vzigzag:"⦚",Wcirc:"Ŵ",wcirc:"ŵ",wedbar:"⩟",Wedge:"⋀",wedge:"∧",wedgeq:"≙",weierp:"℘",Wfr:"𝔚",wfr:"𝔴",Wopf:"𝕎",wopf:"𝕨",wp:"℘",wr:"≀",wreath:"≀",Wscr:"𝒲",wscr:"𝓌",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",Xfr:"𝔛",xfr:"𝔵",xhArr:"⟺",xharr:"⟷",Xi:"Ξ",xi:"ξ",xlArr:"⟸",xlarr:"⟵",xmap:"⟼",xnis:"⋻",xodot:"⨀",Xopf:"𝕏",xopf:"𝕩",xoplus:"⨁",xotime:"⨂",xrArr:"⟹",xrarr:"⟶",Xscr:"𝒳",xscr:"𝓍",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",Yacute:"Ý",yacute:"ý",YAcy:"Я",yacy:"я",Ycirc:"Ŷ",ycirc:"ŷ",Ycy:"Ы",ycy:"ы",yen:"¥",Yfr:"𝔜",yfr:"𝔶",YIcy:"Ї",yicy:"ї",Yopf:"𝕐",yopf:"𝕪",Yscr:"𝒴",yscr:"𝓎",YUcy:"Ю",yucy:"ю",Yuml:"Ÿ",yuml:"ÿ",Zacute:"Ź",zacute:"ź",Zcaron:"Ž",zcaron:"ž",Zcy:"З",zcy:"з",Zdot:"Ż",zdot:"ż",zeetrf:"ℨ",ZeroWidthSpace:"​",Zeta:"Ζ",zeta:"ζ",Zfr:"ℨ",zfr:"𝔷",ZHcy:"Ж",zhcy:"ж",zigrarr:"⇝",Zopf:"ℤ",zopf:"𝕫",Zscr:"𝒵",zscr:"𝓏",zwj:"‍",zwnj:"‌"}),e.entityMap=e.HTML_ENTITIES},8978:(t,e,r)=>{var i=r(4722);i.DOMImplementation,i.XMLSerializer,e.DOMParser=r(5752).DOMParser},4466:(t,e,r)=>{var i=r(4582).NAMESPACE,n=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,s=new RegExp("[\\-\\.0-9"+n.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),o=new RegExp("^"+n.source+s.source+"*(?::"+n.source+s.source+"*)?$");function a(t,e){this.message=t,this.locator=e,Error.captureStackTrace&&Error.captureStackTrace(this,a)}function c(){}function l(t,e){return e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber,e}function h(t,e,r,n,s,o){function a(t,e,i){r.attributeNames.hasOwnProperty(t)&&o.fatalError("Attribute "+t+" redefined"),r.addValue(t,e.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,s),i)}for(var c,l=++e,h=0;;){var u=t.charAt(l);switch(u){case"=":if(1===h)c=t.slice(e,l),h=3;else{if(2!==h)throw new Error("attribute equal must after attrName");h=3}break;case"'":case'"':if(3===h||1===h){if(1===h&&(o.warning('attribute value must after "="'),c=t.slice(e,l)),e=l+1,!((l=t.indexOf(u,e))>0))throw new Error("attribute value no end '"+u+"' match");a(c,d=t.slice(e,l),e-1),h=5}else{if(4!=h)throw new Error('attribute value must after "="');a(c,d=t.slice(e,l),e),o.warning('attribute "'+c+'" missed start quot('+u+")!!"),e=l+1,h=5}break;case"/":switch(h){case 0:r.setTagName(t.slice(e,l));case 5:case 6:case 7:h=7,r.closed=!0;case 4:case 1:break;case 2:r.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return o.error("unexpected end of input"),0==h&&r.setTagName(t.slice(e,l)),l;case">":switch(h){case 0:r.setTagName(t.slice(e,l));case 5:case 6:case 7:break;case 4:case 1:"/"===(d=t.slice(e,l)).slice(-1)&&(r.closed=!0,d=d.slice(0,-1));case 2:2===h&&(d=c),4==h?(o.warning('attribute "'+d+'" missed quot(")!'),a(c,d,e)):(i.isHTML(n[""])&&d.match(/^(?:disabled|checked|selected)$/i)||o.warning('attribute "'+d+'" missed value!! "'+d+'" instead!!'),a(d,d,e));break;case 3:throw new Error("attribute value missed!!")}return l;case"":u=" ";default:if(u<=" ")switch(h){case 0:r.setTagName(t.slice(e,l)),h=6;break;case 1:c=t.slice(e,l),h=2;break;case 4:var d=t.slice(e,l);o.warning('attribute "'+d+'" missed quot(")!!'),a(c,d,e);case 5:h=6}else switch(h){case 2:r.tagName,i.isHTML(n[""])&&c.match(/^(?:disabled|checked|selected)$/i)||o.warning('attribute "'+c+'" missed value!! "'+c+'" instead2!!'),a(c,c,e),e=l,h=1;break;case 5:o.warning('attribute space is required"'+c+'"!!');case 6:h=1,e=l;break;case 3:h=4,e=l;break;case 7:throw new Error("elements closed character '/' and '>' must be connected to")}}l++}}function u(t,e,r){for(var n=t.tagName,s=null,o=t.length;o--;){var a=t[o],c=a.qName,l=a.value;if((p=c.indexOf(":"))>0)var h=a.prefix=c.slice(0,p),u=c.slice(p+1),d="xmlns"===h&&u;else u=c,h=null,d="xmlns"===c&&"";a.localName=u,!1!==d&&(null==s&&(s={},f(r,r={})),r[d]=s[d]=l,a.uri=i.XMLNS,e.startPrefixMapping(d,l))}for(o=t.length;o--;)(h=(a=t[o]).prefix)&&("xml"===h&&(a.uri=i.XML),"xmlns"!==h&&(a.uri=r[h||""]));var p;(p=n.indexOf(":"))>0?(h=t.prefix=n.slice(0,p),u=t.localName=n.slice(p+1)):(h=null,u=t.localName=n);var g=t.uri=r[h||""];if(e.startElement(g,u,n,t),!t.closed)return t.currentNSMap=r,t.localNSMap=s,!0;if(e.endElement(g,u,n),s)for(h in s)Object.prototype.hasOwnProperty.call(s,h)&&e.endPrefixMapping(h)}function d(t,e,r,i,n){if(/^(?:script|textarea)$/i.test(r)){var s=t.indexOf("</"+r+">",e),o=t.substring(e+1,s);if(/[&<]/.test(o))return/^script$/i.test(r)?(n.characters(o,0,o.length),s):(o=o.replace(/&#?\w+;/g,i),n.characters(o,0,o.length),s)}return e+1}function p(t,e,r,i){var n=i[r];return null==n&&((n=t.lastIndexOf("</"+r+">"))<e&&(n=t.lastIndexOf("</"+r)),i[r]=n),n<e}function f(t,e){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}function g(t,e,r,i){if("-"===t.charAt(e+2))return"-"===t.charAt(e+3)?(n=t.indexOf("--\x3e",e+4))>e?(r.comment(t,e+4,n-e-4),n+3):(i.error("Unclosed comment"),-1):-1;if("CDATA["==t.substr(e+3,6)){var n=t.indexOf("]]>",e+9);return r.startCDATA(),r.characters(t,e+9,n-e-9),r.endCDATA(),n+3}var s=function(t,e){var r,i=[],n=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(n.lastIndex=e,n.exec(t);r=n.exec(t);)if(i.push(r),r[1])return i}(t,e),o=s.length;if(o>1&&/!doctype/i.test(s[0][0])){var a=s[1][0],c=!1,l=!1;o>3&&(/^public$/i.test(s[2][0])?(c=s[3][0],l=o>4&&s[4][0]):/^system$/i.test(s[2][0])&&(l=s[3][0]));var h=s[o-1];return r.startDTD(a,c,l),r.endDTD(),h.index+h[0].length}return-1}function m(t,e,r){var i=t.indexOf("?>",e);if(i){var n=t.substring(e,i).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return n?(n[0].length,r.processingInstruction(n[1],n[2]),i+2):-1}return-1}function v(){this.attributeNames={}}a.prototype=new Error,a.prototype.name=a.name,c.prototype={parse:function(t,e,r){var n=this.domBuilder;n.startDocument(),f(e,e={}),function(t,e,r,n,s){function o(t){var e=t.slice(1,-1);return Object.hasOwnProperty.call(r,e)?r[e]:"#"===e.charAt(0)?function(t){if(t>65535){var e=55296+((t-=65536)>>10),r=56320+(1023&t);return String.fromCharCode(e,r)}return String.fromCharCode(t)}(parseInt(e.substr(1).replace("x","0x"))):(s.error("entity not found:"+t),t)}function c(e){if(e>T){var r=t.substring(T,e).replace(/&#?\w+;/g,o);x&&f(T),n.characters(r,0,e-T),T=e}}function f(e,r){for(;e>=w&&(r=b.exec(t));)y=r.index,w=y+r[0].length,x.lineNumber++;x.columnNumber=e-y+1}for(var y=0,w=0,b=/.*(?:\r\n?|\n)|.*$/g,x=n.locator,E=[{currentNSMap:e}],N={},T=0;;){try{var k=t.indexOf("<",T);if(k<0){if(!t.substr(T).match(/^\s*$/)){var S=n.doc,C=S.createTextNode(t.substr(T));S.appendChild(C),n.currentElement=C}return}switch(k>T&&c(k),t.charAt(k+1)){case"/":var O=t.indexOf(">",k+3),R=t.substring(k+2,O).replace(/[ \t\n\r]+$/g,""),A=E.pop();O<0?(R=t.substring(k+2).replace(/[\s<].*/,""),s.error("end tag name: "+R+" is not complete:"+A.tagName),O=k+1+R.length):R.match(/\s</)&&(R=R.replace(/[\s<].*/,""),s.error("end tag name: "+R+" maybe not complete"),O=k+1+R.length);var L=A.localNSMap,D=A.tagName==R;if(D||A.tagName&&A.tagName.toLowerCase()==R.toLowerCase()){if(n.endElement(A.uri,A.localName,R),L)for(var q in L)Object.prototype.hasOwnProperty.call(L,q)&&n.endPrefixMapping(q);D||s.fatalError("end tag name: "+R+" is not match the current start tagName:"+A.tagName)}else E.push(A);O++;break;case"?":x&&f(k),O=m(t,k,n);break;case"!":x&&f(k),O=g(t,k,n,s);break;default:x&&f(k);var I=new v,M=E[E.length-1].currentNSMap,P=(O=h(t,k,I,M,o,s),I.length);if(!I.closed&&p(t,O,I.tagName,N)&&(I.closed=!0,r.nbsp||s.warning("unclosed xml attribute")),x&&P){for(var _=l(x,{}),j=0;j<P;j++){var B=I[j];f(B.offset),B.locator=l(x,{})}n.locator=_,u(I,n,M)&&E.push(I),n.locator=x}else u(I,n,M)&&E.push(I);i.isHTML(I.uri)&&!I.closed?O=d(t,O,I.tagName,o,n):O++}}catch(t){if(t instanceof a)throw t;s.error("element parse error: "+t),O=-1}O>T?T=O:c(Math.max(k,T)+1)}}(t,e,r,n,this.errorHandler),n.endDocument()}},v.prototype={setTagName:function(t){if(!o.test(t))throw new Error("invalid tagName:"+t);this.tagName=t},addValue:function(t,e,r){if(!o.test(t))throw new Error("invalid attribute:"+t);this.attributeNames[t]=this.length,this[this.length++]={qName:t,value:e,offset:r}},length:0,getLocalName:function(t){return this[t].localName},getLocator:function(t){return this[t].locator},getQName:function(t){return this[t].qName},getURI:function(t){return this[t].uri},getValue:function(t){return this[t].value}},e.XMLReader=c,e.ParseError=a},8263:(t,e,r)=>{"use strict";var i=r(8175),n=r(6873),s=r(6596),o=r(148),a=r(214);(t.exports=function(t,e){var r,n,c,l,h;return arguments.length<2||"string"!=typeof t?(l=e,e=t,t=null):l=arguments[2],i(t)?(r=a.call(t,"c"),n=a.call(t,"e"),c=a.call(t,"w")):(r=c=!0,n=!1),h={value:e,configurable:r,enumerable:n,writable:c},l?s(o(l),h):h}).gs=function(t,e,r){var c,l,h,u;return"string"!=typeof t?(h=r,r=e,e=t,t=null):h=arguments[3],i(e)?n(e)?i(r)?n(r)||(h=r,r=void 0):r=void 0:(h=e,e=r=void 0):e=void 0,i(t)?(c=a.call(t,"c"),l=a.call(t,"e")):(c=!0,l=!1),u={get:e,set:r,configurable:c,enumerable:l},h?s(o(h),u):u}},6011:t=>{"use strict";t.exports=function(){}},6596:(t,e,r)=>{"use strict";t.exports=r(5339)()?Object.assign:r(3595)},5339:t=>{"use strict";t.exports=function(){var t,e=Object.assign;return"function"==typeof e&&(e(t={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),t.foo+t.bar+t.trzy==="razdwatrzy")}},3595:(t,e,r)=>{"use strict";var i=r(2093),n=r(7134),s=Math.max;t.exports=function(t,e){var r,o,a,c=s(arguments.length,2);for(t=Object(n(t)),a=function(i){try{t[i]=e[i]}catch(t){r||(r=t)}},o=1;o<c;++o)i(e=arguments[o]).forEach(a);if(void 0!==r)throw r;return t}},9762:(t,e,r)=>{"use strict";var i=r(6011)();t.exports=function(t){return t!==i&&null!==t}},2093:(t,e,r)=>{"use strict";t.exports=r(3380)()?Object.keys:r(4232)},3380:t=>{"use strict";t.exports=function(){try{return Object.keys("primitive"),!0}catch(t){return!1}}},4232:(t,e,r)=>{"use strict";var i=r(9762),n=Object.keys;t.exports=function(t){return n(i(t)?Object(t):t)}},148:(t,e,r)=>{"use strict";var i=r(9762),n=Array.prototype.forEach,s=Object.create;t.exports=function(t){var e=s(null);return n.call(arguments,(function(t){i(t)&&function(t,e){var r;for(r in t)e[r]=t[r]}(Object(t),e)})),e}},5499:t=>{"use strict";t.exports=function(t){if("function"!=typeof t)throw new TypeError(t+" is not a function");return t}},7134:(t,e,r)=>{"use strict";var i=r(9762);t.exports=function(t){if(!i(t))throw new TypeError("Cannot use null or undefined");return t}},214:(t,e,r)=>{"use strict";t.exports=r(525)()?String.prototype.contains:r(1521)},525:t=>{"use strict";var e="razdwatrzy";t.exports=function(){return"function"==typeof e.contains&&!0===e.contains("dwa")&&!1===e.contains("foo")}},1521:t=>{"use strict";var e=String.prototype.indexOf;t.exports=function(t){return e.call(this,t,arguments[1])>-1}},3068:(t,e,r)=>{"use strict";var i,n,s,o,a,c,l,h=r(8263),u=r(5499),d=Function.prototype.apply,p=Function.prototype.call,f=Object.create,g=Object.defineProperty,m=Object.defineProperties,v=Object.prototype.hasOwnProperty,y={configurable:!0,enumerable:!1,writable:!0};n=function(t,e){var r,n;return u(e),n=this,i.call(this,t,r=function(){s.call(n,t,r),d.call(e,this,arguments)}),r.__eeOnceListener__=e,this},a={on:i=function(t,e){var r;return u(e),v.call(this,"__ee__")?r=this.__ee__:(r=y.value=f(null),g(this,"__ee__",y),y.value=null),r[t]?"object"==typeof r[t]?r[t].push(e):r[t]=[r[t],e]:r[t]=e,this},once:n,off:s=function(t,e){var r,i,n,s;if(u(e),!v.call(this,"__ee__"))return this;if(!(r=this.__ee__)[t])return this;if("object"==typeof(i=r[t]))for(s=0;n=i[s];++s)n!==e&&n.__eeOnceListener__!==e||(2===i.length?r[t]=i[s?0:1]:i.splice(s,1));else i!==e&&i.__eeOnceListener__!==e||delete r[t];return this},emit:o=function(t){var e,r,i,n,s;if(v.call(this,"__ee__")&&(n=this.__ee__[t]))if("object"==typeof n){for(r=arguments.length,s=new Array(r-1),e=1;e<r;++e)s[e-1]=arguments[e];for(n=n.slice(),e=0;i=n[e];++e)d.call(i,this,s)}else switch(arguments.length){case 1:p.call(n,this);break;case 2:p.call(n,this,arguments[1]);break;case 3:p.call(n,this,arguments[1],arguments[2]);break;default:for(r=arguments.length,s=new Array(r-1),e=1;e<r;++e)s[e-1]=arguments[e];d.call(n,this,s)}}},c={on:h(i),once:h(n),off:h(s),emit:h(o)},l=m({},c),t.exports=e=function(t){return null==t?f(l):m(Object(t),c)},e.methods=a},1873:(t,e,r)=>{var i=r(9325).Symbol;t.exports=i},2552:(t,e,r)=>{var i=r(1873),n=r(659),s=r(9350),o=i?i.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":o&&o in Object(t)?n(t):s(t)}},4128:(t,e,r)=>{var i=r(1800),n=/^\s+/;t.exports=function(t){return t?t.slice(0,i(t)+1).replace(n,""):t}},4840:(t,e,r)=>{var i="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g;t.exports=i},659:(t,e,r)=>{var i=r(1873),n=Object.prototype,s=n.hasOwnProperty,o=n.toString,a=i?i.toStringTag:void 0;t.exports=function(t){var e=s.call(t,a),r=t[a];try{t[a]=void 0;var i=!0}catch(t){}var n=o.call(t);return i&&(e?t[a]=r:delete t[a]),n}},9350:t=>{var e=Object.prototype.toString;t.exports=function(t){return e.call(t)}},9325:(t,e,r)=>{var i=r(4840),n="object"==typeof self&&self&&self.Object===Object&&self,s=i||n||Function("return this")();t.exports=s},1800:t=>{var e=/\s/;t.exports=function(t){for(var r=t.length;r--&&e.test(t.charAt(r)););return r}},8221:(t,e,r)=>{var i=r(3805),n=r(124),s=r(9374),o=Math.max,a=Math.min;t.exports=function(t,e,r){var c,l,h,u,d,p,f=0,g=!1,m=!1,v=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function y(e){var r=c,i=l;return c=l=void 0,f=e,u=t.apply(i,r)}function w(t){var r=t-p;return void 0===p||r>=e||r<0||m&&t-f>=h}function b(){var t=n();if(w(t))return x(t);d=setTimeout(b,function(t){var r=e-(t-p);return m?a(r,h-(t-f)):r}(t))}function x(t){return d=void 0,v&&c?y(t):(c=l=void 0,u)}function E(){var t=n(),r=w(t);if(c=arguments,l=this,p=t,r){if(void 0===d)return function(t){return f=t,d=setTimeout(b,e),g?y(t):u}(p);if(m)return clearTimeout(d),d=setTimeout(b,e),y(p)}return void 0===d&&(d=setTimeout(b,e)),u}return e=s(e)||0,i(r)&&(g=!!r.leading,h=(m="maxWait"in r)?o(s(r.maxWait)||0,e):h,v="trailing"in r?!!r.trailing:v),E.cancel=function(){void 0!==d&&clearTimeout(d),f=0,c=p=l=d=void 0},E.flush=function(){return void 0===d?u:x(n())},E}},3805:t=>{t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},346:t=>{t.exports=function(t){return null!=t&&"object"==typeof t}},4394:(t,e,r)=>{var i=r(2552),n=r(346);t.exports=function(t){return"symbol"==typeof t||n(t)&&"[object Symbol]"==i(t)}},124:(t,e,r)=>{var i=r(9325);t.exports=function(){return i.Date.now()}},9374:(t,e,r)=>{var i=r(4128),n=r(3805),s=r(4394),o=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,c=/^0o[0-7]+$/i,l=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(s(t))return NaN;if(n(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=n(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=i(t);var r=a.test(t);return r||c.test(t)?l(t.slice(2),r?2:8):o.test(t)?NaN:+t}},5606:t=>{var e,r,i=t.exports={};function n(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function o(t){if(e===setTimeout)return setTimeout(t,0);if((e===n||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch(r){try{return e.call(null,t,0)}catch(r){return e.call(this,t,0)}}}!function(){try{e="function"==typeof setTimeout?setTimeout:n}catch(t){e=n}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(t){r=s}}();var a,c=[],l=!1,h=-1;function u(){l&&a&&(l=!1,a.length?c=a.concat(c):h=-1,c.length&&d())}function d(){if(!l){var t=o(u);l=!0;for(var e=c.length;e;){for(a=c,c=[];++h<e;)a&&a[h].run();h=-1,e=c.length}a=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{return r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function f(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];c.push(new p(t,e)),1!==c.length||l||o(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=f,i.addListener=f,i.once=f,i.off=f,i.removeListener=f,i.removeAllListeners=f,i.emit=f,i.prependListener=f,i.prependOnceListener=f,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},4080:(t,e,r)=>{"use strict";var i=r(9202);t.exports=function(t){if("function"!=typeof t)return!1;if(!hasOwnProperty.call(t,"length"))return!1;try{if("number"!=typeof t.length)return!1;if("function"!=typeof t.call)return!1;if("function"!=typeof t.apply)return!1}catch(t){return!1}return!i(t)}},181:(t,e,r)=>{"use strict";var i=r(8175),n={object:!0,function:!0,undefined:!0};t.exports=function(t){return!!i(t)&&hasOwnProperty.call(n,typeof t)}},6873:(t,e,r)=>{"use strict";var i=r(4080),n=/^\s*class[\s{/}]/,s=Function.prototype.toString;t.exports=function(t){return!!i(t)&&!n.test(s.call(t))}},9202:(t,e,r)=>{"use strict";var i=r(181);t.exports=function(t){if(!i(t))return!1;try{return!!t.constructor&&t.constructor.prototype===t}catch(t){return!1}}},8175:t=>{"use strict";t.exports=function(t){return null!=t}},6838:e=>{"use strict";e.exports=t},6361:t=>{"use strict";t.exports=e},9306:(t,e,r)=>{"use strict";var i=r(4901),n=r(6823),s=TypeError;t.exports=function(t){if(i(t))return t;throw new s(n(t)+" is not a function")}},6194:(t,e,r)=>{"use strict";var i=r(2248).has;t.exports=function(t){return i(t),t}},3506:(t,e,r)=>{"use strict";var i=r(3925),n=String,s=TypeError;t.exports=function(t){if(i(t))return t;throw new s("Can't set "+n(t)+" as a prototype")}},679:(t,e,r)=>{"use strict";var i=r(1625),n=TypeError;t.exports=function(t,e){if(i(e,t))return t;throw new n("Incorrect invocation")}},8551:(t,e,r)=>{"use strict";var i=r(34),n=String,s=TypeError;t.exports=function(t){if(i(t))return t;throw new s(n(t)+" is not an object")}},7394:(t,e,r)=>{"use strict";var i=r(4576),n=r(6706),s=r(2195),o=i.ArrayBuffer,a=i.TypeError;t.exports=o&&n(o.prototype,"byteLength","get")||function(t){if("ArrayBuffer"!==s(t))throw new a("ArrayBuffer expected");return t.byteLength}},3238:(t,e,r)=>{"use strict";var i=r(4576),n=r(7476),s=r(7394),o=i.ArrayBuffer,a=o&&o.prototype,c=a&&n(a.slice);t.exports=function(t){if(0!==s(t))return!1;if(!c)return!1;try{return c(t,0,0),!1}catch(t){return!0}}},5169:(t,e,r)=>{"use strict";var i=r(3238),n=TypeError;t.exports=function(t){if(i(t))throw new n("ArrayBuffer is detached");return t}},5636:(t,e,r)=>{"use strict";var i=r(4576),n=r(9504),s=r(6706),o=r(7696),a=r(5169),c=r(7394),l=r(4483),h=r(1548),u=i.structuredClone,d=i.ArrayBuffer,p=i.DataView,f=Math.min,g=d.prototype,m=p.prototype,v=n(g.slice),y=s(g,"resizable","get"),w=s(g,"maxByteLength","get"),b=n(m.getInt8),x=n(m.setInt8);t.exports=(h||l)&&function(t,e,r){var i,n=c(t),s=void 0===e?n:o(e),g=!y||!y(t);if(a(t),h&&(t=u(t,{transfer:[t]}),n===s&&(r||g)))return t;if(n>=s&&(!r||g))i=v(t,0,s);else{var m=r&&!g&&w?{maxByteLength:w(t)}:void 0;i=new d(s,m);for(var E=new p(t),N=new p(i),T=f(s,n),k=0;k<T;k++)x(N,k,b(E,k))}return h||l(t),i}},9617:(t,e,r)=>{"use strict";var i=r(5397),n=r(5610),s=r(6198),o=function(t){return function(e,r,o){var a=i(e),c=s(a);if(0===c)return!t&&-1;var l,h=n(o,c);if(t&&r!=r){for(;c>h;)if((l=a[h++])!=l)return!0}else for(;c>h;h++)if((t||h in a)&&a[h]===r)return t||h||0;return!t&&-1}};t.exports={includes:o(!0),indexOf:o(!1)}},4527:(t,e,r)=>{"use strict";var i=r(3724),n=r(4376),s=TypeError,o=Object.getOwnPropertyDescriptor,a=i&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}();t.exports=a?function(t,e){if(n(t)&&!o(t,"length").writable)throw new s("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e}},772:(t,e,r)=>{"use strict";var i=r(9565),n=r(7751),s=r(5966);t.exports=function(t,e,r,o){try{var a=s(t,"return");if(a)return n("Promise").resolve(i(a,t)).then((function(){e(r)}),(function(t){o(t)}))}catch(t){return o(t)}e(r)}},2059:(t,e,r)=>{"use strict";var i=r(9565),n=r(1103),s=r(8551),o=r(2360),a=r(6699),c=r(6279),l=r(8227),h=r(1181),u=r(7751),d=r(5966),p=r(3982),f=r(2529),g=r(9539),m=u("Promise"),v=l("toStringTag"),y="AsyncIteratorHelper",w="WrapForValidAsyncIterator",b=h.set,x=function(t){var e=!t,r=h.getterFor(t?w:y),a=function(t){var i=n((function(){return r(t)})),s=i.error,o=i.value;return s||e&&o.done?{exit:!0,value:s?m.reject(o):m.resolve(f(void 0,!0))}:{exit:!1,value:o}};return c(o(p),{next:function(){var t=a(this),e=t.value;if(t.exit)return e;var r=n((function(){return s(e.nextHandler(m))})),i=r.error,o=r.value;return i&&(e.done=!0),i?m.reject(o):m.resolve(o)},return:function(){var e=a(this),r=e.value;if(e.exit)return r;r.done=!0;var o,c,l=r.iterator,h=n((function(){if(r.inner)try{g(r.inner.iterator,"normal")}catch(t){return g(l,"throw",t)}return d(l,"return")}));return o=c=h.value,h.error?m.reject(c):void 0===o?m.resolve(f(void 0,!0)):(c=(h=n((function(){return i(o,l)}))).value,h.error?m.reject(c):t?m.resolve(c):m.resolve(c).then((function(t){return s(t),f(void 0,!0)})))}})},E=x(!0),N=x(!1);a(N,v,"Async Iterator Helper"),t.exports=function(t,e){var r=function(r,i){i?(i.iterator=r.iterator,i.next=r.next):i=r,i.type=e?w:y,i.nextHandler=t,i.counter=0,i.done=!1,b(this,i)};return r.prototype=e?E:N,r}},6639:(t,e,r)=>{"use strict";var i=r(9565),n=r(9306),s=r(8551),o=r(34),a=r(6837),c=r(7751),l=r(1767),h=r(772),u=function(t){var e=0===t,r=1===t,u=2===t,d=3===t;return function(t,p,f){s(t);var g=void 0!==p;!g&&e||n(p);var m=l(t),v=c("Promise"),y=m.iterator,w=m.next,b=0;return new v((function(t,n){var c=function(t){h(y,n,t,n)},l=function(){try{if(g)try{a(b)}catch(t){c(t)}v.resolve(s(i(w,y))).then((function(i){try{if(s(i).done)e?(f.length=b,t(f)):t(!d&&(u||void 0));else{var a=i.value;try{if(g){var m=p(a,b),w=function(i){if(r)l();else if(u)i?l():h(y,t,!1,n);else if(e)try{f[b++]=i,l()}catch(t){c(t)}else i?h(y,t,d||a,n):l()};o(m)?v.resolve(m).then(w,c):w(m)}else f[b++]=a,l()}catch(t){c(t)}}}catch(t){n(t)}}),n)}catch(t){n(t)}};l()}))}};t.exports={toArray:u(0),forEach:u(1),every:u(2),some:u(3),find:u(4)}},1750:(t,e,r)=>{"use strict";var i=r(9565),n=r(9306),s=r(8551),o=r(34),a=r(1767),c=r(2059),l=r(2529),h=r(772),u=c((function(t){var e=this,r=e.iterator,n=e.mapper;return new t((function(a,c){var u=function(t){e.done=!0,c(t)},d=function(t){h(r,u,t,u)};t.resolve(s(i(e.next,r))).then((function(r){try{if(s(r).done)e.done=!0,a(l(void 0,!0));else{var i=r.value;try{var c=n(i,e.counter++),h=function(t){a(l(t,!1))};o(c)?t.resolve(c).then(h,d):h(c)}catch(t){d(t)}}}catch(t){u(t)}}),u)}))}));t.exports=function(t){return s(this),n(t),new u(a(this),{mapper:t})}},3982:(t,e,r)=>{"use strict";var i,n,s=r(4576),o=r(7629),a=r(4901),c=r(2360),l=r(2787),h=r(6840),u=r(8227),d=r(6395),p="USE_FUNCTION_CONSTRUCTOR",f=u("asyncIterator"),g=s.AsyncIterator,m=o.AsyncIteratorPrototype;if(m)i=m;else if(a(g))i=g.prototype;else if(o[p]||s[p])try{n=l(l(l(Function("return async function*(){}()")()))),l(n)===Object.prototype&&(i=n)}catch(t){}i?d&&(i=c(i)):i={},a(i[f])||h(i,f,(function(){return this})),t.exports=i},6319:(t,e,r)=>{"use strict";var i=r(8551),n=r(9539);t.exports=function(t,e,r,s){try{return s?e(i(r)[0],r[1]):e(r)}catch(e){n(t,"throw",e)}}},2195:(t,e,r)=>{"use strict";var i=r(9504),n=i({}.toString),s=i("".slice);t.exports=function(t){return s(n(t),8,-1)}},6955:(t,e,r)=>{"use strict";var i=r(2140),n=r(4901),s=r(2195),o=r(8227)("toStringTag"),a=Object,c="Arguments"===s(function(){return arguments}());t.exports=i?s:function(t){var e,r,i;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=a(t),o))?r:c?s(e):"Object"===(i=s(e))&&n(e.callee)?"Arguments":i}},7740:(t,e,r)=>{"use strict";var i=r(9297),n=r(5031),s=r(7347),o=r(4913);t.exports=function(t,e,r){for(var a=n(e),c=o.f,l=s.f,h=0;h<a.length;h++){var u=a[h];i(t,u)||r&&i(r,u)||c(t,u,l(e,u))}}},2211:(t,e,r)=>{"use strict";var i=r(9039);t.exports=!i((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},2529:t=>{"use strict";t.exports=function(t,e){return{value:t,done:e}}},6699:(t,e,r)=>{"use strict";var i=r(3724),n=r(4913),s=r(6980);t.exports=i?function(t,e,r){return n.f(t,e,s(1,r))}:function(t,e,r){return t[e]=r,t}},6980:t=>{"use strict";t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},4659:(t,e,r)=>{"use strict";var i=r(3724),n=r(4913),s=r(6980);t.exports=function(t,e,r){i?n.f(t,e,s(0,r)):t[e]=r}},2106:(t,e,r)=>{"use strict";var i=r(283),n=r(4913);t.exports=function(t,e,r){return r.get&&i(r.get,e,{getter:!0}),r.set&&i(r.set,e,{setter:!0}),n.f(t,e,r)}},6840:(t,e,r)=>{"use strict";var i=r(4901),n=r(4913),s=r(283),o=r(9433);t.exports=function(t,e,r,a){a||(a={});var c=a.enumerable,l=void 0!==a.name?a.name:e;if(i(r)&&s(r,l,a),a.global)c?t[e]=r:o(e,r);else{try{a.unsafe?t[e]&&(c=!0):delete t[e]}catch(t){}c?t[e]=r:n.f(t,e,{value:r,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return t}},6279:(t,e,r)=>{"use strict";var i=r(6840);t.exports=function(t,e,r){for(var n in e)i(t,n,e[n],r);return t}},9433:(t,e,r)=>{"use strict";var i=r(4576),n=Object.defineProperty;t.exports=function(t,e){try{n(i,t,{value:e,configurable:!0,writable:!0})}catch(r){i[t]=e}return e}},4606:(t,e,r)=>{"use strict";var i=r(6823),n=TypeError;t.exports=function(t,e){if(!delete t[e])throw new n("Cannot delete property "+i(e)+" of "+i(t))}},3724:(t,e,r)=>{"use strict";var i=r(9039);t.exports=!i((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},4483:(t,e,r)=>{"use strict";var i,n,s,o,a=r(4576),c=r(9429),l=r(1548),h=a.structuredClone,u=a.ArrayBuffer,d=a.MessageChannel,p=!1;if(l)p=function(t){h(t,{transfer:[t]})};else if(u)try{d||(i=c("worker_threads"))&&(d=i.MessageChannel),d&&(n=new d,s=new u(2),o=function(t){n.port1.postMessage(null,[t])},2===s.byteLength&&(o(s),0===s.byteLength&&(p=o)))}catch(t){}t.exports=p},4055:(t,e,r)=>{"use strict";var i=r(4576),n=r(34),s=i.document,o=n(s)&&n(s.createElement);t.exports=function(t){return o?s.createElement(t):{}}},6837:t=>{"use strict";var e=TypeError;t.exports=function(t){if(t>9007199254740991)throw e("Maximum allowed index exceeded");return t}},5002:t=>{"use strict";t.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},8727:t=>{"use strict";t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},6193:(t,e,r)=>{"use strict";var i=r(4215);t.exports="NODE"===i},2839:(t,e,r)=>{"use strict";var i=r(4576).navigator,n=i&&i.userAgent;t.exports=n?String(n):""},9519:(t,e,r)=>{"use strict";var i,n,s=r(4576),o=r(2839),a=s.process,c=s.Deno,l=a&&a.versions||c&&c.version,h=l&&l.v8;h&&(n=(i=h.split("."))[0]>0&&i[0]<4?1:+(i[0]+i[1])),!n&&o&&(!(i=o.match(/Edge\/(\d+)/))||i[1]>=74)&&(i=o.match(/Chrome\/(\d+)/))&&(n=+i[1]),t.exports=n},4215:(t,e,r)=>{"use strict";var i=r(4576),n=r(2839),s=r(2195),o=function(t){return n.slice(0,t.length)===t};t.exports=o("Bun/")?"BUN":o("Cloudflare-Workers")?"CLOUDFLARE":o("Deno/")?"DENO":o("Node.js/")?"NODE":i.Bun&&"string"==typeof Bun.version?"BUN":i.Deno&&"object"==typeof Deno.version?"DENO":"process"===s(i.process)?"NODE":i.window&&i.document?"BROWSER":"REST"},8574:(t,e,r)=>{"use strict";var i=r(9504),n=Error,s=i("".replace),o=String(new n("zxcasd").stack),a=/\n\s*at [^:]*:[^\n]*/,c=a.test(o);t.exports=function(t,e){if(c&&"string"==typeof t&&!n.prepareStackTrace)for(;e--;)t=s(t,a,"");return t}},6518:(t,e,r)=>{"use strict";var i=r(4576),n=r(7347).f,s=r(6699),o=r(6840),a=r(9433),c=r(7740),l=r(2796);t.exports=function(t,e){var r,h,u,d,p,f=t.target,g=t.global,m=t.stat;if(r=g?i:m?i[f]||a(f,{}):i[f]&&i[f].prototype)for(h in e){if(d=e[h],u=t.dontCallGetSet?(p=n(r,h))&&p.value:r[h],!l(g?h:f+(m?".":"#")+h,t.forced)&&void 0!==u){if(typeof d==typeof u)continue;c(d,u)}(t.sham||u&&u.sham)&&s(d,"sham",!0),o(r,h,d,t)}}},9039:t=>{"use strict";t.exports=function(t){try{return!!t()}catch(t){return!0}}},6080:(t,e,r)=>{"use strict";var i=r(7476),n=r(9306),s=r(616),o=i(i.bind);t.exports=function(t,e){return n(t),void 0===e?t:s?o(t,e):function(){return t.apply(e,arguments)}}},616:(t,e,r)=>{"use strict";var i=r(9039);t.exports=!i((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},9565:(t,e,r)=>{"use strict";var i=r(616),n=Function.prototype.call;t.exports=i?n.bind(n):function(){return n.apply(n,arguments)}},350:(t,e,r)=>{"use strict";var i=r(3724),n=r(9297),s=Function.prototype,o=i&&Object.getOwnPropertyDescriptor,a=n(s,"name"),c=a&&"something"===function(){}.name,l=a&&(!i||i&&o(s,"name").configurable);t.exports={EXISTS:a,PROPER:c,CONFIGURABLE:l}},6706:(t,e,r)=>{"use strict";var i=r(9504),n=r(9306);t.exports=function(t,e,r){try{return i(n(Object.getOwnPropertyDescriptor(t,e)[r]))}catch(t){}}},7476:(t,e,r)=>{"use strict";var i=r(2195),n=r(9504);t.exports=function(t){if("Function"===i(t))return n(t)}},9504:(t,e,r)=>{"use strict";var i=r(616),n=Function.prototype,s=n.call,o=i&&n.bind.bind(s,s);t.exports=i?o:function(t){return function(){return s.apply(t,arguments)}}},9429:(t,e,r)=>{"use strict";var i=r(4576),n=r(6193);t.exports=function(t){if(n){try{return i.process.getBuiltinModule(t)}catch(t){}try{return Function('return require("'+t+'")')()}catch(t){}}}},7751:(t,e,r)=>{"use strict";var i=r(4576),n=r(4901);t.exports=function(t,e){return arguments.length<2?(r=i[t],n(r)?r:void 0):i[t]&&i[t][e];var r}},1767:t=>{"use strict";t.exports=function(t){return{iterator:t,next:t.next,done:!1}}},851:(t,e,r)=>{"use strict";var i=r(6955),n=r(5966),s=r(4117),o=r(6269),a=r(8227)("iterator");t.exports=function(t){if(!s(t))return n(t,a)||n(t,"@@iterator")||o[i(t)]}},81:(t,e,r)=>{"use strict";var i=r(9565),n=r(9306),s=r(8551),o=r(6823),a=r(851),c=TypeError;t.exports=function(t,e){var r=arguments.length<2?a(t):e;if(n(r))return s(i(r,t));throw new c(o(t)+" is not iterable")}},5966:(t,e,r)=>{"use strict";var i=r(9306),n=r(4117);t.exports=function(t,e){var r=t[e];return n(r)?void 0:i(r)}},4576:function(t,e,r){"use strict";var i=function(t){return t&&t.Math===Math&&t};t.exports=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof r.g&&r.g)||i("object"==typeof this&&this)||function(){return this}()||Function("return this")()},9297:(t,e,r)=>{"use strict";var i=r(9504),n=r(8981),s=i({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return s(n(t),e)}},421:t=>{"use strict";t.exports={}},397:(t,e,r)=>{"use strict";var i=r(7751);t.exports=i("document","documentElement")},5917:(t,e,r)=>{"use strict";var i=r(3724),n=r(9039),s=r(4055);t.exports=!i&&!n((function(){return 7!==Object.defineProperty(s("div"),"a",{get:function(){return 7}}).a}))},7055:(t,e,r)=>{"use strict";var i=r(9504),n=r(9039),s=r(2195),o=Object,a=i("".split);t.exports=n((function(){return!o("z").propertyIsEnumerable(0)}))?function(t){return"String"===s(t)?a(t,""):o(t)}:o},3167:(t,e,r)=>{"use strict";var i=r(4901),n=r(34),s=r(2967);t.exports=function(t,e,r){var o,a;return s&&i(o=e.constructor)&&o!==r&&n(a=o.prototype)&&a!==r.prototype&&s(t,a),t}},3706:(t,e,r)=>{"use strict";var i=r(9504),n=r(4901),s=r(7629),o=i(Function.toString);n(s.inspectSource)||(s.inspectSource=function(t){return o(t)}),t.exports=s.inspectSource},1181:(t,e,r)=>{"use strict";var i,n,s,o=r(8622),a=r(4576),c=r(34),l=r(6699),h=r(9297),u=r(7629),d=r(6119),p=r(421),f="Object already initialized",g=a.TypeError,m=a.WeakMap;if(o||u.state){var v=u.state||(u.state=new m);v.get=v.get,v.has=v.has,v.set=v.set,i=function(t,e){if(v.has(t))throw new g(f);return e.facade=t,v.set(t,e),e},n=function(t){return v.get(t)||{}},s=function(t){return v.has(t)}}else{var y=d("state");p[y]=!0,i=function(t,e){if(h(t,y))throw new g(f);return e.facade=t,l(t,y,e),e},n=function(t){return h(t,y)?t[y]:{}},s=function(t){return h(t,y)}}t.exports={set:i,get:n,has:s,enforce:function(t){return s(t)?n(t):i(t,{})},getterFor:function(t){return function(e){var r;if(!c(e)||(r=n(e)).type!==t)throw new g("Incompatible receiver, "+t+" required");return r}}}},4209:(t,e,r)=>{"use strict";var i=r(8227),n=r(6269),s=i("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(n.Array===t||o[s]===t)}},4376:(t,e,r)=>{"use strict";var i=r(2195);t.exports=Array.isArray||function(t){return"Array"===i(t)}},4901:t=>{"use strict";var e="object"==typeof document&&document.all;t.exports=void 0===e&&void 0!==e?function(t){return"function"==typeof t||t===e}:function(t){return"function"==typeof t}},2796:(t,e,r)=>{"use strict";var i=r(9039),n=r(4901),s=/#|\.prototype\./,o=function(t,e){var r=c[a(t)];return r===h||r!==l&&(n(e)?i(e):!!e)},a=o.normalize=function(t){return String(t).replace(s,".").toLowerCase()},c=o.data={},l=o.NATIVE="N",h=o.POLYFILL="P";t.exports=o},4117:t=>{"use strict";t.exports=function(t){return null==t}},34:(t,e,r)=>{"use strict";var i=r(4901);t.exports=function(t){return"object"==typeof t?null!==t:i(t)}},3925:(t,e,r)=>{"use strict";var i=r(34);t.exports=function(t){return i(t)||null===t}},6395:t=>{"use strict";t.exports=!1},757:(t,e,r)=>{"use strict";var i=r(7751),n=r(4901),s=r(1625),o=r(7040),a=Object;t.exports=o?function(t){return"symbol"==typeof t}:function(t){var e=i("Symbol");return n(e)&&s(e.prototype,a(t))}},507:(t,e,r)=>{"use strict";var i=r(9565);t.exports=function(t,e,r){for(var n,s,o=r?t:t.iterator,a=t.next;!(n=i(a,o)).done;)if(void 0!==(s=e(n.value)))return s}},2652:(t,e,r)=>{"use strict";var i=r(6080),n=r(9565),s=r(8551),o=r(6823),a=r(4209),c=r(6198),l=r(1625),h=r(81),u=r(851),d=r(9539),p=TypeError,f=function(t,e){this.stopped=t,this.result=e},g=f.prototype;t.exports=function(t,e,r){var m,v,y,w,b,x,E,N=r&&r.that,T=!(!r||!r.AS_ENTRIES),k=!(!r||!r.IS_RECORD),S=!(!r||!r.IS_ITERATOR),C=!(!r||!r.INTERRUPTED),O=i(e,N),R=function(t){return m&&d(m,"normal",t),new f(!0,t)},A=function(t){return T?(s(t),C?O(t[0],t[1],R):O(t[0],t[1])):C?O(t,R):O(t)};if(k)m=t.iterator;else if(S)m=t;else{if(!(v=u(t)))throw new p(o(t)+" is not iterable");if(a(v)){for(y=0,w=c(t);w>y;y++)if((b=A(t[y]))&&l(g,b))return b;return new f(!1)}m=h(t,v)}for(x=k?t.next:m.next;!(E=n(x,m)).done;){try{b=A(E.value)}catch(t){d(m,"throw",t)}if("object"==typeof b&&b&&l(g,b))return b}return new f(!1)}},9539:(t,e,r)=>{"use strict";var i=r(9565),n=r(8551),s=r(5966);t.exports=function(t,e,r){var o,a;n(t);try{if(!(o=s(t,"return"))){if("throw"===e)throw r;return r}o=i(o,t)}catch(t){a=!0,o=t}if("throw"===e)throw r;if(a)throw o;return n(o),r}},9462:(t,e,r)=>{"use strict";var i=r(9565),n=r(2360),s=r(6699),o=r(6279),a=r(8227),c=r(1181),l=r(5966),h=r(7657).IteratorPrototype,u=r(2529),d=r(9539),p=a("toStringTag"),f="IteratorHelper",g="WrapForValidIterator",m=c.set,v=function(t){var e=c.getterFor(t?g:f);return o(n(h),{next:function(){var r=e(this);if(t)return r.nextHandler();try{var i=r.done?void 0:r.nextHandler();return u(i,r.done)}catch(t){throw r.done=!0,t}},return:function(){var r=e(this),n=r.iterator;if(r.done=!0,t){var s=l(n,"return");return s?i(s,n):u(void 0,!0)}if(r.inner)try{d(r.inner.iterator,"normal")}catch(t){return d(n,"throw",t)}return d(n,"normal"),u(void 0,!0)}})},y=v(!0),w=v(!1);s(w,p,"Iterator Helper"),t.exports=function(t,e){var r=function(r,i){i?(i.iterator=r.iterator,i.next=r.next):i=r,i.type=e?g:f,i.nextHandler=t,i.counter=0,i.done=!1,m(this,i)};return r.prototype=e?y:w,r}},713:(t,e,r)=>{"use strict";var i=r(9565),n=r(9306),s=r(8551),o=r(1767),a=r(9462),c=r(6319),l=a((function(){var t=this.iterator,e=s(i(this.next,t));if(!(this.done=!!e.done))return c(t,this.mapper,[e.value,this.counter++],!0)}));t.exports=function(t){return s(this),n(t),new l(o(this),{mapper:t})}},7657:(t,e,r)=>{"use strict";var i,n,s,o=r(9039),a=r(4901),c=r(34),l=r(2360),h=r(2787),u=r(6840),d=r(8227),p=r(6395),f=d("iterator"),g=!1;[].keys&&("next"in(s=[].keys())?(n=h(h(s)))!==Object.prototype&&(i=n):g=!0),!c(i)||o((function(){var t={};return i[f].call(t)!==t}))?i={}:p&&(i=l(i)),a(i[f])||u(i,f,(function(){return this})),t.exports={IteratorPrototype:i,BUGGY_SAFARI_ITERATORS:g}},6269:t=>{"use strict";t.exports={}},6198:(t,e,r)=>{"use strict";var i=r(8014);t.exports=function(t){return i(t.length)}},283:(t,e,r)=>{"use strict";var i=r(9504),n=r(9039),s=r(4901),o=r(9297),a=r(3724),c=r(350).CONFIGURABLE,l=r(3706),h=r(1181),u=h.enforce,d=h.get,p=String,f=Object.defineProperty,g=i("".slice),m=i("".replace),v=i([].join),y=a&&!n((function(){return 8!==f((function(){}),"length",{value:8}).length})),w=String(String).split("String"),b=t.exports=function(t,e,r){"Symbol("===g(p(e),0,7)&&(e="["+m(p(e),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),r&&r.getter&&(e="get "+e),r&&r.setter&&(e="set "+e),(!o(t,"name")||c&&t.name!==e)&&(a?f(t,"name",{value:e,configurable:!0}):t.name=e),y&&r&&o(r,"arity")&&t.length!==r.arity&&f(t,"length",{value:r.arity});try{r&&o(r,"constructor")&&r.constructor?a&&f(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}var i=u(t);return o(i,"source")||(i.source=v(w,"string"==typeof e?e:"")),t};Function.prototype.toString=b((function(){return s(this)&&d(this).source||l(this)}),"toString")},2248:(t,e,r)=>{"use strict";var i=r(9504),n=Map.prototype;t.exports={Map,set:i(n.set),get:i(n.get),has:i(n.has),remove:i(n.delete),proto:n}},6223:(t,e,r)=>{"use strict";var i=r(9504),n=r(507),s=r(2248),o=s.Map,a=s.proto,c=i(a.forEach),l=i(a.entries),h=l(new o).next;t.exports=function(t,e,r){return r?n({iterator:l(t),next:h},(function(t){return e(t[1],t[0])})):c(t,e)}},741:t=>{"use strict";var e=Math.ceil,r=Math.floor;t.exports=Math.trunc||function(t){var i=+t;return(i>0?r:e)(i)}},2603:(t,e,r)=>{"use strict";var i=r(655);t.exports=function(t,e){return void 0===t?arguments.length<2?"":e:i(t)}},2360:(t,e,r)=>{"use strict";var i,n=r(8551),s=r(6801),o=r(8727),a=r(421),c=r(397),l=r(4055),h=r(6119),u="prototype",d="script",p=h("IE_PROTO"),f=function(){},g=function(t){return"<"+d+">"+t+"</"+d+">"},m=function(t){t.write(g("")),t.close();var e=t.parentWindow.Object;return t=null,e},v=function(){try{i=new ActiveXObject("htmlfile")}catch(t){}var t,e,r;v="undefined"!=typeof document?document.domain&&i?m(i):(e=l("iframe"),r="java"+d+":",e.style.display="none",c.appendChild(e),e.src=String(r),(t=e.contentWindow.document).open(),t.write(g("document.F=Object")),t.close(),t.F):m(i);for(var n=o.length;n--;)delete v[u][o[n]];return v()};a[p]=!0,t.exports=Object.create||function(t,e){var r;return null!==t?(f[u]=n(t),r=new f,f[u]=null,r[p]=t):r=v(),void 0===e?r:s.f(r,e)}},6801:(t,e,r)=>{"use strict";var i=r(3724),n=r(8686),s=r(4913),o=r(8551),a=r(5397),c=r(1072);e.f=i&&!n?Object.defineProperties:function(t,e){o(t);for(var r,i=a(e),n=c(e),l=n.length,h=0;l>h;)s.f(t,r=n[h++],i[r]);return t}},4913:(t,e,r)=>{"use strict";var i=r(3724),n=r(5917),s=r(8686),o=r(8551),a=r(6969),c=TypeError,l=Object.defineProperty,h=Object.getOwnPropertyDescriptor,u="enumerable",d="configurable",p="writable";e.f=i?s?function(t,e,r){if(o(t),e=a(e),o(r),"function"==typeof t&&"prototype"===e&&"value"in r&&p in r&&!r[p]){var i=h(t,e);i&&i[p]&&(t[e]=r.value,r={configurable:d in r?r[d]:i[d],enumerable:u in r?r[u]:i[u],writable:!1})}return l(t,e,r)}:l:function(t,e,r){if(o(t),e=a(e),o(r),n)try{return l(t,e,r)}catch(t){}if("get"in r||"set"in r)throw new c("Accessors not supported");return"value"in r&&(t[e]=r.value),t}},7347:(t,e,r)=>{"use strict";var i=r(3724),n=r(9565),s=r(8773),o=r(6980),a=r(5397),c=r(6969),l=r(9297),h=r(5917),u=Object.getOwnPropertyDescriptor;e.f=i?u:function(t,e){if(t=a(t),e=c(e),h)try{return u(t,e)}catch(t){}if(l(t,e))return o(!n(s.f,t,e),t[e])}},8480:(t,e,r)=>{"use strict";var i=r(1828),n=r(8727).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,n)}},3717:(t,e)=>{"use strict";e.f=Object.getOwnPropertySymbols},2787:(t,e,r)=>{"use strict";var i=r(9297),n=r(4901),s=r(8981),o=r(6119),a=r(2211),c=o("IE_PROTO"),l=Object,h=l.prototype;t.exports=a?l.getPrototypeOf:function(t){var e=s(t);if(i(e,c))return e[c];var r=e.constructor;return n(r)&&e instanceof r?r.prototype:e instanceof l?h:null}},1625:(t,e,r)=>{"use strict";var i=r(9504);t.exports=i({}.isPrototypeOf)},1828:(t,e,r)=>{"use strict";var i=r(9504),n=r(9297),s=r(5397),o=r(9617).indexOf,a=r(421),c=i([].push);t.exports=function(t,e){var r,i=s(t),l=0,h=[];for(r in i)!n(a,r)&&n(i,r)&&c(h,r);for(;e.length>l;)n(i,r=e[l++])&&(~o(h,r)||c(h,r));return h}},1072:(t,e,r)=>{"use strict";var i=r(1828),n=r(8727);t.exports=Object.keys||function(t){return i(t,n)}},8773:(t,e)=>{"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,n=i&&!r.call({1:2},1);e.f=n?function(t){var e=i(this,t);return!!e&&e.enumerable}:r},2967:(t,e,r)=>{"use strict";var i=r(6706),n=r(34),s=r(7750),o=r(3506);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,r={};try{(t=i(Object.prototype,"__proto__","set"))(r,[]),e=r instanceof Array}catch(t){}return function(r,i){return s(r),o(i),n(r)?(e?t(r,i):r.__proto__=i,r):r}}():void 0)},4270:(t,e,r)=>{"use strict";var i=r(9565),n=r(4901),s=r(34),o=TypeError;t.exports=function(t,e){var r,a;if("string"===e&&n(r=t.toString)&&!s(a=i(r,t)))return a;if(n(r=t.valueOf)&&!s(a=i(r,t)))return a;if("string"!==e&&n(r=t.toString)&&!s(a=i(r,t)))return a;throw new o("Can't convert object to primitive value")}},5031:(t,e,r)=>{"use strict";var i=r(7751),n=r(9504),s=r(8480),o=r(3717),a=r(8551),c=n([].concat);t.exports=i("Reflect","ownKeys")||function(t){var e=s.f(a(t)),r=o.f;return r?c(e,r(t)):e}},8235:(t,e,r)=>{"use strict";var i=r(9504),n=r(9297),s=SyntaxError,o=parseInt,a=String.fromCharCode,c=i("".charAt),l=i("".slice),h=i(/./.exec),u={'\\"':'"',"\\\\":"\\","\\/":"/","\\b":"\b","\\f":"\f","\\n":"\n","\\r":"\r","\\t":"\t"},d=/^[\da-f]{4}$/i,p=/^[\u0000-\u001F]$/;t.exports=function(t,e){for(var r=!0,i="";e<t.length;){var f=c(t,e);if("\\"===f){var g=l(t,e,e+2);if(n(u,g))i+=u[g],e+=2;else{if("\\u"!==g)throw new s('Unknown escape sequence: "'+g+'"');var m=l(t,e+=2,e+4);if(!h(d,m))throw new s("Bad Unicode escape at: "+e);i+=a(o(m,16)),e+=4}}else{if('"'===f){r=!1,e++;break}if(h(p,f))throw new s("Bad control character in string literal at: "+e);i+=f,e++}}if(r)throw new s("Unterminated string at: "+e);return{value:i,end:e}}},1103:t=>{"use strict";t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},7750:(t,e,r)=>{"use strict";var i=r(4117),n=TypeError;t.exports=function(t){if(i(t))throw new n("Can't call method on "+t);return t}},3317:t=>{"use strict";t.exports=function(t,e){return t===e||t!=t&&e!=e}},6119:(t,e,r)=>{"use strict";var i=r(5745),n=r(3392),s=i("keys");t.exports=function(t){return s[t]||(s[t]=n(t))}},7629:(t,e,r)=>{"use strict";var i=r(6395),n=r(4576),s=r(9433),o="__core-js_shared__",a=t.exports=n[o]||s(o,{});(a.versions||(a.versions=[])).push({version:"3.38.1",mode:i?"pure":"global",copyright:"© 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.38.1/LICENSE",source:"https://github.com/zloirock/core-js"})},5745:(t,e,r)=>{"use strict";var i=r(7629);t.exports=function(t,e){return i[t]||(i[t]=e||{})}},1548:(t,e,r)=>{"use strict";var i=r(4576),n=r(9039),s=r(9519),o=r(4215),a=i.structuredClone;t.exports=!!a&&!n((function(){if("DENO"===o&&s>92||"NODE"===o&&s>94||"BROWSER"===o&&s>97)return!1;var t=new ArrayBuffer(8),e=a(t,{transfer:[t]});return 0!==t.byteLength||8!==e.byteLength}))},4495:(t,e,r)=>{"use strict";var i=r(9519),n=r(9039),s=r(4576).String;t.exports=!!Object.getOwnPropertySymbols&&!n((function(){var t=Symbol("symbol detection");return!s(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&i&&i<41}))},5610:(t,e,r)=>{"use strict";var i=r(1291),n=Math.max,s=Math.min;t.exports=function(t,e){var r=i(t);return r<0?n(r+e,0):s(r,e)}},7696:(t,e,r)=>{"use strict";var i=r(1291),n=r(8014),s=RangeError;t.exports=function(t){if(void 0===t)return 0;var e=i(t),r=n(e);if(e!==r)throw new s("Wrong length or index");return r}},5397:(t,e,r)=>{"use strict";var i=r(7055),n=r(7750);t.exports=function(t){return i(n(t))}},1291:(t,e,r)=>{"use strict";var i=r(741);t.exports=function(t){var e=+t;return e!=e||0===e?0:i(e)}},8014:(t,e,r)=>{"use strict";var i=r(1291),n=Math.min;t.exports=function(t){var e=i(t);return e>0?n(e,9007199254740991):0}},8981:(t,e,r)=>{"use strict";var i=r(7750),n=Object;t.exports=function(t){return n(i(t))}},2777:(t,e,r)=>{"use strict";var i=r(9565),n=r(34),s=r(757),o=r(5966),a=r(4270),c=r(8227),l=TypeError,h=c("toPrimitive");t.exports=function(t,e){if(!n(t)||s(t))return t;var r,c=o(t,h);if(c){if(void 0===e&&(e="default"),r=i(c,t,e),!n(r)||s(r))return r;throw new l("Can't convert object to primitive value")}return void 0===e&&(e="number"),a(t,e)}},6969:(t,e,r)=>{"use strict";var i=r(2777),n=r(757);t.exports=function(t){var e=i(t,"string");return n(e)?e:e+""}},2140:(t,e,r)=>{"use strict";var i={};i[r(8227)("toStringTag")]="z",t.exports="[object z]"===String(i)},655:(t,e,r)=>{"use strict";var i=r(6955),n=String;t.exports=function(t){if("Symbol"===i(t))throw new TypeError("Cannot convert a Symbol value to a string");return n(t)}},6823:t=>{"use strict";var e=String;t.exports=function(t){try{return e(t)}catch(t){return"Object"}}},3392:(t,e,r)=>{"use strict";var i=r(9504),n=0,s=Math.random(),o=i(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+o(++n+s,36)}},7040:(t,e,r)=>{"use strict";var i=r(4495);t.exports=i&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},8686:(t,e,r)=>{"use strict";var i=r(3724),n=r(9039);t.exports=i&&n((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},2812:t=>{"use strict";var e=TypeError;t.exports=function(t,r){if(t<r)throw new e("Not enough arguments");return t}},8622:(t,e,r)=>{"use strict";var i=r(4576),n=r(4901),s=i.WeakMap;t.exports=n(s)&&/native code/.test(String(s))},8227:(t,e,r)=>{"use strict";var i=r(4576),n=r(5745),s=r(9297),o=r(3392),a=r(4495),c=r(7040),l=i.Symbol,h=n("wks"),u=c?l.for||l:l&&l.withoutSetter||o;t.exports=function(t){return s(h,t)||(h[t]=a&&s(l,t)?l[t]:u("Symbol."+t)),h[t]}},6573:(t,e,r)=>{"use strict";var i=r(3724),n=r(2106),s=r(3238),o=ArrayBuffer.prototype;i&&!("detached"in o)&&n(o,"detached",{configurable:!0,get:function(){return s(this)}})},7936:(t,e,r)=>{"use strict";var i=r(6518),n=r(5636);n&&i({target:"ArrayBuffer",proto:!0},{transferToFixedLength:function(){return n(this,arguments.length?arguments[0]:void 0,!1)}})},8100:(t,e,r)=>{"use strict";var i=r(6518),n=r(5636);n&&i({target:"ArrayBuffer",proto:!0},{transfer:function(){return n(this,arguments.length?arguments[0]:void 0,!0)}})},4114:(t,e,r)=>{"use strict";var i=r(6518),n=r(8981),s=r(6198),o=r(4527),a=r(6837);i({target:"Array",proto:!0,arity:1,forced:r(9039)((function(){return 4294967297!==[].push.call({length:4294967296},1)}))||!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}}()},{push:function(t){var e=n(this),r=s(e),i=arguments.length;a(r+i);for(var c=0;c<i;c++)e[r]=arguments[c],r++;return o(e,r),r}})},3609:(t,e,r)=>{"use strict";var i=r(6518),n=r(8981),s=r(6198),o=r(4527),a=r(4606),c=r(6837);i({target:"Array",proto:!0,arity:1,forced:1!==[].unshift(0)||!function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(t){return t instanceof TypeError}}()},{unshift:function(t){var e=n(this),r=s(e),i=arguments.length;if(i){c(r+i);for(var l=r;l--;){var h=l+i;l in e?e[h]=e[l]:a(e,h)}for(var u=0;u<i;u++)e[u]=arguments[u]}return o(e,r+i)}})},7333:(t,e,r)=>{"use strict";var i=r(6518),n=r(9565),s=r(9306),o=r(8551),a=r(34),c=r(1767),l=r(2059),h=r(2529),u=r(772),d=r(6395),p=l((function(t){var e=this,r=e.iterator,i=e.predicate;return new t((function(s,c){var l=function(t){e.done=!0,c(t)},d=function(t){u(r,l,t,l)},p=function(){try{t.resolve(o(n(e.next,r))).then((function(r){try{if(o(r).done)e.done=!0,s(h(void 0,!0));else{var n=r.value;try{var c=i(n,e.counter++),u=function(t){t?s(h(n,!1)):p()};a(c)?t.resolve(c).then(u,d):u(c)}catch(t){d(t)}}}catch(t){l(t)}}),l)}catch(t){l(t)}};p()}))}));i({target:"AsyncIterator",proto:!0,real:!0,forced:d},{filter:function(t){return o(this),s(t),new p(c(this),{predicate:t})}})},3064:(t,e,r)=>{"use strict";var i=r(6518),n=r(6639).find;i({target:"AsyncIterator",proto:!0,real:!0},{find:function(t){return n(this,t)}})},9920:(t,e,r)=>{"use strict";var i=r(6518),n=r(6639).forEach;i({target:"AsyncIterator",proto:!0,real:!0},{forEach:function(t){return n(this,t)}})},1393:(t,e,r)=>{"use strict";var i=r(6518),n=r(1750);i({target:"AsyncIterator",proto:!0,real:!0,forced:r(6395)},{map:n})},4905:(t,e,r)=>{"use strict";var i=r(6518),n=r(9565),s=r(9306),o=r(8551),a=r(34),c=r(7751),l=r(1767),h=r(772),u=c("Promise"),d=TypeError;i({target:"AsyncIterator",proto:!0,real:!0},{reduce:function(t){o(this),s(t);var e=l(this),r=e.iterator,i=e.next,c=arguments.length<2,p=c?void 0:arguments[1],f=0;return new u((function(e,s){var l=function(t){h(r,s,t,s)},g=function(){try{u.resolve(o(n(i,r))).then((function(r){try{if(o(r).done)c?s(new d("Reduce of empty iterator with no initial value")):e(p);else{var i=r.value;if(c)c=!1,p=i,g();else try{var n=t(p,i,f),h=function(t){p=t,g()};a(n)?u.resolve(n).then(h,l):h(n)}catch(t){l(t)}}f++}catch(t){s(t)}}),s)}catch(t){s(t)}};g()}))}})},8992:(t,e,r)=>{"use strict";var i=r(6518),n=r(4576),s=r(679),o=r(8551),a=r(4901),c=r(2787),l=r(2106),h=r(4659),u=r(9039),d=r(9297),p=r(8227),f=r(7657).IteratorPrototype,g=r(3724),m=r(6395),v="constructor",y="Iterator",w=p("toStringTag"),b=TypeError,x=n[y],E=m||!a(x)||x.prototype!==f||!u((function(){x({})})),N=function(){if(s(this,f),c(this)===f)throw new b("Abstract class Iterator not directly constructable")},T=function(t,e){g?l(f,t,{configurable:!0,get:function(){return e},set:function(e){if(o(this),this===f)throw new b("You can't redefine this property");d(this,t)?this[t]=e:h(this,t,e)}}):f[t]=e};d(f,w)||T(w,y),!E&&d(f,v)&&f[v]!==Object||T(v,N),N.prototype=f,i({global:!0,constructor:!0,forced:E},{Iterator:N})},4520:(t,e,r)=>{"use strict";var i=r(6518),n=r(9565),s=r(9306),o=r(8551),a=r(1767),c=r(9462),l=r(6319),h=r(6395),u=c((function(){for(var t,e,r=this.iterator,i=this.predicate,s=this.next;;){if(t=o(n(s,r)),this.done=!!t.done)return;if(e=t.value,l(r,i,[e,this.counter++],!0))return e}}));i({target:"Iterator",proto:!0,real:!0,forced:h},{filter:function(t){return o(this),s(t),new u(a(this),{predicate:t})}})},2577:(t,e,r)=>{"use strict";var i=r(6518),n=r(2652),s=r(9306),o=r(8551),a=r(1767);i({target:"Iterator",proto:!0,real:!0},{find:function(t){o(this),s(t);var e=a(this),r=0;return n(e,(function(e,i){if(t(e,r++))return i(e)}),{IS_RECORD:!0,INTERRUPTED:!0}).result}})},3949:(t,e,r)=>{"use strict";var i=r(6518),n=r(2652),s=r(9306),o=r(8551),a=r(1767);i({target:"Iterator",proto:!0,real:!0},{forEach:function(t){o(this),s(t);var e=a(this),r=0;n(e,(function(e){t(e,r++)}),{IS_RECORD:!0})}})},1454:(t,e,r)=>{"use strict";var i=r(6518),n=r(713);i({target:"Iterator",proto:!0,real:!0,forced:r(6395)},{map:n})},8872:(t,e,r)=>{"use strict";var i=r(6518),n=r(2652),s=r(9306),o=r(8551),a=r(1767),c=TypeError;i({target:"Iterator",proto:!0,real:!0},{reduce:function(t){o(this),s(t);var e=a(this),r=arguments.length<2,i=r?void 0:arguments[1],l=0;if(n(e,(function(e){r?(r=!1,i=e):i=t(i,e,l),l++}),{IS_RECORD:!0}),r)throw new c("Reduce of empty iterator with no initial value");return i}})},8335:(t,e,r)=>{"use strict";var i=r(6518),n=r(3724),s=r(4576),o=r(7751),a=r(9504),c=r(9565),l=r(4901),h=r(34),u=r(4376),d=r(9297),p=r(655),f=r(6198),g=r(4659),m=r(9039),v=r(8235),y=r(4495),w=s.JSON,b=s.Number,x=s.SyntaxError,E=w&&w.parse,N=o("Object","keys"),T=Object.getOwnPropertyDescriptor,k=a("".charAt),S=a("".slice),C=a(/./.exec),O=a([].push),R=/^\d$/,A=/^[1-9]$/,L=/^[\d-]$/,D=/^[\t\n\r ]$/,q=function(t,e,r,i){var n,s,o,a,l,p=t[e],g=i&&p===i.value,m=g&&"string"==typeof i.source?{source:i.source}:{};if(h(p)){var v=u(p),y=g?i.nodes:v?[]:{};if(v)for(n=y.length,o=f(p),a=0;a<o;a++)I(p,a,q(p,""+a,r,a<n?y[a]:void 0));else for(s=N(p),o=f(s),a=0;a<o;a++)l=s[a],I(p,l,q(p,l,r,d(y,l)?y[l]:void 0))}return c(r,t,e,p,m)},I=function(t,e,r){if(n){var i=T(t,e);if(i&&!i.configurable)return}void 0===r?delete t[e]:g(t,e,r)},M=function(t,e,r,i){this.value=t,this.end=e,this.source=r,this.nodes=i},P=function(t,e){this.source=t,this.index=e};P.prototype={fork:function(t){return new P(this.source,t)},parse:function(){var t=this.source,e=this.skip(D,this.index),r=this.fork(e),i=k(t,e);if(C(L,i))return r.number();switch(i){case"{":return r.object();case"[":return r.array();case'"':return r.string();case"t":return r.keyword(!0);case"f":return r.keyword(!1);case"n":return r.keyword(null)}throw new x('Unexpected character: "'+i+'" at: '+e)},node:function(t,e,r,i,n){return new M(e,i,t?null:S(this.source,r,i),n)},object:function(){for(var t=this.source,e=this.index+1,r=!1,i={},n={};e<t.length;){if(e=this.until(['"',"}"],e),"}"===k(t,e)&&!r){e++;break}var s=this.fork(e).string(),o=s.value;e=s.end,e=this.until([":"],e)+1,e=this.skip(D,e),s=this.fork(e).parse(),g(n,o,s),g(i,o,s.value),e=this.until([",","}"],s.end);var a=k(t,e);if(","===a)r=!0,e++;else if("}"===a){e++;break}}return this.node(1,i,this.index,e,n)},array:function(){for(var t=this.source,e=this.index+1,r=!1,i=[],n=[];e<t.length;){if(e=this.skip(D,e),"]"===k(t,e)&&!r){e++;break}var s=this.fork(e).parse();if(O(n,s),O(i,s.value),e=this.until([",","]"],s.end),","===k(t,e))r=!0,e++;else if("]"===k(t,e)){e++;break}}return this.node(1,i,this.index,e,n)},string:function(){var t=this.index,e=v(this.source,this.index+1);return this.node(0,e.value,t,e.end)},number:function(){var t=this.source,e=this.index,r=e;if("-"===k(t,r)&&r++,"0"===k(t,r))r++;else{if(!C(A,k(t,r)))throw new x("Failed to parse number at: "+r);r=this.skip(R,r+1)}if(!("."===k(t,r)&&(r=this.skip(R,r+1)),"e"!==k(t,r)&&"E"!==k(t,r)||(r++,"+"!==k(t,r)&&"-"!==k(t,r)||r++,r!==(r=this.skip(R,r)))))throw new x("Failed to parse number's exponent value at: "+r);return this.node(0,b(S(t,e,r)),e,r)},keyword:function(t){var e=""+t,r=this.index,i=r+e.length;if(S(this.source,r,i)!==e)throw new x("Failed to parse value at: "+r);return this.node(0,t,r,i)},skip:function(t,e){for(var r=this.source;e<r.length&&C(t,k(r,e));e++);return e},until:function(t,e){e=this.skip(D,e);for(var r=k(this.source,e),i=0;i<t.length;i++)if(t[i]===r)return e;throw new x('Unexpected character: "'+r+'" at: '+e)}};var _=m((function(){var t,e="9007199254740993";return E(e,(function(e,r,i){t=i.source})),t!==e})),j=y&&!m((function(){return 1/E("-0 \t")!=-1/0}));i({target:"JSON",stat:!0,forced:_},{parse:function(t,e){return j&&!l(e)?E(t):function(t,e){t=p(t);var r=new P(t,0,""),i=r.parse(),n=i.value,s=r.skip(D,i.end);if(s<t.length)throw new x('Unexpected extra character: "'+k(t,s)+'" after the parsed data at: '+s);return l(e)?q({"":n},"",e,i):n}(t,e)}})},1517:(t,e,r)=>{"use strict";var i=r(6518),n=r(6194),s=r(2248).remove;i({target:"Map",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var t,e=n(this),r=!0,i=0,o=arguments.length;i<o;i++)t=s(e,arguments[i]),r=r&&t;return!!r}})},1379:(t,e,r)=>{"use strict";var i=r(6518),n=r(6194),s=r(2248),o=s.get,a=s.has,c=s.set;i({target:"Map",proto:!0,real:!0,forced:!0},{emplace:function(t,e){var r,i,s=n(this);return a(s,t)?(r=o(s,t),"update"in e&&(r=e.update(r,t,s),c(s,t,r)),r):(i=e.insert(t,s),c(s,t,i),i)}})},3777:(t,e,r)=>{"use strict";var i=r(6518),n=r(6080),s=r(6194),o=r(6223);i({target:"Map",proto:!0,real:!0,forced:!0},{every:function(t){var e=s(this),r=n(t,arguments.length>1?arguments[1]:void 0);return!1!==o(e,(function(t,i){if(!r(t,i,e))return!1}),!0)}})},4190:(t,e,r)=>{"use strict";var i=r(6518),n=r(6080),s=r(6194),o=r(2248),a=r(6223),c=o.Map,l=o.set;i({target:"Map",proto:!0,real:!0,forced:!0},{filter:function(t){var e=s(this),r=n(t,arguments.length>1?arguments[1]:void 0),i=new c;return a(e,(function(t,n){r(t,n,e)&&l(i,n,t)})),i}})},6097:(t,e,r)=>{"use strict";var i=r(6518),n=r(6080),s=r(6194),o=r(6223);i({target:"Map",proto:!0,real:!0,forced:!0},{findKey:function(t){var e=s(this),r=n(t,arguments.length>1?arguments[1]:void 0),i=o(e,(function(t,i){if(r(t,i,e))return{key:i}}),!0);return i&&i.key}})},2359:(t,e,r)=>{"use strict";var i=r(6518),n=r(6080),s=r(6194),o=r(6223);i({target:"Map",proto:!0,real:!0,forced:!0},{find:function(t){var e=s(this),r=n(t,arguments.length>1?arguments[1]:void 0),i=o(e,(function(t,i){if(r(t,i,e))return{value:t}}),!0);return i&&i.value}})},7273:(t,e,r)=>{"use strict";var i=r(6518),n=r(3317),s=r(6194),o=r(6223);i({target:"Map",proto:!0,real:!0,forced:!0},{includes:function(t){return!0===o(s(this),(function(e){if(n(e,t))return!0}),!0)}})},7415:(t,e,r)=>{"use strict";var i=r(6518),n=r(6194),s=r(6223);i({target:"Map",proto:!0,real:!0,forced:!0},{keyOf:function(t){var e=s(n(this),(function(e,r){if(e===t)return{key:r}}),!0);return e&&e.key}})},9929:(t,e,r)=>{"use strict";var i=r(6518),n=r(6080),s=r(6194),o=r(2248),a=r(6223),c=o.Map,l=o.set;i({target:"Map",proto:!0,real:!0,forced:!0},{mapKeys:function(t){var e=s(this),r=n(t,arguments.length>1?arguments[1]:void 0),i=new c;return a(e,(function(t,n){l(i,r(t,n,e),t)})),i}})},7583:(t,e,r)=>{"use strict";var i=r(6518),n=r(6080),s=r(6194),o=r(2248),a=r(6223),c=o.Map,l=o.set;i({target:"Map",proto:!0,real:!0,forced:!0},{mapValues:function(t){var e=s(this),r=n(t,arguments.length>1?arguments[1]:void 0),i=new c;return a(e,(function(t,n){l(i,n,r(t,n,e))})),i}})},5122:(t,e,r)=>{"use strict";var i=r(6518),n=r(6194),s=r(2652),o=r(2248).set;i({target:"Map",proto:!0,real:!0,arity:1,forced:!0},{merge:function(t){for(var e=n(this),r=arguments.length,i=0;i<r;)s(arguments[i++],(function(t,r){o(e,t,r)}),{AS_ENTRIES:!0});return e}})},230:(t,e,r)=>{"use strict";var i=r(6518),n=r(9306),s=r(6194),o=r(6223),a=TypeError;i({target:"Map",proto:!0,real:!0,forced:!0},{reduce:function(t){var e=s(this),r=arguments.length<2,i=r?void 0:arguments[1];if(n(t),o(e,(function(n,s){r?(r=!1,i=n):i=t(i,n,s,e)})),r)throw new a("Reduce of empty map with no initial value");return i}})},7268:(t,e,r)=>{"use strict";var i=r(6518),n=r(6080),s=r(6194),o=r(6223);i({target:"Map",proto:!0,real:!0,forced:!0},{some:function(t){var e=s(this),r=n(t,arguments.length>1?arguments[1]:void 0);return!0===o(e,(function(t,i){if(r(t,i,e))return!0}),!0)}})},9733:(t,e,r)=>{"use strict";var i=r(6518),n=r(9306),s=r(6194),o=r(2248),a=TypeError,c=o.get,l=o.has,h=o.set;i({target:"Map",proto:!0,real:!0,forced:!0},{update:function(t,e){var r=s(this),i=arguments.length;n(e);var o=l(r,t);if(!o&&i<3)throw new a("Updating absent value");var u=o?c(r,t):n(i>2?arguments[2]:void 0)(t,r);return h(r,t,e(u,t,r)),r}})},4979:(t,e,r)=>{"use strict";var i=r(6518),n=r(4576),s=r(7751),o=r(6980),a=r(4913).f,c=r(9297),l=r(679),h=r(3167),u=r(2603),d=r(5002),p=r(8574),f=r(3724),g=r(6395),m="DOMException",v=s("Error"),y=s(m),w=function(){l(this,b);var t=arguments.length,e=u(t<1?void 0:arguments[0]),r=u(t<2?void 0:arguments[1],"Error"),i=new y(e,r),n=new v(e);return n.name=m,a(i,"stack",o(1,p(n.stack,1))),h(i,this,w),i},b=w.prototype=y.prototype,x="stack"in new v(m),E="stack"in new y(1,2),N=y&&f&&Object.getOwnPropertyDescriptor(n,m),T=!(!N||N.writable&&N.configurable),k=x&&!T&&!E;i({global:!0,constructor:!0,forced:g||k},{DOMException:k?w:y});var S=s(m),C=S.prototype;if(C.constructor!==S)for(var O in g||a(C,"constructor",o(1,S)),d)if(c(d,O)){var R=d[O],A=R.s;c(S,A)||a(S,A,o(6,R.c))}},4603:(t,e,r)=>{"use strict";var i=r(6840),n=r(9504),s=r(655),o=r(2812),a=URLSearchParams,c=a.prototype,l=n(c.append),h=n(c.delete),u=n(c.forEach),d=n([].push),p=new a("a=1&a=2&b=3");p.delete("a",1),p.delete("b",void 0),p+""!="a=2"&&i(c,"delete",(function(t){var e=arguments.length,r=e<2?void 0:arguments[1];if(e&&void 0===r)return h(this,t);var i=[];u(this,(function(t,e){d(i,{key:e,value:t})})),o(e,1);for(var n,a=s(t),c=s(r),p=0,f=0,g=!1,m=i.length;p<m;)n=i[p++],g||n.key===a?(g=!0,h(this,n.key)):f++;for(;f<m;)(n=i[f++]).key===a&&n.value===c||l(this,n.key,n.value)}),{enumerable:!0,unsafe:!0})},7566:(t,e,r)=>{"use strict";var i=r(6840),n=r(9504),s=r(655),o=r(2812),a=URLSearchParams,c=a.prototype,l=n(c.getAll),h=n(c.has),u=new a("a=1");!u.has("a",2)&&u.has("a",void 0)||i(c,"has",(function(t){var e=arguments.length,r=e<2?void 0:arguments[1];if(e&&void 0===r)return h(this,t);var i=l(this,t);o(e,1);for(var n=s(r),a=0;a<i.length;)if(i[a++]===n)return!0;return!1}),{enumerable:!0,unsafe:!0})},8721:(t,e,r)=>{"use strict";var i=r(3724),n=r(9504),s=r(2106),o=URLSearchParams.prototype,a=n(o.forEach);i&&!("size"in o)&&s(o,"size",{get:function(){var t=0;return a(this,(function(){t++})),t},configurable:!0,enumerable:!0})}},i={};function n(t){var e=i[t];if(void 0!==e)return e.exports;var s=i[t]={exports:{}};return r[t].call(s.exports,s,s.exports,n),s.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var s={};return(()=>{"use strict";n.d(s,{default:()=>Or});var t={};n.r(t),n.d(t,{blob2base64:()=>B,borders:()=>b,bounds:()=>w,createBase64Url:()=>A,createBlob:()=>C,createBlobUrl:()=>O,defaults:()=>f,documentHeight:()=>l,extend:()=>g,filterChildren:()=>W,findChildren:()=>F,getParentByTagName:()=>H,indexOfElementNode:()=>k,indexOfNode:()=>N,indexOfSorted:()=>y,indexOfTextNode:()=>T,insert:()=>v,isElement:()=>h,isFloat:()=>d,isNumber:()=>u,isXml:()=>S,locationOf:()=>m,nodeBounds:()=>x,parents:()=>z,parse:()=>D,prefixed:()=>p,qs:()=>q,qsa:()=>I,qsp:()=>M,querySelectorByType:()=>U,requestAnimationFrame:()=>o,revokeBlobUrl:()=>R,sprint:()=>P,treeWalker:()=>_,type:()=>L,uuid:()=>c,walk:()=>j,windowBounds:()=>E}),n(6573),n(8100),n(7936);var e=n(3068),r=n.n(e),i=(n(4114),n(3609),n(7333),n(9920),n(8992),n(4520),n(3949),n(4979),n(4603),n(7566),n(8721),n(8978));const o="undefined"!=typeof window&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame),a="undefined"!=typeof URL?URL:"undefined"!=typeof window?window.URL||window.webkitURL||window.mozURL:void 0,c=()=>{let t=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{const r=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==e?r:7&r|8).toString(16)}))},l=()=>Math.max(document.documentElement.clientHeight,document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight),h=t=>!(!t||t.nodeType!=Node.ELEMENT_NODE),u=t=>!isNaN(parseFloat(t))&&isFinite(t),d=t=>{const e=parseFloat(t);return!1!==u(t)&&("string"==typeof t&&t.indexOf(".")>-1||Math.floor(e)!==e)},p=t=>{const e=["-webkit-","-webkit-","-moz-","-o-","-ms-"],r=t.toLowerCase();if("undefined"==typeof document||void 0!==document.body.style[r])return t;for(let t=0;t<5;t++)if(void 0!==document.body.style[e[t]+r])return e[t]+r;return t},f=(t,...e)=>{for(let r=1,i=e.length;r<i;r++){const i=e[r];for(const e in i)void 0===t[e]&&(t[e]=i[e])}return t},g=(t,...e)=>(e.forEach((e=>{e&&Object.getOwnPropertyNames(e).forEach((r=>{Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))}))})),t),m=(t,e,r,i,n)=>{const s=i||0,o=n||e.length,a=parseInt(s+(o-s)/2);if(r||(r=(t,e)=>t>e?1:t<e?-1:t==e?0:void 0),o-s<=0)return a;const c=r(e[a],t);return o-s==1?c>=0?a:a+1:0===c?a:-1===c?m(t,e,r,a,o):m(t,e,r,s,a)},v=(t,e,r)=>{const i=m(t,e,r);return e.splice(i,0,t),i},y=(t,e,r,i,n)=>{const s=i||0,o=n||e.length,a=parseInt(s+(o-s)/2);if(r||(r=(t,e)=>t>e?1:t<e?-1:t==e?0:void 0),o-s<=0)return-1;const c=r(e[a],t);return o-s==1?0===c?a:-1:0===c?a:-1===c?y(t,e,r,a,o):y(t,e,r,s,a)},w=t=>{const e=window.getComputedStyle(t),r={height:0,width:0};return["width","paddingRight","paddingLeft","marginRight","marginLeft","borderRightWidth","borderLeftWidth"].forEach((t=>{r.width+=parseFloat(e[t])||0})),["height","paddingTop","paddingBottom","marginTop","marginBottom","borderTopWidth","borderBottomWidth"].forEach((t=>{r.height+=parseFloat(e[t])||0})),r},b=t=>{const e=window.getComputedStyle(t),r={height:0,width:0};return["paddingRight","paddingLeft","marginRight","marginLeft","borderRightWidth","borderLeftWidth"].forEach((t=>{r.width+=parseFloat(e[t])||0})),["paddingTop","paddingBottom","marginTop","marginBottom","borderTopWidth","borderBottomWidth"].forEach((t=>{r.height+=parseFloat(e[t])||0})),r},x=t=>{let e;const r=t.ownerDocument;if(t.nodeType==Node.TEXT_NODE){const i=r.createRange();i.selectNodeContents(t),e=i.getBoundingClientRect()}else e=t.getBoundingClientRect();return e},E=()=>{const t=window.innerWidth,e=window.innerHeight;return{top:0,left:0,right:t,bottom:e,width:t,height:e}},N=(t,e)=>{const r=t.parentNode.childNodes;let i=-1;for(let n=0;n<r.length;n++){const s=r[n];if(s.nodeType===e&&i++,s==t)break}return i},T=t=>N(t,Node.TEXT_NODE),k=t=>N(t,Node.ELEMENT_NODE),S=t=>["xml","opf","ncx"].indexOf(t)>-1,C=(t,e)=>new Blob([t],{type:e}),O=(t,e)=>{const r=C(t,e);return a.createObjectURL(r)},R=t=>a.revokeObjectURL(t),A=(t,e)=>{if("string"==typeof t)return"data:"+e+";base64,"+btoa(t)},L=t=>Object.prototype.toString.call(t).slice(8,-1),D=(t,e,r)=>{let n;return n="undefined"==typeof DOMParser||r?i.DOMParser:DOMParser,65279===t.charCodeAt(0)&&(t=t.slice(1)),(new n).parseFromString(t,e)},q=(t,e)=>{if(!t)throw new Error("No Element Provided");if(void 0!==t.querySelector)return t.querySelector(e);{const r=t.getElementsByTagName(e);if(r.length)return r[0]}},I=(t,e)=>void 0!==t.querySelector?t.querySelectorAll(e):t.getElementsByTagName(e),M=(t,e,r)=>{if(void 0!==t.querySelector){e+="[";for(const t in r)e+=t+"~='"+r[t]+"'";return e+="]",t.querySelector(e)}{const i=t.getElementsByTagName(e),n=Array.prototype.slice.call(i,0).filter((t=>{for(const e in r)if(t.getAttribute(e)===r[e])return!0;return!1}));if(n)return n[0]}},P=(t,e)=>{void 0!==(t.ownerDocument||t).createTreeWalker?_(t,e,NodeFilter.SHOW_TEXT):j(t,(t=>{t&&t.nodeType===Node.TEXT_NODE&&e(t)}),!0)},_=(t,e,r)=>{const i=document.createTreeWalker(t,r,null,!1);let n;for(;n=i.nextNode();)e(n)},j=(t,e)=>{if(e(t))return!0;if(t=t.firstChild)do{if(j(t,e))return!0;t=t.nextSibling}while(t);return!1},B=t=>new Promise(((e,r)=>{const i=new FileReader;i.readAsDataURL(t),i.onloadend=()=>{e(i.result)}})),U=(t,e,r)=>{let i;if(void 0!==t.querySelector&&(i=t.querySelector(`${e}[*|type="${r}"]`)),i&&0!==i.length)return i;i=I(t,e);for(let t=0;t<i.length;t++)if(i[t].getAttributeNS("http://www.idpf.org/2007/ops","type")===r||i[t].getAttribute("epub:type")===r)return i[t]},F=t=>{const e=[],r=t.childNodes;for(let t=0;t<r.length;t++){const i=r[t];i.nodeType===Node.ELEMENT_NODE&&e.push(i)}return e},z=t=>{const e=[t];for(;t;t=t.parentNode)e.unshift(t);return e},W=(t,e,r)=>{const i=[],n=t.childNodes;for(let t=0;t<n.length;t++){const s=n[t];if(s.nodeType===Node.ELEMENT_NODE&&s.nodeName.toLowerCase()===e){if(r)return s;i.push(s)}}if(!r)return i},H=(t,e)=>{if(null===t||""===e)return;let r=t.parentNode;for(;r.nodeType===Node.ELEMENT_NODE;){if(r.tagName.toLowerCase()===e)return r;r=r.parentNode}},V=class{constructor(){this.id=c(),this.resolve=null,this.reject=null,this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}};var X=n(5606);const G=class{constructor(t){t.indexOf("://")>-1&&(t=new URL(t).pathname);const e=this.parse(t);this.directory=e.dir+"/",this.filename=e.base,this.extension=e.ext.slice(1),this.path=t}parse(t){const e={root:"",dir:"",base:"",ext:"",name:""};if(0===t.length)return e;const r=this.splitPath(t);if(!r||4!==r.length)throw new Error(`Invalid path: ${t}`);return e.root=r[0],this.isDirectory(t)?e.dir=r[0]+r[1]+r[2]:(e.dir=r[0]+r[1].slice(0,-1),e.base=r[2],e.ext=r[3],e.name=r[2].slice(0,r[2].length-r[3].length)),e}dirname(t){const e=this.splitPath(t),r=e[0],i=e[1];return r||i?r+i:"."}isAbsolute(t){return"/"===t.charAt(0)}isDirectory(t){return"/"===t.charAt(t.length-1)}resolve(){let t="",e=!1;for(let r=arguments.length-1;r>=-1&&!e;r--){let i;i=r>=0?arguments[r]:X?X.cwd():"/",0!==i.length&&(t=i+"/"+t,e=this.isAbsolute(i))}return t=this.normalizeArray(t.split("/"),!e).join("/"),(e?"/":"")+t||"."}relative(t,e){if(t===e)return"";if((t=this.resolve(t))===(e=this.resolve(e)))return"";const r=this.trimArray(t.split("/")),i=this.trimArray(e.split("/")),n=Math.min(r.length,i.length);let s=n;for(let t=0;t<n;t++)if(r[t]!==i[t]){s=t;break}let o=[];for(let t=s;t<r.length;t++)o.push("..");return o=o.concat(i.slice(s)),o.join("/")}normalize(t){const e=this.isAbsolute(t),r=t&&"/"===t[t.length-1];return(t=this.normalizeArray(t.split("/"),!e).join("/"))||e||(t="."),t&&r&&(t+="/"),(e?"/":"")+t}toString(){return this.path}normalizeArray(t,e){const r=[];for(let i=0;i<t.length;i++){const n=t[i];n&&"."!==n&&(".."===n?r.length&&".."!==r[r.length-1]?r.pop():e&&r.push(".."):r.push(n))}return r}splitPath(t){return/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(t).slice(1)}trimArray(t){const e=t.length-1;let r=0;for(;r<=e&&!t[r];r++);let i=e;for(;i>=0&&!t[i];i--);return 0===r&&i===e?t:r>i?[]:t.slice(r,i+1)}},$=class{constructor(t,e){this.Url=void 0,this.href=t,this.protocol="",this.origin="",this.hash="",this.hash="",this.search="",this.base=e;const r=t.indexOf("://")>-1;!r&&!1!==e&&"string"!=typeof e&&window&&window.location&&(this.base=window.location.href);let i=t;if(r||this.base){try{this.base?this.Url=new URL(t,this.base):this.Url=new URL(t),this.href=this.Url.href,this.protocol=this.Url.protocol,this.origin=this.Url.origin,this.hash=this.Url.hash,this.search=this.Url.search,i=this.Url.pathname+(this.Url.search?this.Url.search:"")}catch(t){this.Url=void 0,this.base&&(i=new G(this.base).resolve(i)),console.error(t)}"null"===this.origin&&"file:"===this.protocol&&(this.origin="file://")}this.path=new G(i),this.directory=this.path.directory,this.filename=this.path.filename,this.extension=this.path.extension}resolve(t){if(t.indexOf("://")>-1)return t;const e=this.path.directory,r=G.prototype.resolve(e,t);return this.origin+r}relative(t){const e=this.path.directory;return G.prototype.relative(t,e)}toString(){return this.href}};n(8335),n(1517),n(1379),n(3777),n(4190),n(2359),n(6097),n(7273),n(7415),n(9929),n(7583),n(5122),n(230),n(7268),n(9733),n(1393),n(1454);const Y=class{constructor(){this.collapsed=!1,this.commonAncestorContainer=void 0,this.endContainer=void 0,this.endOffset=void 0,this.startContainer=void 0,this.startOffset=void 0}setStart(t,e){this.startContainer=t,this.startOffset=e,this.endContainer?this.commonAncestorContainer=this._commonAncestorContainer():this.collapse(!0),this._checkCollapsed()}setEnd(t,e){this.endContainer=t,this.endOffset=e,this.startContainer?(this.collapsed=!1,this.commonAncestorContainer=this._commonAncestorContainer()):this.collapse(!1),this._checkCollapsed()}collapse(t){this.collapsed=!0,t?(this.endContainer=this.startContainer,this.endOffset=this.startOffset,this.commonAncestorContainer=this.startContainer.parentNode):(this.startContainer=this.endContainer,this.startOffset=this.endOffset,this.commonAncestorContainer=this.endOffset.parentNode)}selectNode(t){const e=t.parentNode,r=Array.prototype.indexOf.call(e.childNodes,t);this.setStart(e,r),this.setEnd(e,r+1)}selectNodeContents(t){const e=t.nodeType===Node.TEXT_NODE?t.textContent.length:parent.childNodes.length;this.setStart(t,0),this.setEnd(t,e)}_commonAncestorContainer(t,e){const r=z(t||this.startContainer),i=z(e||this.endContainer);if(r[0]==i[0])for(let t=0;t<r.length;t++)if(r[t]!=i[t])return r[t-1]}_checkCollapsed(){this.startContainer===this.endContainer&&this.startOffset===this.endOffset?this.collapsed=!0:this.collapsed=!1}toString(){}};class J{constructor(t,e,r){if(this.base={},this.spinePos=0,this.path={},this.range=!1,this.start=null,this.end=null,this.str="",!(this instanceof J))return new J(t,e,r);"string"==typeof e?(this.base=this.parseComponent(e),this.spinePos=this.base.steps[1].index):"object"==typeof e&&e.steps&&(this.base=e);const i=this.checkType(t);if("string"===i)return this.parse(t);if("range"===i)return this.fromRange(t,this.base,r);if("node"===i)return this.fromNode(t,this.base,r);if("EpubCFI"===i&&t.path)return t;if(void 0===t)return this;throw new TypeError("not a valid argument for EpubCFI")}checkType(t){return void 0===t?void 0:this.isCfiString(t)?"string":"object"==typeof t?t instanceof Range||void 0!==t.startContainer?"range":t instanceof Node?"node":t instanceof J?"EpubCFI":void 0:void 0}collapse(t){!1!==this.range&&(t?(this.path.steps=this.path.steps.concat(this.start.steps),this.path.terminal=this.start.terminal):(this.path.steps=this.path.steps.concat(this.end.steps),this.path.terminal=this.end.terminal),this.range=!1)}compare(t,e){if("string"==typeof t&&(t=new J(t)),"string"==typeof e&&(e=new J(e)),t.spinePos>e.spinePos)return 1;if(t.spinePos<e.spinePos)return-1;let r,i,n,s;t.range?(r=t.path.steps.concat(t.start.steps),i=t.start.terminal):(r=t.path.steps,i=t.path.terminal),e.range?(n=e.path.steps.concat(e.start.steps),s=e.start.terminal):(n=e.path.steps,s=e.path.terminal);for(let t=0;t<r.length;t++){if(!r[t])return-1;if(!n[t])return 1;if(r[t].index>n[t].index)return 1;if(r[t].index<n[t].index)return-1}return r.length<n.length?-1:i.offset>s.offset?1:i.offset<s.offset?-1:0}generateChapterComponent(t,e,r){let i="/"+2*(t+1)+"/";return i+=2*(parseInt(e)+1),r&&(i+="["+r+"]"),i}getBaseComponent(t){return t.split("!")[0]}getPathComponent(t){const e=t.split("!");if(e[1])return e[1].split(",")[0]}getRange(t){const e=t.split(",");return 3===e.length?[e[1],e[2]]:null}getCharecterOffsetComponent(t){return t.split(":")[1]||""}joinSteps(t){return t?t.map((t=>{let e="";return"element"===t.type&&(e+=2*(t.index+1)),"text"===t.type&&(e+=1+2*t.index),t.id&&(e+="["+t.id+"]"),e})).join("/"):""}pathTo(t,e,r){const i={steps:[],terminal:{offset:null,assertion:null}};let n,s=t;for(;s&&s.parentNode&&s.parentNode.nodeType!==Node.DOCUMENT_NODE;)n=r?this.filteredStep(s,r):this.step(s),n&&i.steps.unshift(n),s=s.parentNode;return null!==e&&e>=0&&(i.terminal.offset=e,"text"!==i.steps[i.steps.length-1].type&&i.steps.push({index:0,type:"text"})),i}equalStep(t,e){return!(!t||!e||t.id!==e.id||t.index!==e.index||t.type!==e.type)}filter(t,e){let r,i,n;if(t.nodeType===Node.TEXT_NODE?(i=!0,r=t.parentNode,n=t.parentNode.classList.contains(e)):(i=!1,n=t.classList.contains(e)),n&&i){const e=r.previousSibling,i=r.nextSibling;let n;return e&&e.nodeType===Node.TEXT_NODE?n=e:i&&i.nodeType===Node.TEXT_NODE&&(n=i),n||t}return n&&!i?null:t}filteredPosition(t,e){let r,i;return t.nodeType===Node.ELEMENT_NODE?(r=t.parentNode.children,i=this.normalizedMap(r,Node.ELEMENT_NODE,e)):(r=t.parentNode.childNodes,t.parentNode.classList.contains(e)&&(r=(t=t.parentNode).parentNode.childNodes),i=this.normalizedMap(r,Node.TEXT_NODE,e)),i[Array.prototype.indexOf.call(r,t)]}filteredStep(t,e){const r=this.filter(t,e);if(null!==r)return{id:r.id,index:this.filteredPosition(r,e),tagName:r.tagName,type:r.nodeType===Node.TEXT_NODE?"text":"element"}}findNode(t,e,r){const i=e||document;let n;if(r)n=this.walkToNode(t,i,r);else if(void 0!==i.evaluate){const e=this.stepsToXpath(t),r=XPathResult.FIRST_ORDERED_NODE_TYPE;n=i.evaluate(e,i,null,r,null).singleNodeValue}else n=this.walkToNode(t,i);return n}fixMiss(t,e,r,i){let n=this.findNode(t.slice(0,-1),r,i);const s=n.childNodes,o=t[t.length-1].index,a=this.normalizedMap(s,Node.TEXT_NODE,i);for(const t in a){if(!a.hasOwnProperty(t))return;if(a[t]===o){const r=s[t],i=r.textContent.length;if(!(e>i)){n=r.nodeType===Node.ELEMENT_NODE?r.childNodes[0]:r;break}e-=i}}return{container:n,offset:e}}fromNode(t,e,r){const i=new J;return"string"==typeof e?(i.base=this.parseComponent(e),i.spinePos=i.base.steps[1].index):"object"==typeof e&&(i.base=e),i.path=this.pathTo(t,null,r),i}fromRange(t,e,r){const i=new J,n=t.startContainer,s=n.ownerDocument,o=t.endContainer;let a=t.startOffset,c=t.endOffset,l=!1;if(r&&(l=null!==s.querySelector("."+r)),"string"==typeof e?(i.base=this.parseComponent(e),i.spinePos=i.base.steps[1].index):"object"==typeof e&&(i.base=e),t.collapsed)l&&(a=this.patchOffset(n,a,r)),i.path=this.pathTo(n,a,r);else{i.range=!0,l&&(a=this.patchOffset(n,a,r)),i.start=this.pathTo(n,a,r),l&&(c=this.patchOffset(o,c,r)),i.end=this.pathTo(o,c,r),i.path={steps:[],terminal:null};for(let t=0,e=i.start.steps.length;t<e&&this.equalStep(i.start.steps[t],i.end.steps[t]);t++)t===e-1?i.start.terminal===i.end.terminal&&(i.path.steps.push(i.start.steps[t]),i.range=!1):i.path.steps.push(i.start.steps[t]);i.start.steps=i.start.steps.slice(i.path.steps.length),i.end.steps=i.end.steps.slice(i.path.steps.length)}return i}isCfiString(t){return"string"==typeof t&&0===t.indexOf("epubcfi(")&&")"===t[t.length-1]}normalizedMap(t,e,r){const i={};let n,s,o=-1;for(let a=0,c=t.length;a<c;a++)n=t[a].nodeType,n===Node.ELEMENT_NODE&&t[a].classList.contains(r)&&(n=Node.TEXT_NODE),a>0&&n===Node.TEXT_NODE&&s===Node.TEXT_NODE?i[a]=o:e===n&&(o+=1,i[a]=o),s=n;return i}parse(t){const e=new J;if("string"!=typeof t)throw new TypeError("invalid argument type");if(!this.isCfiString(t))throw new Error("invalid EpubCFI string format");e.str=t,t=t.slice(8,t.length-1);const r=this.getBaseComponent(t);if(!r)return e.spinePos=-1,e;e.base=this.parseComponent(r);const i=this.getPathComponent(t);e.path=this.parseComponent(i);const n=this.getRange(t);return n&&(e.range=!0,e.start=this.parseComponent(n[0]),e.end=this.parseComponent(n[1])),e.spinePos=e.base.steps[1].index,e}parseComponent(t){const e={steps:[],terminal:{offset:null,assertion:null}},r=t.split(":"),i=r[0].split("/");return r.length>1&&(e.terminal=this.parseTerminal(r[1])),""===i[0]&&i.shift(),e.steps=i.map((t=>this.parseStep(t))),e}parseStep(t){const e=parseInt(t);if(isNaN(e))return;const r=e%2==0,i=t.match(/\[(.*)\]/);return{id:i&&i[1]?i[1]:null,index:r?e/2-1:(e-1)/2,type:r?"element":"text"}}parseTerminal(t){const e=t.match(/\[(.*)\]/),r=e&&e[1],i=r?t.split("[")[0]:t,n=parseInt(i);return{assertion:r?e[1]:null,offset:u(n)?n:null}}patchOffset(t,e,r){if(t.nodeType!==Node.TEXT_NODE)throw new Error("Anchor must be a text node");let i=t,n=e;for(t.parentNode.classList.contains(r)&&(i=t.parentNode);i.previousSibling;){if(i.previousSibling.nodeType===Node.ELEMENT_NODE){if(!i.previousSibling.classList.contains(r))break;n+=i.previousSibling.textContent.length}else n+=i.previousSibling.textContent.length;i=i.previousSibling}return n}position(t){let e,r;return t.nodeType===Node.ELEMENT_NODE?(e=t.parentNode.children,e||(e=F(t.parentNode)),r=Array.prototype.indexOf.call(e,t)):(e=this.textNodes(t.parentNode),r=e.indexOf(t)),r}segmentString(t){let e="/";return e+=this.joinSteps(t.steps),t.terminal&&null!==t.terminal.offset&&(e+=":"+t.terminal.offset),t.terminal&&null!==t.terminal.assertion&&(e+="["+t.terminal.assertion+"]"),e}step(t){return{id:t.id,index:this.position(t),tagName:t.tagName,type:t.nodeType===Node.TEXT_NODE?"text":"element"}}stepsToXpath(t){const e=[".","*"];return t.forEach((t=>{const r=t.index+1;t.id?e.push("*[position()="+r+" and @id='"+t.id+"']"):"text"===t.type?e.push("text()["+r+"]"):e.push("*["+r+"]")})),e.join("/")}stepsToQuerySelector(t){const e=["html"];return t.forEach((t=>{const r=t.index+1;t.id?e.push("#"+t.id):"text"===t.type||e.push("*:nth-child("+r+")")})),e.join(">")}textNodes(t,e){return Array.prototype.slice.call(t.childNodes).filter((t=>t.nodeType===Node.TEXT_NODE||!!t.classList.contains(e)))}toRange(t,e){const r=t||document;let i,n,s,o,a,c,l;const h=e&&null!==r.querySelector("."+e)?e:void 0;let u,d;if(u=void 0!==r.createRange?r.createRange():new Y,this.range?(i=this.start,a=this.path.steps.concat(i.steps),s=this.findNode(a,r,h),n=this.end,c=this.path.steps.concat(n.steps),o=this.findNode(c,r,h)):(i=this.path,a=this.path.steps,s=this.findNode(a,r,h)),!s)return console.error("No startContainer found for",this.toString()),null;try{l=null!==i.terminal.offset,u.setStart(s,l?i.terminal.offset:0)}catch(t){d=this.fixMiss(a,i.terminal.offset,r,h),u.setStart(d.container,d.offset),console.error(t)}if(o)try{l=null!==n.terminal.offset,u.setEnd(o,l?n.terminal.offset:0)}catch(t){d=this.fixMiss(c,this.end.terminal.offset,r,h),u.setEnd(d.container,d.offset),console.error(t)}return u}toString(){let t="epubcfi(";return t+=this.segmentString(this.base),t+="!",t+=this.segmentString(this.path),this.range&&this.start&&(t+=",",t+=this.segmentString(this.start)),this.range&&this.end&&(t+=",",t+=this.segmentString(this.end)),t+=")",t}walkToNode(t,e,r){const i=e||document;let n=i.documentElement;for(let e=0,s=t.length;e<s;e++){const s=t[e];if("element"===s.type?n=s.id?i.getElementById(s.id):(n.children||F(n))[s.index]:"text"===s.type&&(n=this.textNodes(n,r)[s.index]),!n)break}return n}}const Z=J,Q=class{constructor(){this.cfi=null,this.index=0,this.percentage=0}set(t){return g(this,t||{}),this}},K=class{constructor(t){this._q=[],this.context=t,this.tick=o,this.running=!1,this.paused=!1}enqueue(t,...e){let r;if("function"==typeof t){const i=new V;r={task:t,args:e,deferred:i,promise:i.promise}}else r={promise:t};return this._q.push(r),!1!==this.paused||this.running||this.run(),r.promise}dequeue(){let t;if(!this._q.length||this.paused)return t=new V,t.deferred.resolve(),t.promise;{t=this._q.shift();const e=t.task;if(e){const r=e.apply(this.context,t.args);return r&&"function"==typeof r.then?r.then((e=>{t.deferred.resolve(e)}),(e=>{t.deferred.reject(e)})):(t.deferred.resolve(r),t.promise)}if(t.promise)return t.promise}}dump(){for(;this._q.length;)this.dequeue()}run(){return!1===this.running&&(this.running=!0,this.deferred=new V),this.tick.call(window,(()=>{this._q.length?this.dequeue().then((()=>{this.run()})):(this.deferred.resolve(),this.running=!1)})),this.paused&&(this.paused=!1),this.deferred.promise}clear(){this._q=[]}length(){return this._q.length}pause(){this.paused=!0}stop(){this._q=[],this.running=!1,this.paused=!0}},tt="0.3",et=["keydown","keyup","keypressed","mouseup","mousedown","mousemove","click","touchend","touchstart","touchmove"],rt="openFailed",it="expand",nt="resized",st="selected",ot="selectedRange",at="linkClicked",ct="changed",lt="resized",ht="added",ut="scroll",dt="scrolled",pt="removed",ft="relocated",gt="writingMode",mt="loaderror",vt="rendered",yt="resized",wt="displayed",bt="shown",xt="hidden",Et="markClicked",Nt="started",Tt="attached",kt="displayed",St="displayerror",Ct="rendered",Ot="removed",Rt="resized",At="orientationchange",Lt="relocated",Dt="markClicked",qt="selected",It="layout",Mt="updated",Pt="attach",_t="detach",jt="selected",Bt="injected",Ut="rejected",Ft="resized",zt="orientationchange";class Wt extends Map{constructor(t,e,r){super(),this.sections=t,this.pause=r||100,this.break=150,this.request=e,this.current=new Q,this.processing=new V,this.generated=this.processing.promise,this.q=new K(this)}async generate(t){return Number.isInteger(t)?this.break=t:(this.break=parseInt(t),console.warn("The input value type is not an integer")),this.q.pause(),this.sections.forEach((t=>{t.linear&&this.q.enqueue(this.process.bind(this),t)})),this.q.run().then((()=>{const t=1===this.size?1:this.size-1,e=[...this.values()];return e.forEach(((e,r)=>{e.index=r,e.percentage=r/t})),this.size&&this.current.set(e[0]),this.processing.resolve(this),this}))}createRange(){return{startContainer:void 0,startOffset:void 0,endContainer:void 0,endOffset:void 0}}async process(t){return t.load(this.request).then((e=>this.parse(e,t.cfiBase)))}async parse(t,e,r){let i;r=r||this.break;let n,s=0;const o=t.ownerDocument,a=q(o,"body");return this.treeWalker(a,(t=>{const o=new V;if(0===t.textContent.trim().length)return o.resolve(!1),o.promise;0==s&&(i=this.createRange(),i.startContainer=t,i.startOffset=0);const a=t.length;let c=r-s,l=0;for(c>a&&(s+=a,l=a);l<a;)if(c=r-s,0===s&&(l+=1,i=this.createRange(),i.startContainer=t,i.startOffset=l),l+c>=a)s+=a-l,l=a;else{l+=c,i.endContainer=t,i.endOffset=l;const r=new Z(i,e).toString(),n=(new Q).set({cfi:r});this.set(r,n),s=0}return n=t,o.resolve(!0),o.promise})).then((()=>{if(i&&i.startContainer&&n){i.endContainer=n,i.endOffset=n.length;const t=new Z(i,e).toString(),r=(new Q).set({cfi:t});this.set(t,r),s=0}return this}))}treeWalker(t,e){const r=NodeFilter.SHOW_TEXT,i=document.createTreeWalker(t,r),n=[];for(;i.nextNode();)n.push(e(i.currentNode));return Promise.all(n)}locationFromCfi(t){if(0===this.size)return-1;const e=new Z(t),r=[...this.keys()],i=m(e,r,e.compare);return i>this.size-1?-1:i}percentageFromCfi(t){if(0===this.size)return 0;const e=this.locationFromCfi(t);return this.percentageFromLocation(e)}percentageFromLocation(t){return 0===this.size||this.size>=t&&t<0?0:t/(1===this.size?1:this.size-1)}cfiFromLocation(t){return 0===this.size||this.size>=t&&t<0?null:[...this.keys()][t]}cfiFromPercentage(t){let e,r=this.size-1;if(t>=0&&t<=1){const i=Math.round(r*t);e=this.cfiFromLocation(i)}else{const t=new Z([...this.keys()][r]);t.collapse(),e=t.toString(),console.warn("Recommended a normalize value to between 0 - 1")}return e}load(t){if("string"==typeof t){this.clear();const e=JSON.parse(t);e.items.forEach((t=>this.set(t.cfi,t))),this.break=e.break,this.pause=e.pause,this.current.set(this.get(e.idref))}else console.error("Invalid argument type");return this}save(){return JSON.stringify({items:[...this.values()],idref:this.current.cfi,break:this.break,pause:this.pause})}set(t){if(2===arguments.length)return super.set(arguments[0],arguments[1]),this;if(0===this.size)return this;if(Object.keys(t||{}).forEach((e=>{const r=t[e];if(this.current[e]===r||void 0===r)delete t[e];else if("string"==typeof r){if("cfi"===e&&Z.prototype.isCfiString(r)){const i=this.locationFromCfi(r),n=[...this.values()][i];n?this.current.set(n):delete t[e]}}else if("number"==typeof r){if("index"===e){const i=this.cfiFromLocation(r),n=this.get(i);n?this.current.set(n):delete t[e]}else if("percentage"===e){const i=this.cfiFromPercentage(r),n=this.get(i);n?this.current.set(n):delete t[e]}}else console.error("Invalid value type to "+e)})),Object.keys(t||{}).length){const{...e}=this.current;this.emit(ct,e,t)}return this}clear(){super.clear(),this.current.cfi=null,this.current.index=-1,this.current.percentage=0}destroy(){this.clear(),this.pause=void 0,this.break=void 0,this.current=void 0,this.request=void 0,this.q.stop(),this.q=void 0,this.sections=void 0,this.generated=void 0}}r()(Wt.prototype);const Ht=Wt,Vt=class{constructor(){this.directory="",this.fullPath="",this.encoding="",this.mediaType=""}clear(){this.directory="",this.fullPath="",this.encoding="",this.mediaType=""}parse(t){if(!t)throw new Error("Container File Not Found");const e=q(t,"rootfile");if(!e)throw new Error("No RootFile Found");return this.fullPath=e.getAttribute("full-path"),this.directory=G.prototype.dirname(this.fullPath),this.encoding=t.characterSet,this.mediaType=e.getAttribute("media-type"),new Promise((t=>{t(this)}))}destroy(){this.directory=void 0,this.fullPath=void 0,this.encoding=void 0,this.mediaType=void 0}};class Xt extends Map{constructor(){super()}parse(t){for(const e of t.children)if("meta"===e.nodeName)this.parseMeta(e);else if(/dc:/.test(e.nodeName)){const t=e.nodeName.substring(3);this.set(t,e.textContent)}return new Promise(((t,e)=>{t(this)}))}parseMeta(t){const e=t.getAttribute("property");if(void 0!==e&&"string"==typeof e)if(/rendition:/.test(e)){const r=e.substring(10);this.set(r,t.textContent)}else if(/dcterms:/.test(e)){const r=e.substring(8);this.set(r,t.textContent)}else/media:/.test(e)&&this.set(e,t.textContent)}load(t){return Object.keys(t).forEach((e=>{this.set(e,t[e])})),new Promise(((t,e)=>{t(this)}))}destroy(){this.clear()}}const Gt=Xt;class $t extends Map{constructor(){super(),this.navPath=null,this.coverPath=null}clear(){super.clear(),this.navPath=null,this.coverPath=null}parse(t){return I(t,"item").forEach((t=>{const e=t.getAttribute("properties")||"",r={id:t.getAttribute("id"),href:t.getAttribute("href")||"","media-type":t.getAttribute("media-type")||"","media-overlay":t.getAttribute("media-overlay")||"",properties:e.length?e.split(" "):[]};this.set(r.id,r),null!==this.navPath||"nav"!==e&&"application/x-dtbncx+xml"!==r["media-type"]||(this.navPath=r.href),null===this.coverPath&&"cover-image"===e&&(this.coverPath=r.href)})),null===this.coverPath&&(this.coverPath=this.findCoverPath(t)),new Promise((t=>{t(this)}))}findCoverPath(t){const e=t.ownerDocument,r=M(e,"meta",{name:"cover"});if(r){const t=r.getAttribute("content"),i=e.getElementById(t);return i?i.getAttribute("href"):null}return null}load(t){return t.forEach((t=>{for(const e of t.properties)switch(e){case"nav":this.navPath=t.href;break;case"cover-image":this.coverPath=t.href}this.set(t.id,t)})),new Promise((t=>{t(this)}))}destroy(){this.clear(),this.navPath=void 0,this.coverPath=void 0}}const Yt=$t;class Jt extends Map{constructor(){super(),this.nodeIndex=0}clear(){super.clear(),this.nodeIndex=0}parse(t){return I(t,"itemref").forEach(((t,e)=>{const r=t.getAttribute("properties")||"",i=t.getAttribute("idref");this.set(i,{id:t.getAttribute("id"),idref:i,index:e,linear:t.getAttribute("linear")||"yes",properties:r.length?r.split(" "):[]})})),this.nodeIndex=N(t,Node.ELEMENT_NODE),new Promise((t=>{t(this)}))}load(t){return t.forEach(((t,e)=>{this.set(t.idref,{id:t.id||null,idref:t.idref,index:e,linear:t.linear,properties:t.properties})})),this.nodeIndex=0,new Promise((t=>{t(this)}))}destroy(){this.clear(),this.nodeIndex=void 0}}const Zt=Jt,Qt=class{constructor(){this.metadata=new Gt,this.manifest=new Yt,this.spine=new Zt,this.direction=null,this.version=null,this.uniqueIdentifier=null}clear(){this.metadata.clear(),this.manifest.clear(),this.spine.clear(),this.direction=null,this.version=null,this.uniqueIdentifier=null}async parse(t){if(!t)throw new Error("Package File Not Found");const e=q(t,"metadata");if(!e)throw new Error("No Metadata Found");const r=q(t,"manifest");if(!r)throw new Error("No Manifest Found");const i=q(t,"spine");if(!i)throw new Error("No Spine Found");const n=[];return n.push(this.metadata.parse(e)),n.push(this.manifest.parse(r)),n.push(this.spine.parse(i)),this.direction=this.parseDirection(t,i),this.version=this.parseVersion(t),this.uniqueIdentifier=this.metadata.get("identifier"),void 0===this.uniqueIdentifier&&(this.uniqueIdentifier=this.findUniqueIdentifier(t)),Promise.all(n).then((()=>this))}parseDirection(t,e){let r=t.documentElement.getAttribute("dir");return null===r&&(r=e.getAttribute("page-progression-direction")),r||""}parseVersion(t){return t.documentElement.getAttribute("version")||""}findUniqueIdentifier(t){const e=t.documentElement.getAttribute("unique-identifier");if(!e)return"";const r=t.getElementById(e);return r&&"identifier"===r.localName&&"http://purl.org/dc/elements/1.1/"===r.namespaceURI&&r.childNodes.length>0?r.childNodes[0].nodeValue.trim():""}async load(t){const e=[];return e.push(this.metadata.load(t.metadata)),e.push(this.manifest.load(t.manifest)),e.push(this.spine.load(t.spine)),this.direction=t.direction,this.version=t.version,this.uniqueIdentifier=this.metadata.get("identifier"),Promise.all(e).then((()=>this))}destroy(){this.metadata.destroy(),this.manifest.destroy(),this.spine.destroy(),this.metadata=void 0,this.manifest=void 0,this.spine=void 0,this.direction=void 0,this.version=void 0,this.uniqueIdentifier=void 0}};class Kt extends Map{constructor(){super()}parse(t){return Array.isArray(t)?this.load(t):"nav"===t.nodeName&&this.parseNav(t),new Promise(((t,e)=>{t(this)}))}parseNav(t){(t?I(t,"li"):[]).forEach((t=>{const e=this.navItem(t);e&&this.set(e.type,e)}))}navItem(t){const e=W(t,"a",!0);if(!e)return null;const r=e.getAttribute("epub:type"),i=e.getAttribute("href")||"";return r?{type:r,href:i,label:e.textContent||""}:null}load(t){t.forEach((t=>{this.set(t.type,t)}))}destroy(){this.clear()}}const te=Kt,ee=class extends Array{constructor(){super(),this.epubcfi=new Z,this.pages=[],this.locations=[],this.firstPage=0,this.lastPage=0,this.totalPages=0}parse(t){return Array.isArray(t)?this.load(t):"nav"===t.nodeName?this.parseNav(t):"pageList"===t.nodeName&&this.parseNcx(t),this.length&&this.process(),new Promise(((t,e)=>{t(this)}))}parseNav(t){(t?I(t,"li"):[]).forEach((t=>{this.push(this.navItem(t))}))}navItem(t){const e=q(t,"a"),r=e.getAttribute("href")||"",i=e.textContent||"",n=parseInt(i);if(-1!==r.indexOf("epubcfi")){const t=r.split("#");return{cfi:t.length>1?t[1]:null,packageUrl:t[0],href:r,page:n}}return{href:r,page:n}}parseNcx(t){(I(t,"pageTarget")||[]).forEach((t=>{this.push(this.ncxItem(t))}))}ncxItem(t){const e=q(t,"navLabel"),r=q(e,"text").textContent;return{href:q(t,"content").getAttribute("src"),page:parseInt(r,10)}}process(){this.forEach((t=>{this.pages.push(t.page),t.cfi&&this.locations.push(t.cfi)}),this),this.firstPage=parseInt(this.pages[0]),this.lastPage=parseInt(this.pages[this.pages.length-1]),this.totalPages=this.lastPage-this.firstPage}pageFromCfi(t){if(0===this.locations.length)return-1;let e,r=y(t,this.locations,this.epubcfi.compare);return-1!=r?e=this.pages[r]:(r=m(t,this.locations,this.epubcfi.compare),e=r-1>=0?this.pages[r-1]:this.pages[0],void 0!==e||(e=-1)),e}cfiFromPage(t){"number"!=typeof t&&(t=parseInt(t));const e=this.pages.indexOf(t);let r=null;return-1!==e&&(r=this.locations[e]),r}pageFromPercentage(t){return Math.round(this.totalPages*t)}percentageFromPage(t){const e=(t-this.firstPage)/this.totalPages;return Math.round(1e3*e)/1e3}percentageFromCfi(t){const e=this.pageFromCfi(t);return this.percentageFromPage(e)}load(t){t.forEach((t=>{this.push(t)}))}clear(){this.length&&(this.splice(0),this.pages.splice(0),this.locations.splice(0),this.firstPage=0,this.lastPage=0,this.totalPages=0)}destroy(){this.clear(),this.pages=void 0,this.locations=void 0,this.firstPage=void 0,this.lastPage=void 0,this.totalPages=void 0,this.epubcfi=void 0}},re=class extends Array{constructor(){super(),this.links=new Map}get(t){const e=t.split("/"),r=e.length?e[e.length-1]:t;return this.links.get(t)||this.links.get(r)}parse(t){return Array.isArray(t)?this.load(t):"nav"===t.nodeName?this.parseNav(t):"navMap"===t.nodeName&&this.parseNcx(t),new Promise((t=>{t(this)}))}parseNav(t,e=null,r=null){const i=W(t,"ol",!0);if(!i)return;if(!i.children)return;const n=i.children.length,s=e||this;for(let t=0;t<n;t++){const e=i.children[t];if("li"!==e.nodeName)continue;const n=this.navItem(e,i);n&&(n.parentId=r,s.push(n),this.parseNav(e,n.subitems,n.id))}}navItem(t){const e=q(t,"a")||q(t,"span");if(!e)return null;const r=e.getAttribute("href"),i=r.split("#"),n=2===i.length?i[1]:"",s=t.getAttribute("id")||n||r,o=e.textContent||"",a={id:s,href:r,bind:i[0],label:o,parentId:null,subitems:[]};return this.links.set(r,a),a}parseNcx(t,e=null,r=null){if(!t.children)return;const i=t.children.length,n=e||this;for(let e=0;e<i;++e){const i=t.children[e];if("navPoint"!==i.nodeName)continue;const s=this.ncxItem(i);s.parentId=r,n.push(s),this.parseNcx(i,s.subitems,s.id)}}ncxItem(t){const e=q(t,"content"),r=q(t,"navLabel"),i=e.getAttribute("src"),n=i.split("#"),s=2===n.length?n[1]:"",o=t.getAttribute("id")||s||i,a=r.textContent||"",c={id:o,href:i,bind:n[0],label:a,parentId:null,subitems:[]};return this.links.set(i,c),c}load(t,e=0,r=null){e+=1,t.forEach((t=>{const i=t.href,n=i.split("#"),s=2===n.length?n[1]:"";t.id=t.id||s||i,t.bind=n[0],t.parentId=r,1===e&&this.push(t),this.links.set(i,t),this.load(t.subitems,e,t.id)}))}clear(){this.length&&(this.links.clear(),this.splice(0))}destroy(){this.clear(),this.links=void 0}},ie=class{constructor(){this.landmarks=new te,this.pageList=new ee,this.toc=new re}clear(){this.landmarks.clear(),this.pageList.clear(),this.toc.clear()}async parse(t){const e=[];if(t.nodeType===Node.DOCUMENT_NODE){let r,i;if(t.body&&(r=I(t,"nav")))r.forEach((t=>{switch(t.getAttribute("epub:type")){case"landmarks":e.push(this.landmarks.parse(t));break;case"page-list":e.push(this.pageList.parse(t));break;case"toc":e.push(this.toc.parse(t))}}));else if(i=q(t,"ncx"))for(const t of i.children)switch(t.nodeName){case"navMap":e.push(this.toc.parse(t));break;case"pageList":e.push(this.pageList.parse(t))}}else"object"==typeof t&&(e.push(this.landmarks.parse(t.landmarks||[])),e.push(this.pageList.parse(t["page-list"]||[])),e.push(this.toc.parse(t.toc||[])));return Promise.all(e).then((()=>this))}forEach(...t){this.toc.forEach(...t)}destroy(){this.clear(),this.landmarks.destroy(),this.landmarks=void 0,this.pageList.destroy(),this.pageList=void 0,this.toc.destroy(),this.toc=void 0}},ne=(t,e)=>{if(!t)return;let r=q(t,"head"),i=q(r,"base");i||(i=t.createElement("base"),r.insertBefore(i,r.firstChild));let n=e.url;n.indexOf("://")>-1||(n=new URL(n,t.baseURI).href),i.setAttribute("href",n)},se=(t,e)=>{if(!t)return;let r=e.canonical,i=q(t,"head"),n=q(i,"link[rel='canonical']");n?n.setAttribute("href",r):(n=t.createElement("link"),n.setAttribute("rel","canonical"),n.setAttribute("href",r),i.appendChild(n))},oe=(t,e)=>{if(!t)return;let r=q(t,"head"),i=q(r,"link[property='dc.identifier']");i?i.setAttribute("content",e.idref):(i=t.createElement("meta"),i.setAttribute("name","dc.identifier"),i.setAttribute("content",e.idref),r.appendChild(i))},ae={application:{ecmascript:["es","ecma"],javascript:"js",ogg:"ogx",pdf:"pdf",postscript:["ps","ai","eps","epsi","epsf","eps2","eps3"],"rdf+xml":"rdf",smil:["smi","smil"],"xhtml+xml":["xhtml","xht"],xml:["xml","xsl","xsd","opf","ncx"],zip:"zip","x-httpd-eruby":"rhtml","x-latex":"latex","x-maker":["frm","maker","frame","fm","fb","book","fbdoc"],"x-object":"o","x-shockwave-flash":["swf","swfl"],"x-silverlight":"scr","epub+zip":"epub","font-tdpfr":"pfr","inkml+xml":["ink","inkml"],json:"json","jsonml+json":"jsonml","mathml+xml":"mathml","metalink+xml":"metalink",mp4:"mp4s","omdoc+xml":"omdoc",oxps:"oxps","vnd.amazon.ebook":"azw",widget:"wgt","x-dtbook+xml":"dtb","x-dtbresource+xml":"res","x-font-bdf":"bdf","x-font-ghostscript":"gsf","x-font-linux-psf":"psf","x-font-otf":"otf","x-font-pcf":"pcf","x-font-snf":"snf","x-font-ttf":["ttf","ttc"],"x-font-type1":["pfa","pfb","pfm","afm"],"x-font-woff":"woff","x-mobipocket-ebook":["prc","mobi"],"x-mspublisher":"pub","x-nzb":"nzb","x-tgif":"obj","xaml+xml":"xaml","xml-dtd":"dtd","xproc+xml":"xpl","xslt+xml":"xslt","internet-property-stream":"acx","x-compress":"z","x-compressed":"tgz","x-gzip":"gz"},audio:{flac:"flac",midi:["mid","midi","kar","rmi"],mpeg:["mpga","mpega","mp2","mp3","m4a","mp2a","m2a","m3a"],mpegurl:"m3u",ogg:["oga","ogg","spx"],"x-aiff":["aif","aiff","aifc"],"x-ms-wma":"wma","x-wav":"wav",adpcm:"adp",mp4:"mp4a",webm:"weba","x-aac":"aac","x-caf":"caf","x-matroska":"mka","x-pn-realaudio-plugin":"rmp",xm:"xm",mid:["mid","rmi"]},image:{gif:"gif",ief:"ief",jpeg:["jpeg","jpg","jpe"],pcx:"pcx",png:"png","svg+xml":["svg","svgz"],tiff:["tiff","tif"],"x-icon":"ico",bmp:"bmp",webp:"webp","x-pict":["pic","pct"],"x-tga":"tga","cis-cod":"cod"},text:{"cache-manifest":["manifest","appcache"],css:"css",csv:"csv",html:["html","htm","shtml","stm"],mathml:"mml",plain:["txt","text","brf","conf","def","list","log","in","bas"],richtext:"rtx","tab-separated-values":"tsv","x-bibtex":"bib"},video:{mpeg:["mpeg","mpg","mpe","m1v","m2v","mp2","mpa","mpv2"],mp4:["mp4","mp4v","mpg4"],quicktime:["qt","mov"],ogg:"ogv","vnd.mpegurl":["mxu","m4u"],"x-flv":"flv","x-la-asf":["lsf","lsx"],"x-mng":"mng","x-ms-asf":["asf","asx","asr"],"x-ms-wm":"wm","x-ms-wmv":"wmv","x-ms-wmx":"wmx","x-ms-wvx":"wvx","x-msvideo":"avi","x-sgi-movie":"movie","x-matroska":["mpv","mkv","mk3d","mks"],"3gpp2":"3g2",h261:"h261",h263:"h263",h264:"h264",jpeg:"jpgv",jpm:["jpm","jpgm"],mj2:["mj2","mjp2"],"vnd.ms-playready.media.pyv":"pyv","vnd.uvvu.mp4":["uvu","uvvu"],"vnd.vivo":"viv",webm:"webm","x-f4v":"f4v","x-m4v":"m4v","x-ms-vob":"vob","x-smv":"smv"}},ce=(()=>{const t={};for(const e in ae)if(ae.hasOwnProperty(e))for(const r in ae[e])if(ae[e].hasOwnProperty(r)){const i=ae[e][r];if("string"==typeof i)t[i]=e+"/"+r;else for(let n=0;n<i.length;n++)t[i[n]]=e+"/"+r}return t})(),le=t=>{let e;if(t){const r=t.split(".").pop().toLowerCase();e=ce[r]}return e||"text/plain"},he=window.URL||window.webkitURL||window.mozURL;class ue extends Map{constructor(t,e,r){super(),this.archive=void 0,this.storage=void 0,this.request=t,this.resolve=e,this.replacements=r||null}clear(){"blobUrl"===this.replacements&&this.forEach(((t,e)=>{he.revokeObjectURL(t)})),super.clear()}async createUrl(t,e){const r=this.resolve(t),i=new $(r),n="base64"===this.replacements;if(this.archive){const t=n?"base64":"blob";return this.archive.request(r,t).then((t=>n?t:he.createObjectURL(t)))}return n?this.request(r,"blob").then((t=>B(t))):this.request(r,"blob").then((t=>{const r=e||le(i.filename);return O(t,r)}))}revokeUrl(t){if("blobUrl"===this.replacements){const e=this.get(t);e&&he.revokeObjectURL(e)}}substitute(t,e){e.output=((t,e,r)=>(e.forEach(((e,i)=>{e&&r[i]&&(e=e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),t=t.replace(new RegExp(e,"g"),r[i]))})),t))(t,[...this.keys()],[...this.values()])}async unpack(t,e,r){this.archive=e,this.storage=r,null===this.replacements&&(this.replacements=e||r.name?"blobUrl":null);const i=[];return t.forEach(((t,n)=>{if("application/xhtml+xml"===t["media-type"]||"text/html"===t["media-type"])r.name&&!e&&i.push(r.put(this.resolve(t.href)));else if(this.replacements){const e=this.createUrl(t.href,t["media-type"]).then((e=>(this.set(t.href,e),e)));i.push(e)}else this.set(t.href,null)})),Promise.all(i).then((()=>this))}destroy(){this.clear(),this.archive=void 0,this.storage=void 0,this.request=void 0,this.resolve=void 0,this.replacements=void 0}}const de=ue;class pe{constructor(t,e,{data:r,cb:i,className:n,styles:s}){this.type=t,this.cfiRange=e,this.sectionIndex=new Z(e).spinePos,this.data=r,this.cb=i,this.className=n,this.styles=s,this.mark=void 0}update(t){this.data=t}attach(t){let e;return t?("highlight"===this.type?e=t.highlight(this.cfiRange,this.data,this.cb,this.className,this.styles):"underline"===this.type&&(e=t.underline(this.cfiRange,this.data,this.cb,this.className,this.styles)),this.mark=e,this.emit(Pt,e),e):null}detach(t){let e=!1;return t?("highlight"===this.type?e=t.unhighlight(this.cfiRange):"underline"===this.type&&(e=t.ununderline(this.cfiRange)),this.mark=void 0,this.emit(_t,e),e):e}text(){}}r()(pe.prototype);const fe=pe;class ge extends Map{constructor(t){super(),this.rendition=t,this.rendition.hooks.render.register(this.inject.bind(this)),this.rendition.hooks.unloaded.register(this.reject.bind(this))}append(t,e,r){const i=encodeURI(t+":"+e),n=new fe(t,e,r);return this.rendition.views().forEach((t=>{const e=t.section.index;n.sectionIndex===e&&n.attach(t)})),this.set(i,n),n}remove(t,e){const r=encodeURI(t+":"+e),i=this.get(r);i&&(this.rendition.views().forEach((t=>{const e=t.section.index;i.sectionIndex===e&&i.detach(t)})),this.delete(r))}inject(t){const e=t.section.index;this.forEach(((r,i)=>{r.sectionIndex===e&&r.attach(t)}))}reject(t){const e=t.section.index;this.forEach(((r,i)=>{r.sectionIndex===e&&r.detach(t)}))}show(){}hide(){}}const me=ge;class ve{constructor(t){this.axis="horizontal",this.name="reflowable",this.flow="paginated",this.spread="auto",this.direction="ltr",this.orientation="auto",this.viewport="",this.minSpreadWidth=800,this.width=0,this.height=0,this.pageWidth=0,this.pageHeight=0,this.spreadWidth=0,this.delta=0,this.columnWidth=0,this.gap=0,this.divisor=1,this.set(t||{})}set(t){const e=t=>console.error(`Invalid '${t}' property type`);Object.keys(t).forEach((r=>{const i=t[r];if(this[r]===i||void 0===i)delete t[r];else if("axis"===r||"name"===r||"direction"===r||"orientation"===r)"string"==typeof i?this[r]=t[r]:e(r);else if("flow"===r)if("string"==typeof i)switch(i){case"scrolled":case"scrolled-continuous":this.flow="scrolled",this.axis=t.axis||"vertical",this.spread="none";break;case"scrolled-doc":this.flow=i,this.axis=t.axis||"vertical",this.spread="none";break;default:this.flow="paginated",this.axis="horizontal"}else e(r);else if("spread"===r)if("string"==typeof i)switch(i){case"auto":case"both":this.spread="auto";break;default:this.spread="none"}else e(r);else"width"!==r&&"height"!==r&&"pageWidth"!==r&&"pageHeight"!==r&&"gap"!==r&&"minSpreadWidth"!==r||("number"==typeof i?i>=0&&(this[r]=t[r]):e(r))})),this.calculate(),Object.keys(t).length&&this.emit(Mt,this,t)}calculate(t,e,r){if(t||(t=this.width),e||(e=this.height),"reflowable"!==this.name||r>=0)r=0;else{let i;i="horizontal"===this.axis?Math.floor(t/12):Math.floor(e/17),r=i%2==0?i:i-1}let i,n,s;i="auto"===this.spread&&t>=this.minSpreadWidth?2:1,i>1?(s=t/i-r,n=s+r):(s=t,n=t),"pre-paginated"===this.name&&i>1&&(t=s),"scrolled-doc"===this.flow&&this.pageWidth&&(s=this.pageWidth,n=this.pageWidth),this.gap=r,this.delta=t,this.width=t,this.height=e,this.divisor=i,this.pageWidth=n,this.pageHeight=e-r,this.columnWidth=s,this.spreadWidth=s*i+r}count(t,e){let r,i;return"pre-paginated"===this.name?(r=1,i=1):"paginated"===this.flow?(e=e||this.delta,r=Math.ceil(t/e),i=r*this.divisor):(e=e||this.height,r=Math.ceil(t/e),i=r),{spreads:r,pages:i}}}r()(ve.prototype);const ye=ve;class we extends Map{constructor(t){super(),this.rendition=t,this.current=null,this.rules={},this.rendition.hooks.content.register(this.inject.bind(this)),this.rendition.hooks.content.register(this.update.bind(this))}register(){if(0!==arguments.length)return 1===arguments.length&&"object"==typeof arguments[0]?this.registerThemes(arguments[0]):2===arguments.length&&"string"==typeof arguments[1]?this.registerUrl(arguments[0],arguments[1]):2===arguments.length&&"object"==typeof arguments[1]?this.registerRules(arguments[0],arguments[1]):void 0}registerThemes(t){for(const e in t)t.hasOwnProperty(e)&&("string"==typeof t[e]?this.registerUrl(e,t[e]):this.registerRules(e,t[e]))}registerUrl(t,e){const r=new $(e);this.set(t,{injected:!1,url:r.toString()})}registerRules(t,e){this.set(t,{injected:!1,rules:e})}select(t){const e=this.current;let r;t?r=this.get(t):e&&null===t&&(r=this.get(e)),this.current!==t&&r&&(this.current=t,this.rendition.getContents().forEach((i=>{i&&(t?(i.removeClass(e),i.appendClass(t),this.append(t,r,i)):e&&(i.removeClass(e),this.remove(e,r,i)))})),this.emit(jt,t,r))}append(t,e,r){e.url&&(r.appendStylesheet(t,e.url),e.injected=!0),e.rules&&(r.appendStylesheet(t,e.rules),e.injected=!0),e.injected&&this.emit(Bt,t,e,r)}remove(t,e,r){r.removeStylesheet(t)&&(e.injected=!1,this.emit(Ut,t,e,r))}clear(){this.select(null),super.clear()}inject(t){this.current&&(this.forEach(((e,r)=>{this.current===r&&this.append(r,e,t)})),t.appendClass(this.current))}update(t){const e=this.rules;for(const r in e)e.hasOwnProperty(r)&&t.css(r,e[r].value,e[r].priority)}appendRule(t,e,r=!1){const i={value:e,priority:r};this.rendition.getContents().forEach((e=>{e&&e.css(t,i.value,i.priority)})),this.rules[t]=i}removeRule(t){delete this.rules[t],this.rendition.getContents().forEach((e=>{e&&e.css(t)}))}removeRules(){Object.keys(this.rules).forEach((t=>{this.removeRule(t)}))}fontSize(t){this.appendRule("font-size",t)}font(t){this.appendRule("font-family",t,!0)}destroy(){this.clear(),this.removeRules(),this.current=void 0,this.rules=void 0}}r()(we.prototype);const be=we,xe=class{constructor(t){this.context=t||this,this.tasks=[]}register(){for(let t=0;t<arguments.length;++t)if("function"==typeof arguments[t])this.tasks.push(arguments[t]);else{if(!(arguments[t]instanceof Array))throw new TypeError("Invalid argument type");this.register(arguments[t])}}deregister(t){for(let e=0;e<this.tasks.length;e++)if(this.tasks[e]===t){this.tasks.splice(e,1);break}}trigger(){const t=arguments,e=this.context,r=[];let i;return this.tasks.forEach((n=>{try{i=n.apply(e,t)}catch(t){console.error(t)}i&&"function"==typeof i.then&&r.push(i)})),Promise.all(r)}list(){return this.tasks}clear(){this.tasks=[]}};class Ee{constructor(t,e){this.layout=t,this.layout.on(Mt,((t,e)=>{e.axis?this.updateAxis(t.axis):e.flow?this.updateFlow(t.flow):e.direction&&this.direction(t.direction)})),this.settings=e||{},this.id="vp-"+c(),this.container=null,this.target=null,this.rect={bottom:0,height:0,left:0,right:0,top:0,width:0,x:0,y:0}}attachTo(t,e){const r=this.getElement(t);if(!r)return;let i;return this.views=e.views,this.container=this.create(e),this.container.appendChild(this.views.container),i=this.settings.hidden?this.wrapper:this.container,r.appendChild(i),this.target=r,this.appendListeners(),r}create(t){let e=t.width,r=t.height;e&&u(e)&&(e+="px"),r&&u(r)&&(r+="px");const i=document.createElement("div");return i.classList.add("viewport-container"),i.style.wordSpacing="0",i.style.lineHeight="0",i.style.verticalAlign="top",i.style.position="relative",i.style.display="flex",i.style.flexWrap="nowrap",i.style.width=e||"100%",i.style.height=r||"100%",i.style.overflow="hidden",this.settings.hidden&&(this.wrapper=this.wrap(i)),i}wrap(t){const e=document.createElement("div");return e.style.visibility="hidden",e.style.overflow="hidden",e.style.width="0",e.style.height="0",e.appendChild(t),e}appendListeners(){screen.orientation.addEventListener("change",this.orientation.bind(this)),this.resizeFunc=new ResizeObserver((t=>{requestAnimationFrame((()=>this.resize(t)))})),this.resizeFunc.observe(this.container)}removeListeners(){screen.orientation.removeEventListener("change",this.orientation.bind(this)),this.resizeFunc&&this.resizeFunc.disconnect()}getElement(t){let e;if("string"==typeof t)e=document.getElementById(t);else{if(!(t instanceof Element))throw new TypeError("Invalid argument type");e=t}return e}orientation(t){this.emit(zt,t.target)}resize(t){let e=!1;const r=t=>Object.keys(this.rect).forEach((r=>{t&&this.rect[r]!==t[r]&&void 0!==t[r]&&(this.rect[r]=t[r],e=!0)}));t.forEach((t=>r(t.contentRect))),e&&this.emit(Ft,this.rect)}size(t,e){return this.rect.width=this.target.clientWidth,this.rect.height=this.target.clientHeight,t?u(t)?(this.container.style.width=t+"px",this.rect.width=t):(this.container.style.width=t,this.rect.width=this.container.clientWidth):(t=this.rect.width,this.container.style.width=t+"px"),e?u(e)?(this.container.style.height=e+"px",this.rect.height=e):(this.container.style.height=e,this.rect.height=this.container.clientHeight):(e=this.rect.height,this.container.style.height=e+"px"),{width:this.rect.width,height:this.rect.height}}getSheet(){const t=document.createElement("style");return t.appendChild(document.createTextNode("")),document.head.appendChild(t),t.sheet}addStyleRules(t,e){let r="#"+this.id+" ",i="";this.sheet||(this.sheet=this.getSheet()),e.forEach((t=>{for(const e in t)t.hasOwnProperty(e)&&(i+=e+":"+t[e]+";")})),this.sheet.insertRule(r+t+" {"+i+"}",0)}direction(t){const e=t||this.layout.direction;this.target.dir=e,this.target.classList.add(e)}updateAxis(t){const e=t||this.layout.axis;this.views.container.style["flex-wrap"]="horizontal"===e?"nowrap":"wrap"}updateFlow(t){const e=t||this.layout.flow;"paginated"===e?(this.views.container.style["overflow-y"]="hidden",this.views.container.style["overflow-x"]="hidden",this.views.container.style["flex-wrap"]="nowrap"):"horizontal"===this.layout.axis?(this.views.container.style["overflow-y"]="hidden",this.views.container.style["overflow-x"]="auto",this.views.container.style["flex-wrap"]="nowrap"):"vertical"===this.layout.axis&&(this.views.container.style["overflow-y"]="auto",this.views.container.style["overflow-x"]="hidden",this.views.container.style["flex-wrap"]="wrap"),this.target.className=e}update(){this.updateAxis(),this.updateFlow(),this.direction()}destroy(){if(this.target){let t;t=this.settings.hidden?this.wrapper:this.container,this.target.contains(t)&&this.target.removeChild(t),this.removeListeners()}}}r()(Ee.prototype);const Ne=Ee;n(3064),n(2577);const Te=class{constructor(t,e=!1){this.layout=t,this.devMode=e}section(t){const e=this.findRanges(t);return this.rangeListToCfiList(t.section.cfiBase,e)}page(t,e,r,i){const n=!(!t||!t.document)&&t.document.body;if(!n)return null;const s=this.rangePairToCfiPair(e,{start:this.findStart(n,r,i),end:this.findEnd(n,r,i)});if(!0===this.devMode){const e=t.document,r=new Z(s.start).toRange(e),i=new Z(s.end).toRange(e),n=e.defaultView.getSelection(),o=e.createRange();n.removeAllRanges(),o.setStart(r.startContainer,r.startOffset),o.setEnd(i.endContainer,i.endOffset),n.addRange(o)}return s}walk(t,e){if(t&&t.nodeType===Node.TEXT_NODE)return;const r=t=>t.data.trim().length>0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT,i=r;i.acceptNode=r;const n=document.createTreeWalker(t,NodeFilter.SHOW_TEXT,i,!1);let s,o;for(;(s=n.nextNode())&&(o=e(s),!o););return o}findRanges(t){const e=[],r=t.contents.scrollWidth(),i=Math.ceil(r/this.layout.spreadWidth)*this.layout.divisor,n=this.layout.columnWidth,s=this.layout.gap,o=t.document.body;for(let t=0;t<i;t++){const r=(n+s)*t,i=n*(t+1)+s*t;e.push({start:this.findStart(o,r,i),end:this.findEnd(o,r,i)})}return e}findStart(t,e,r){const i=[t],n="horizontal"===this.layout.axis,s="ltr"===this.layout.direction,o="rtl"===this.layout.direction;let a=t;for(;i.length;){const t=i.shift(),c=this.walk(t,(t=>{let c,l,h,u;const d=x(t);if(n&&s){if(c=n?d.left:d.top,l=n?d.right:d.bottom,c>=e&&c<=r)return t;if(l>e)return t;a=t,i.push(t)}else if(n&&o){if(c=d.left,l=d.right,l<=r&&l>=e)return t;if(c<r)return t;a=t,i.push(t)}else{if(h=d.top,u=d.bottom,h>=e&&h<=r)return t;if(u>e)return t;a=t,i.push(t)}}));if(c)return this.findTextStartRange(c,e,r)}return this.findTextStartRange(a,e,r)}findEnd(t,e,r){const i=[t],n="horizontal"===this.layout.axis,s="ltr"===this.layout.direction,o="rtl"===this.layout.direction;let a=t;for(;i.length;){const t=i.shift(),c=this.walk(t,(t=>{let c,l,h,u;const d=x(t);if(n&&s){if(c=Math.round(d.left),l=Math.round(d.right),c>r&&a)return a;if(l>r)return t;a=t,i.push(t)}else if(n&&o){if(c=Math.round(n?d.left:d.top),l=Math.round(n?d.right:d.bottom),l<e&&a)return a;if(c<e)return t;a=t,i.push(t)}else{if(h=Math.round(d.top),u=Math.round(d.bottom),h>r&&a)return a;if(u>r)return t;a=t,i.push(t)}}));if(c)return this.findTextEndRange(c,e,r)}return this.findTextEndRange(a,e,r)}findTextStartRange(t,e,r){const i=this.splitTextNodeIntoRanges(t),n="horizontal"===this.layout.axis,s="ltr"===this.layout.direction,o="rtl"===this.layout.direction;for(let t=0;t<i.length;t++){const a=i[t],c=a.getBoundingClientRect();if(n&&s){if(c.left>=e)return a}else if(n&&o){if(c.right<=r)return a}else if(c.top>=e)return a}return i[0]}findTextEndRange(t,e,r){const i=this.splitTextNodeIntoRanges(t),n="horizontal"===this.layout.axis,s="ltr"===this.layout.direction,o="rtl"===this.layout.direction;let a;for(let t=0;t<i.length;t++){const c=i[t],l=c.getBoundingClientRect();if(n&&s){if(l.left>r&&a)return a;if(l.right>r)return c}else if(n&&o){if(l.right<e&&a)return a;if(l.left<e)return c}else{if(l.top>r&&a)return a;if(l.bottom>r)return c}a=c}return i[i.length-1]}splitTextNodeIntoRanges(t,e=" "){const r=[],i=(t.textContent||"").trim(),n=t.ownerDocument;let s,o=i.indexOf(e);if(-1===o||t.nodeType!=Node.TEXT_NODE)return s=n.createRange(),s.selectNodeContents(t),[s];for(s=n.createRange(),s.setStart(t,0),s.setEnd(t,o),r.push(s),s=!1;-1!==o;)o=i.indexOf(e,o+1),o>0&&(s&&(s.setEnd(t,o),r.push(s)),s=n.createRange(),s.setStart(t,o+1));return s&&(s.setEnd(t,i.length),r.push(s)),r}rangePairToCfiPair(t,e){const r=e.start,i=e.end;return r.collapse(!0),i.collapse(!1),{start:new Z(r,t).toString(),end:new Z(i,t).toString()}}rangeListToCfiList(t,e){const r=[];for(let i=0;i<e.length;i++){const n=this.rangePairToCfiPair(t,e[i]);r.push(n)}return r}},ke=class extends Array{constructor(){super(),this.container=document.createElement("div"),this.container.classList.add("views-container"),this.container.style.display="flex",this.container.style.width="100%",this.container.style.height="100%",this.hidden=!1}first(){return this[0]}last(){return this[this.length-1]}get(t){return this[t]}append(t){return this.container.appendChild(t.element),this.push(t),t}prepend(t){return this.container.insertBefore(t.element,this.container.firstChild),this.unshift(t),t}insert(t,e){const r=this.container.children;return e<r.length?this.container.insertBefore(t.element,r[e]):this.container.appendChild(t.element),this.splice(e,0,t),t}remove(t){const e=this.indexOf(t);e>-1&&this.splice(e,1),this.destroy(t)}destroy(t){t.displayed&&t.destroy(),this.container.removeChild(t.element)}clear(){if(0!==this.length){for(let t=0;t<this.length;t++){const e=this[t];this.destroy(e)}this.splice(0)}}find(t){for(let e=0;e<this.length;e++){const r=this[e];if(r.displayed&&r.section.index==t.index)return r}}displayed(){const t=[];for(let e=0;e<this.length;e++){const r=this[e];r.displayed&&t.push(r)}return t}show(){for(let t=0;t<this.length;t++){const e=this[t];e.displayed&&e.show()}this.hidden=!1}hide(){for(let t=0;t<this.length;t++){const e=this[t];e.displayed&&e.hide()}this.hidden=!0}update(){for(let t=0;t<this.length;++t){const e=this[t];e.displayed&&e.update()}}},Se="undefined"!=typeof navigator,Ce=Se&&/Chrome/.test(navigator.userAgent),Oe=Se&&!Ce&&/AppleWebKit/.test(navigator.userAgent),Re="vertical";class Ae{constructor(t,e,r){this.epubcfi=new Z,this.document=t,this.content=e||this.document.body,this.contentRect={bottom:0,height:0,left:0,right:0,top:0,width:0,x:0,y:0},this.section=r,this.scripts=new Map,this.styles=new Map,this.active=!0,this.window=this.document.defaultView,this.mode=this.writingMode(),this.appendListeners()}width(t){const e=this.content;return t&&u(t)&&(t+="px"),t&&(e.style.width=t),parseInt(this.window.getComputedStyle(e).width)}height(t){const e=this.content;return t&&u(t)&&(t+="px"),t&&(e.style.height=t),parseInt(this.window.getComputedStyle(e).height)}textSize(){const t=this.document.createRange();t.selectNodeContents(this.content);const e=t.getBoundingClientRect(),r=b(this.content),i=e.width+r.width,n=this.content.clientHeight;return{width:Math.round(i),height:Math.round(n)}}scrollWidth(){return this.document.documentElement.scrollWidth}scrollHeight(){return this.document.documentElement.scrollHeight}overflow(t){const e=this.document.documentElement;return t&&(e.style.overflow=t),this.window.getComputedStyle(e).overflow}overflowX(t){const e=this.document.documentElement;return t&&(e.style.overflowX=t),this.window.getComputedStyle(e).overflowX}overflowY(t){const e=this.document.documentElement;return t&&(e.style.overflowY=t),this.window.getComputedStyle(e).overflowY}css(t,e,r){const i=this.content;return e?i.style.setProperty(t,e,r?"important":""):i.style.removeProperty(t),this.window.getComputedStyle(i)[t]}viewport(t){const e={width:void 0,height:void 0,scale:void 0,minimum:void 0,maximum:void 0,scalable:void 0};let r=this.document.querySelector("meta[name='viewport']");if(r&&r.hasAttribute("content")){const t=r.getAttribute("content"),i=t.match(/width\s*=\s*([^,]*)/),n=t.match(/height\s*=\s*([^,]*)/),s=t.match(/initial-scale\s*=\s*([^,]*)/),o=t.match(/minimum-scale\s*=\s*([^,]*)/),a=t.match(/maximum-scale\s*=\s*([^,]*)/),c=t.match(/user-scalable\s*=\s*([^,]*)/);i&&i.length&&void 0!==i[1]&&(e.width=i[1]),n&&n.length&&void 0!==n[1]&&(e.height=n[1]),s&&s.length&&void 0!==s[1]&&(e.scale=s[1]),o&&o.length&&void 0!==o[1]&&(e.minimum=o[1]),a&&a.length&&void 0!==a[1]&&(e.maximum=a[1]),c&&c.length&&void 0!==c[1]&&(e.scalable=c[1])}const i=f(t||{},e),n=[];return t&&(i.width&&n.push("width="+i.width),i.height&&n.push("height="+i.height),i.scale&&n.push("initial-scale="+i.scale),"no"===i.scalable?(n.push("minimum-scale="+i.scale),n.push("maximum-scale="+i.scale),n.push("user-scalable="+i.scalable)):(i.scalable&&n.push("user-scalable="+i.scalable),i.minimum&&n.push("minimum-scale="+i.minimum),i.maximum&&n.push("minimum-scale="+i.maximum)),null===r&&(r=this.document.createElement("meta"),r.setAttribute("name","viewport"),this.document.head.appendChild(r)),r.setAttribute("content",n.join(", ")),this.window.scrollTo(0,0)),i}expand(){this.emit(it)}resize(t){let e=!1;const r=t=>Object.keys(this.contentRect).forEach((r=>{t&&this.contentRect[r]!==t[r]&&void 0!==t[r]&&(this.contentRect[r]=t[r],e=!0)}));t.forEach((t=>r(t.contentRect))),e&&this.emit(nt,this.contentRect)}root(){return this.document?this.document.documentElement:null}locationOf(t,e){const r={left:0,top:0};if(!this.document)return r;let i;if(this.epubcfi.isCfiString(t)){const n=new Z(t).toRange(this.document,e);if(n){try{if(!n.endContainer||n.startContainer==n.endContainer&&n.startOffset==n.endOffset){let t=n.startContainer.textContent.indexOf(" ",n.startOffset);-1==t&&(t=n.startContainer.textContent.length),n.setEnd(n.startContainer,t)}}catch(t){console.error("setting end offset to start container length failed",t)}if(n.startContainer.nodeType===Node.ELEMENT_NODE)i=n.startContainer.getBoundingClientRect(),r.left=i.left,r.top=i.top;else if(Oe){const t=n.startContainer,e=new Range;try{t.nodeType===Node.ELEMENT_NODE?i=t.getBoundingClientRect():n.startOffset+2<t.length?(e.setStart(t,n.startOffset),e.setEnd(t,n.startOffset+2),i=e.getBoundingClientRect()):n.startOffset-2>0?(e.setStart(t,n.startOffset-2),e.setEnd(t,n.startOffset),i=e.getBoundingClientRect()):i=t.parentNode.getBoundingClientRect()}catch(t){console.error(t,t.stack)}}else i=n.getBoundingClientRect()}}else if("string"==typeof t&&t.indexOf("#")>-1){const e=t.substring(t.indexOf("#")+1),r=this.document.getElementById(e);if(r)if(Oe){const t=new Range;t.selectNode(r),i=t.getBoundingClientRect()}else i=r.getBoundingClientRect()}return i&&(r.left=i.left,r.top=i.top),r}createLink(t,e){return new Promise(((r,i)=>{const n=`epubjs-injected-css-${t}`;let s=this.styles.get(n);s&&this.document.head.removeChild(s),s=this.document.createElement("link"),s.rel="stylesheet",s.type="text/css",s.href=e,s.onload=()=>{r(s)},s.onerror=()=>{i(new Error(`Failed to load source: ${e}`))},this.document.head.appendChild(s),this.styles.set(n,s)}))}createStyle(t,e){return new Promise((r=>{const i=`epubjs-injected-css-${t}`;let n=this.styles.get(i);n&&this.document.head.removeChild(n),n=this.document.createElement("style"),n.id=i,this.document.head.appendChild(n),Object.keys(e).forEach((t=>{const r=e[t],i=n.sheet.cssRules.length,s=Object.keys(r).map((t=>`${t}:${r[t]}`)).join(";");n.sheet.insertRule(`${t}{${s}}`,i)})),this.styles.set(i,n),r(n)}))}appendStylesheet(t,e){const r=new V;return this.document?("string"==typeof e?this.createLink(t,e).then((t=>{r.resolve(t)})):this.createStyle(t,e).then((t=>{r.resolve(t)})),r.promise):(r.reject(new Error("Document cannot be null")),r.promise)}removeStylesheet(t){if(!this.document)return!1;const e=`epubjs-injected-css-${t}`,r=this.styles.get(e);return void 0!==r&&(this.document.head.removeChild(r),this.styles.delete(e))}clearStylesheets(){this.styles.forEach((t=>{this.document.head.removeChild(t)})),this.styles.clear()}appendScript(t,e){return new Promise(((r,i)=>{if(!this.document)return void i(new Error("Document cannot be null"));const n=`epubjs-injected-src-${t}`;let s=this.styles.get(n);void 0===s&&(s=this.document.createElement("script"),s.type="text/javascript",s.src=e,s.onload=()=>{r(s)},s.onerror=()=>{i(new Error(`Failed to load source: ${e}`))},this.document.head.appendChild(s)),this.scripts.set(n,s)}))}removeScript(t){if(!this.document)return!1;const e=`epubjs-injected-src-${t}`,r=this.scripts.get(e);return void 0!==r&&(this.document.head.removeChild(r),this.scripts.remove(e))}clearScripts(){this.scripts.forEach((t=>{this.document.head.removeChild(t)})),this.scripts.clear()}appendClass(t){if(!this.document)return;const e=this.content;e&&e.classList.add(t)}removeClass(t){if(!this.document)return;const e=this.content;e&&e.classList.remove(t)}range(t,e){return new Z(t).toRange(this.document,e)}cfiFromRange(t,e){return new Z(t,this.section.cfiBase,e).toString()}cfiFromNode(t,e){return new Z(t,this.section.cfiBase,e).toString()}map(t){return new Te(t).section()}format(t,e){"pre-paginated"===t.name?this.fit(t,e):"paginated"===t.flow?this.columns(t):this.size(t)}size(t){const e="scrolled-doc"===t.flow?t.pageWidth:t.width,r=t.height,i=t.direction,n={scale:1,scalable:"no"};t.axis===Re?(this.width(e),n.width=e,this.css("height","auto"),this.css("padding","20px "+e/12+"px")):(this.height(r),n.height=r,this.css("width","auto"),this.css("padding",e/17+"px 20px")),this.css("overflow","hidden"),this.css("margin","0"),this.css("box-sizing","border-box"),this.viewport(n),this.direction(i)}columns(t){const e=t.width,r=t.height,i=t.columnWidth,n=t.direction,s=t.gap;this.direction(n),this.width(e),this.height(r),this.viewport({width:e,height:r,scale:1,scalable:"no"}),this.css("overflow","hidden"),this.css("margin","0",!0),this.css("box-sizing","border-box"),this.css("max-height","inherit"),t.axis===Re?(this.css("display","flex"),this.css("padding-top",s/2+"px",!0),this.css("padding-bottom",s/2+"px",!0),this.css("padding-left","20px"),this.css("padding-right","20px")):(this.css("display","block"),this.css("padding-top","20px"),this.css("padding-bottom","20px"),this.css("padding-left",s/2+"px",!0),this.css("padding-right",s/2+"px",!0)),this.css("column-gap",s+"px"),this.css("column-fill","auto"),this.css("column-width",i+"px"),this.css("-webkit-line-box-contain","block glyphs replaced")}scaler(t,e,r){const i="scale("+t+")";let n="";this.css("transform-origin","top left"),(e>=0||r>=0)&&(n=" translate("+(e||0)+"px, "+(r||0)+"px )"),this.css("transform",i+n)}fit(t,e){const r=t.columnWidth,i=t.height,n=this.viewport(),s=parseInt(n.width),o=parseInt(n.height),a=r/s,c=i/o,l=a<c?a:c;if(this.width(s),this.height(o),this.overflow("hidden"),this.scaler(l,0,0),this.css("background-size",s*l+"px "+o*l+"px"),this.css("background-color","transparent"),e&&e.properties.includes("page-spread-left")){const t=r-s*l;this.css("margin-left",t+"px")}}direction(t="ltr"){this.document.documentElement.dir=t}mapPage(t,e,r,i,n){return new Te(e,n).page(this,t,r,i)}writingMode(t="horizontal-tb"){if(this.mode===t)return this.mode;const e=p("writing-mode"),r=this.document.documentElement;return r.style[e]=t,this.mode=this.window.getComputedStyle(r)[e]||"",this.mode}appendListeners(){this.document&&(et.forEach((t=>{this.document.addEventListener(t,this.triggerEvent.bind(this),{passive:!0})}),this),this.document.addEventListener("selectionchange",this.selectionHandler.bind(this),{passive:!0}),this.resizeObserver=new ResizeObserver((t=>{requestAnimationFrame((()=>this.resize(t)))})),this.resizeObserver.observe(this.document.documentElement),((t,e)=>{const r=t.querySelectorAll("a[href]");if(!r.length)return;const i=t=>{const r=t.getAttribute("href");0!==r.indexOf("mailto:")&&(r.indexOf("://")>-1?t.setAttribute("target","_blank"):t.onclick=t=>(e(r),!1))};for(let t=0;t<r.length;t++)i(r[t])})(this.content,(t=>{this.emit(at,t)})))}removeListeners(){this.document&&(et.forEach((t=>{this.document.removeEventListener(t,this.triggerEvent.bind(this),{passive:!0})}),this),this.document.removeEventListener("selectionchange",this.selectionHandler.bind(this),{passive:!0}),this.resizeObserver&&this.resizeObserver.disconnect(),this.mutationObserver&&this.mutationObserver.disconnect())}triggerEvent(t){this.emit(t.type,t)}selectionHandler(t){this.selectionEndTimeout&&clearTimeout(this.selectionEndTimeout),this.selectionEndTimeout=setTimeout((()=>{const t=this.window.getSelection();if(!(t&&t.rangeCount>0))return;const e=t.getRangeAt(0);if(!e.collapsed){const t=new Z(e,this.section.cfiBase).toString();this.emit(st,t),this.emit(ot,e)}}),250)}imageLoadListeners(){const t=this.document.querySelectorAll("img");for(let e=0;e<t.length;e++){const r=t[e];void 0!==r.naturalWidth&&0===r.naturalWidth&&(r.onload=this.expand.bind(this))}}mediaQueryListeners(){const t=this.document.styleSheets,e=t=>{t.matches&&setTimeout(this.expand.bind(this),1)};for(let r=0;r<t.length;r+=1){let i;try{i=t[r].cssRules}catch(t){return void console.error(t)}if(!i)return;for(let t=0;t<i.length;t+=1)i[t].media&&(this.window.matchMedia(i[t].media.mediaText).onchange=e)}}fontLoadListeners(){this.document&&this.document.fonts}transitionListeners(){const t=this.content;t.style.transitionProperty="font, font-size, font-size-adjust, font-stretch, font-variation-settings, font-weight, width, height",t.style.transitionDuration="0.001ms",t.style.transitionTimingFunction="linear",t.style.transitionDelay="0"}mutationListener(){this.mutationObserver=new MutationObserver(((t,e)=>{t.forEach((t=>{}))})),this.mutationObserver.observe(this.document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})}destroy(){this.removeListeners(),this.clearStylesheets(),this.styles=void 0,this.clearScripts(),this.scripts=void 0}}r()(Ae.prototype);const Le=Ae,De=(t,e,r,i)=>{const n=t.top-i.top,s=t.left-i.left,o=n+t.height,a=s+t.width;return n<=r&&s<=e&&o>r&&a>e},qe=(t,e,r)=>{let i=t.clientX,n=t.clientY;t.touches&&t.touches.length&&(i=t.touches[0].clientX,n=t.touches[0].clientY),r.forEach(((r,s)=>{((t,e,r,i)=>{const n=t.getBoundingClientRect(),s=e.getBoundingClientRect();if(!De(n,r,i,s))return!1;const o=t.getClientRects();for(let t=0,e=o.length;t<e;t++)if(De(o[t],r,i,s))return!0;return!1})(r,e,i,n)&&r.dispatchEvent((t=>{const e=Object.assign({},t,{bubbles:!1});return new MouseEvent(t.type,e)})(t))}))},Ie="http://www.w3.org/2000/svg";class Me extends Map{constructor(t,e=document.body){super(),this.target=t,this.element=document.createElementNS(Ie,"svg"),this.element.style.position="absolute",this.element.setAttribute("pointer-events","none"),((t,e)=>{let r;r="iframe"===t.nodeName||"IFRAME"===t.nodeName?t.contentDocument:t;const i=["mouseup","mousedown","click","touchstart"];for(const n of i)r.addEventListener(n,(r=>qe(r,t,e)),!1)})(this.target,this),this.container=e,this.container.appendChild(this.element),this.render()}appendMark(t,e){const r=document.createElementNS(Ie,"g");return this.element.appendChild(r),e.bind(r,this.container),e.render(),this.set(t,e),e}removeMark(t){const e=this.get(t);if(e){const r=e.unbind();this.element.removeChild(r),this.delete(t)}}render(){this.updateStyle(this.element),this.forEach(((t,e)=>t.render()))}updateStyle(t){const e=this.target.getBoundingClientRect(),r=this.container.getBoundingClientRect(),i=e.top-r.top,n=e.left-r.left,s=this.target.scrollWidth,o=this.target.scrollHeight;t.style.setProperty("top",`${i}px`,"important"),t.style.setProperty("left",`${n}px`,"important"),t.style.setProperty("width",`${s}px`,"important"),t.style.setProperty("height",`${o}px`,"important")}}const Pe=Me,_e=class{constructor(){this.element=null,this.range=null}bind(t,e){this.element=t,this.container=e}unbind(){const t=this.element;return this.element=null,t}clear(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild)}render(){}dispatchEvent(t){this.element&&this.element.dispatchEvent(t)}getBoundingClientRect(){return this.element.getBoundingClientRect()}getClientRects(){const t=[];let e=this.element.firstChild;for(;e;)t.push(e.getBoundingClientRect()),e=e.nextSibling;return t}},je=class extends _e{constructor(t,{className:e,data:r,attributes:i,listeners:n}){super(),this.range=t,this.className=e,this.data=r||{},this.attributes=i||{},this.listeners=n||[]}bind(t,e){super.bind(t,e);for(const t in this.data)this.data.hasOwnProperty(t)&&(this.element.dataset[t]=this.data[t]);for(const t in this.attributes)this.attributes.hasOwnProperty(t)&&this.element.setAttribute(t,this.attributes[t]);this.className&&this.element.classList.add(this.className)}render(){this.clear();const t=this.range.getClientRects(),e=this.element.getBoundingClientRect(),r=this.container.getBoundingClientRect();for(let i=0,n=t.length;i<n;i++){const n=t[i],s=document.createElementNS("http://www.w3.org/2000/svg","rect");s.setAttribute("x",n.left-e.left+r.left),s.setAttribute("y",n.top-e.top+r.top),s.setAttribute("height",n.height),s.setAttribute("width",n.width),this.element.appendChild(s)}}},Be="http://www.w3.org/2000/svg",Ue=class extends je{constructor(t,e){super(t,e)}render(){this.clear();const t=this.range.getClientRects(),e=this.element.getBoundingClientRect(),r=this.container.getBoundingClientRect();for(let i=0,n=t.length;i<n;i++){const n=t[i],s=document.createElementNS(Be,"rect"),o=document.createElementNS(Be,"line");s.setAttribute("x",n.left-e.left+r.left),s.setAttribute("y",n.top-e.top+r.top),s.setAttribute("height",n.height),s.setAttribute("width",n.width),s.setAttribute("fill","none"),o.setAttribute("x1",n.left-e.left+r.left),o.setAttribute("x2",n.left-e.left+r.left+n.width),o.setAttribute("y1",n.top-e.top+r.top+n.height-1),o.setAttribute("y2",n.top-e.top+r.top+n.height-1),o.setAttribute("stroke-width",1),o.setAttribute("stroke","black"),o.setAttribute("stroke-linecap","square"),this.element.appendChild(s),this.element.appendChild(o)}}},Fe="horizontal",ze="vertical";class We{constructor(t,e,r){this.settings=g({method:null,sandbox:[],forceRight:!1,forceEvenPages:!1,ignoreClass:""},r||{}),this.id="epubjs-view-"+c(),this.section=e,this.contents=null,this.document=null,this.element=this.container(),this.added=!1,this.displayed=!1,this.rendered=!1,this.epubcfi=new Z,this.layout=t,this.marks=null,this.method=this.settings.method||"write",this.writingMode=""}container(){const t=document.createElement("div");return t.classList.add("view-container"),t.style.height="0",t.style.width="0",t.style.overflow="hidden",t.style.position="relative",t}create(){this.iframe=document.createElement("iframe"),this.iframe.id=this.id,this.iframe.seamless="seamless",this.iframe.style.overflow="hidden",this.iframe.style.border="none",this.iframe.style.width="0",this.iframe.style.height="0";for(const t of this.settings.sandbox)t&&this.iframe.sandbox.add(t);return this.iframe.setAttribute("enable-annotation","true"),this.element.setAttribute("ref",this.section.index),this.elementBounds=w(this.element),"srcdoc"===this.method&&"srcdoc"in this.iframe&&(this.method="srcdoc"),this.added=!0,this.resizing=!0,this.width=0,this.height=0,this.iframe}render(t){const e=new V;return this.create(),this.section.render(t).then((t=>this.load(t))).then((t=>{this.setWritingMode(this.contents.mode),this.update(),this.settings.forceRight&&(this.element.style.marginLeft=this.width+"px"),e.resolve(t)}),(t=>{this.emit(mt,t),e.reject(t)})).then((()=>{this.emit(vt,this)})),e.promise}reset(){this.iframe&&(this.iframe.style.width="0",this.iframe.style.height="0",this.width=0,this.height=0,this.textWidth=void 0,this.textHeight=void 0,this.contentWidth=void 0,this.contentHeight=void 0)}update(){this.contents.format(this.layout,this.section),this.axis(),this.size(),this.expand()}axis(){this.layout.axis===Fe?this.element.style.flex="none":this.element.style.flex="initial"}setWritingMode(t){this.writingMode!==t&&(this.writingMode=t,this.emit(gt,t))}size(){const t=b(this.element),e=b(this.iframe),r=this.layout.width,i=this.layout.height;"pre-paginated"===this.layout.name?(this.lockedWidth=r-t.width-e.width,this.lockedHeight=i-t.height-e.height):this.layout.axis===ze?this.lockedWidth=r-t.width-e.width:this.lockedHeight=i-t.height-e.height}expand(){let t=this.lockedWidth,e=this.lockedHeight;if(this.iframe&&!this.expanding){if(this.expanding=!0,"pre-paginated"===this.layout.name)t=this.layout.columnWidth,e=this.layout.height;else if(this.layout.axis===Fe){if(t=this.contents.textSize().width,t%this.layout.pageWidth>0&&(t=Math.ceil(t/this.layout.pageWidth)*this.layout.pageWidth),this.settings.forceEvenPages){const e=t/this.layout.pageWidth;this.layout.divisor>1&&"reflowable"===this.layout.name&&e%2>0&&(t+=this.layout.pageWidth)}}else if(this.layout.axis===ze){const r=this.contents.textSize();t=r.width,e=r.height,"paginated"===this.layout.flow&&e%this.layout.height>0&&(e=Math.ceil(e/this.layout.height)*this.layout.height)}this.width===t&&this.height===e||this.reframe(t,e),this.expanding=!1}}reframe(t,e){this.element.style.width=t+"px",this.element.style.height=e+"px",this.iframe.style.width=t+"px",this.iframe.style.height=e+"px",this.width=t,this.height=e,this.marks&&this.marks.render(),this.elementBounds=w(this.element)}load(t){const e=new V;if(!this.iframe)return e.reject(new Error("No Iframe Available")),e.promise;if("blobUrl"===this.method)this.blobUrl=O(t,"application/xhtml+xml"),this.iframe.src=this.blobUrl,this.element.appendChild(this.iframe);else if("srcdoc"===this.method)this.iframe.srcdoc=t,this.element.appendChild(this.iframe);else{if(this.element.appendChild(this.iframe),this.document=this.iframe.contentDocument,!this.document)return e.reject(new Error("No Document Available")),e.promise;this.document.open(),this.document.write("<!DOCTYPE html>"),this.document.write(t),this.document.close()}return this.iframe.onload=t=>this.onLoad(t,e),e.promise}onLoad(t,e){this.window=this.iframe.contentWindow,this.document=this.iframe.contentDocument,this.contents=new Le(this.document,this.document.body,this.section),this.rendering=!1;let r=this.document.querySelector("link[rel='canonical']");r?r.setAttribute("href",this.section.canonical):(r=this.document.createElement("link"),r.setAttribute("rel","canonical"),r.setAttribute("href",this.section.canonical),this.document.querySelector("head").appendChild(r)),this.contents.on(nt,(t=>{this.emit(yt,t)})),e.resolve(this.contents)}display(t){const e=new V;return this.displayed?e.resolve(this):this.render(t).then((()=>{this.emit(wt),this.displayed=!0,e.resolve(this)}),(t=>{e.reject(t)})),e.promise}show(){this.element.style.visibility="visible",this.iframe&&(this.iframe.style.visibility="visible",this.iframe.style.transform="translateZ(0)",this.iframe.offsetWidth,this.iframe.style.transform=null),this.emit(bt,this)}hide(){this.element.style.visibility="hidden",this.iframe.style.visibility="hidden",this.stopExpanding=!0,this.emit(xt,this)}offset(){return{top:this.element.offsetTop,left:this.element.offsetLeft}}position(){return this.element.getBoundingClientRect()}locationOf(t){const e=this.contents.locationOf(t,this.settings.ignoreClass);return{top:e.top,left:e.left}}bounds(t=!1){return!t&&this.elementBounds||(this.elementBounds=w(this.element)),this.elementBounds}highlight(t,e={},r=null,i="epubjs-hl",n={}){if(!this.contents)return;e.epubcfi=t,null===this.marks&&(this.marks=new Pe(this.iframe,this.element));const s=Object.assign({fill:"yellow","fill-opacity":"0.3","mix-blend-mode":"multiply"},n),o=r=>{this.emit(Et,t,e)},a=encodeURI("epubjs-hl:"+t),c=this.contents.range(t),l=new je(c,{className:i,data:e,attributes:s,listeners:[o,r]}),h=this.marks.appendMark(a,l);return h.element.setAttribute("ref",i),h.element.addEventListener("click",o),h.element.addEventListener("touchstart",o),r&&(h.element.addEventListener("click",r),h.element.addEventListener("touchstart",r)),h}underline(t,e={},r=null,i="epubjs-ul",n={}){if(!this.contents)return;e.epubcfi=t,null===this.marks&&(this.marks=new Pe(this.iframe,this.element));const s=Object.assign({stroke:"black","stroke-opacity":"0.3","mix-blend-mode":"multiply"},n),o=r=>{this.emit(Et,t,e)},a=encodeURI("epubjs-ul:"+t),c=this.contents.range(t),l=new Ue(c,{className:i,data:e,attributes:s,listeners:[o,r]}),h=this.marks.appendMark(a,l);return h.element.setAttribute("ref",i),h.element.addEventListener("click",o),h.element.addEventListener("touchstart",o),r&&(h.element.addEventListener("click",r),h.element.addEventListener("touchstart",r)),h}unhighlight(t){const e=encodeURI("epubjs-hl:"+t),r=this.marks.get(e);let i=!1;return r&&(r.listeners.forEach((t=>{t&&(r.element.removeEventListener("click",t),r.element.removeEventListener("touchstart",t))})),this.marks.removeMark(e),i=!0),i}ununderline(t){const e=encodeURI("epubjs-ul:"+t),r=this.marks.get(e);let i=!1;return r&&(r.listeners.forEach((t=>{t&&(r.element.removeEventListener("click",t),r.element.removeEventListener("touchstart",t))})),this.marks.removeMark(e),i=!0),i}destroy(){this.marks&&this.marks.forEach(((t,e)=>{t instanceof je?this.unhighlight(t.data.epubcfi):this.ununderline(t.data.epubcfi)})),this.blobUrl&&R(this.blobUrl),this.displayed&&(this.displayed=!1,this.contents.destroy(),this.stopExpanding=!0,this.element.removeChild(this.iframe),this.marks&&(this.marks.element.remove(),this.marks.clear()),this.iframe=void 0,this.contents=void 0,this.document=void 0,this.textWidth=null,this.textHeight=null,this.width=null,this.height=null)}}r()(We.prototype);const He=We;var Ve=n(8221),Xe=n.n(Ve);const Ge="horizontal",$e="vertical";class Ye{constructor(t,e){this.name="default",this.load=t.load.bind(t),this.layout=t.rendition.layout,this.layout.on(Mt,((t,e)=>{e.flow&&(this.paginated="paginated"===t.flow),this.views.update(),this.calculate()})),this.settings=g({view:"iframe",hidden:!1,method:null,sandbox:[],ignoreClass:"",forceEvenPages:!0},e||{}),this.paginated="paginated"===this.layout.flow,this.location=[],this.mapping=new Te(this.layout),this.rendered=!1,this.scrollType=null,this.views=[],this.viewport=t.rendition.viewport,this.writingMode=null,this.q=new K(this)}render(t,e){this.scrollType=(()=>{let t="reverse";const e=(()=>{const t=document.createElement("div");t.dir="rtl",t.style.position="fixed",t.style.width="1px",t.style.height="1px",t.style.top="0px",t.style.left="0px",t.style.overflow="hidden";const e=document.createElement("div");e.style.width="2px";const r=document.createElement("span");r.style.width="1px",r.style.display="inline-block";const i=document.createElement("span");return i.style.width="1px",i.style.display="inline-block",e.appendChild(r),e.appendChild(i),t.appendChild(e),t})();return document.body.appendChild(e),e.scrollLeft>0?t="default":"undefined"!=typeof Element&&Element.prototype.scrollIntoView?(e.children[0].children[1].scrollIntoView(),e.scrollLeft<0&&(t="negative")):(e.scrollLeft=1,0===e.scrollLeft&&(t="negative")),document.body.removeChild(e),t})(),this.views=new ke,this.viewport.attachTo(t,{views:this.views,width:e.width,height:e.height}),this.rendered=!0,this.appendEventListeners(),window.onpagehide=this.destroy.bind(this)}display(t,e){const r=new V;(e===t.href||u(e))&&(e=void 0);const i=this.views.find(t);if(i&&"pre-paginated"!==this.layout.name){const t=i.offset();let n,s=t.top;return"ltr"===this.layout.direction?(n=t.left,this.scrollTo(n,s,!0)):(n=t.left+i.width,this.scrollTo(n,s,!0)),e&&this.moveTo(i.locationOf(e),i.width),r.resolve(),r.promise}this.clear();let n=!1;return"pre-paginated"===this.layout.name&&2===this.layout.divisor&&t.properties.includes("page-spread-right")&&(n=!0),this.append(t,n).then((t=>{if(e){const r=t.locationOf(e);this.moveTo(r,t.width)}return t}),(t=>{r.reject(t)})).then((t=>{this.views.show(),r.resolve(t)})),r.promise}appendEventListeners(){const t=this.views.container;t.addEventListener("scroll",this.onscroll.bind(this)),"onscrollend"in window&&t.addEventListener("scrollend",this.onscrollend.bind(this));const e="default"===this.name?0:30;this.scrollend=Xe()(this.scrolled.bind(this),e)}removeEventListeners(){const t=this.views.container;t.removeEventListener("scroll",this.onscroll.bind(this)),"onscrollend"in window&&t.removeEventListener("scrollend",this.onscrollend.bind(this)),this.scrollend=void 0}requireView(t){let e;return e="string"==typeof t&&"iframe"===t?He:t,e}createView(t,e){return new(this.requireView(this.settings.view))(this.layout,t,{snap:this.settings.snap,method:this.settings.method,sandbox:this.settings.sandbox,ignoreClass:this.settings.ignoreClass,forceRight:e,forceEvenPages:this.settings.forceEvenPages})}displayed(t){this.emit(ht,t)}resized(t){this.relocated(),this.emit(lt,t)}moveTo(t,e){let r,i=0;const n=this.views.container;this.paginated?(i=Math.floor(t.left/this.layout.delta)*this.layout.delta,i+this.layout.delta>n.scrollWidth&&(i=n.scrollWidth-this.layout.delta),r=Math.floor(t.top/this.layout.delta)*this.layout.delta,r+this.layout.delta>n.scrollHeight&&(r=n.scrollHeight-this.layout.delta)):r=t.top,"rtl"===this.layout.direction&&(i+=this.layout.delta,i-=e),this.scrollTo(i,r,!0)}append(t,e){const r=this.createView(t,e);return r.on(wt,(()=>{this.displayed(r)})),r.on(yt,(t=>{this.resized(r)})),r.on(gt,(t=>{this.updateWritingMode(t)})),this.views.append(r),r.display(this.load)}prepend(t,e){const r=this.createView(t,e);return r.on(wt,(()=>{this.displayed(r)})),r.on(yt,(t=>{this.counter(r),this.resized(r)})),r.on(gt,(t=>{this.updateWritingMode(t)})),this.views.prepend(r),r.display(this.load)}counter(t){const e=t.contents.content;if(this.layout.axis===$e){const t=e.scrollHeight;this.scrollBy(0,t,!0)}else{const t=e.scrollWidth;this.scrollBy(t,0,!0)}}next(){let t,e;const r=new V,i=this.layout.direction,n=this.layout.axis===Ge&&this.paginated,s=this.views.container;if(0===this.views.length)return r.resolve(null),r.promise;if(n&&"ltr"===i?(this.scrollLeft=s.scrollLeft,t=s.scrollLeft+s.offsetWidth+this.layout.delta,t<=s.scrollWidth?this.scrollBy(this.layout.delta,0,!0):e=this.views.last().section.next()):n&&"rtl"===i?(this.scrollLeft=s.scrollLeft,"default"===this.scrollType?(t=s.scrollLeft,t>0?this.scrollBy(this.layout.delta,0,!0):e=this.views.last().section.next()):(t=s.scrollLeft+-1*this.layout.delta,t>-1*s.scrollWidth?this.scrollBy(this.layout.delta,0,!0):e=this.views.last().section.next())):this.layout.axis===$e&&this.paginated&&s.scrollTop+s.offsetHeight<s.scrollHeight?this.scrollBy(0,this.layout.height,!0):e=this.views.last().section.next(),e){this.clear(),this.calculate();let t=!1;"pre-paginated"===this.layout.name&&2===this.layout.divisor&&e.properties.includes("page-spread-right")&&(t=!0),this.append(e,t).then((t=>{n||"rtl"!==i||"default"!==this.scrollType||this.scrollTo(s.scrollWidth,0,!0),this.views.show(),r.resolve(t)}),(t=>{r.reject(t)}))}else this.relocated(),r.resolve(null);return r.promise}prev(){let t,e;const r=new V,i=this.layout.direction,n=this.layout.axis===Ge&&this.paginated,s=this.views.container;if(0===this.views.length)return r.resolve(null),r.promise;if(n&&"ltr"===i?(this.scrollLeft=s.scrollLeft,t=s.scrollLeft,t>0?this.scrollBy(-this.layout.delta,0,!0):e=this.views.first().section.prev()):n&&"rtl"===i?(this.scrollLeft=s.scrollLeft,"default"===this.scrollType?(t=s.scrollLeft+s.offsetWidth,t<s.scrollWidth?this.scrollBy(-this.layout.delta,0,!0):e=this.views.first().section.prev()):(t=s.scrollLeft,t<0?this.scrollBy(-this.layout.delta,0,!0):e=this.views.first().section.prev())):this.layout.axis===$e&&this.paginated&&s.scrollTop>0?this.scrollBy(0,-this.layout.height,!0):e=this.views.first().section.prev(),e){this.clear(),this.calculate();let t=!1;"pre-paginated"===this.layout.name&&2===this.layout.divisor&&"object"!=typeof e.prev()&&(t=!0),this.prepend(e,t).then((t=>{n&&("rtl"===i?"default"===this.scrollType?this.scrollTo(0,0,!0):this.scrollTo(-1*s.scrollWidth+this.layout.delta,0,!0):this.scrollTo(s.scrollWidth-this.layout.delta,0,!0)),this.views.show(),r.resolve(t)}),(t=>{r.reject(t)}))}else this.relocated(),r.resolve(null);return r.promise}current(){const t=this.visible();return t.length?t[t.length-1]:null}clear(){this.views&&(this.views.hide(),this.scrollTo(0,0,!0),this.views.clear())}relocated(){this.currentLocation(),this.emit(ft,this.location)}currentLocation(){return this.layout.axis===Ge&&this.paginated?this.location=this.paginatedLocation():this.location=this.scrolledLocation(),this.location}scrolledLocation(){const t=this.views.container;return this.visible().map((e=>{const{index:r,href:i}=e.section;let n,s,o,a,c;if(this.layout.axis===$e){const r=t.scrollTop;n=Math.abs(r),s=Math.abs(r)+t.clientHeight,o=Math.ceil(n/t.clientHeight),a=Math.ceil(s/t.clientHeight),c=this.layout.count(e.height,t.clientHeight).pages}else{const r=t.scrollLeft;n=Math.abs(r),s=Math.abs(r)+t.clientWidth,o=Math.ceil(n/t.clientWidth),a=Math.ceil(s/t.clientWidth),c=this.layout.count(e.height,t.clientWidth).pages}const l=[];for(let t=o;t<a;t++)l.push({index:t});const h=this.mapping.page(e.contents,e.section.cfiBase,n,s);return{axis:this.layout.axis,href:i,index:r,pages:l,total:c,mapping:h}}))}paginatedLocation(){const t=this.views.container,e=this.viewport.rect,r=t.scrollLeft;return this.visible().map((t=>{const{index:i,href:n}=t.section,s=[],o=this.layout.count(t.width).pages,a=Math.abs(r),c=Math.abs(r)+e.width,l=Math.floor(a/this.layout.pageWidth),h=Math.floor(c/this.layout.pageWidth);for(let t=l;t<h;t++)s.push({index:t});const u=this.mapping.page(t.contents,t.section.cfiBase,a,c);return{axis:this.layout.axis,href:n,index:i,pages:s,total:o,mapping:u}}))}isVisible(t,e,r){const i=t.position(),n=this.viewport.rect;return this.layout.axis===Ge&&i.right>n.left-e&&i.left<n.right+r||this.layout.axis===$e&&i.bottom>n.top-e&&i.top<n.bottom+r}visible(){const t=this.views.displayed(),e=[];for(let r=0,i=t.length;r<i;r++){const i=t[r];this.isVisible(i,0,0)&&e.push(i)}return e}scrollBy(t,e,r){const i="rtl"===this.layout.direction?-1:1,n=this.views.container;r&&(this.ignore=!0),t&&(n.scrollLeft+=t*i),e&&(n.scrollTop+=e)}scrollTo(t,e,r){r&&(this.ignore=!0),this.views.container.scrollLeft=t,this.views.container.scrollTop=e}scrolled(t){this.paginated&&"default"===this.name||(this.relocated(),this.emit(dt,{top:t.target.scrollTop,left:t.target.scrollLeft}))}onscroll(t){this.paginated&&"default"===this.name||(this.ignore?this.ignore=!1:(this.emit(ut,{top:t.target.scrollTop,left:t.target.scrollLeft}),"onscrollend"in window||this.scrollend(t)))}onscrollend(t){this.scrollend(t)}calculate(){this.paginated?(this.layout.calculate(this.viewport.rect.width,this.viewport.rect.height,this.settings.gap),this.settings.offset=this.layout.delta/this.layout.divisor):this.layout.calculate(this.viewport.rect.width,this.viewport.rect.height)}updateWritingMode(t){this.writingMode=t}getContents(){const t=[];return this.views?(this.views.forEach((e=>{e&&t.push(e.contents)})),t):t}isRendered(){return this.rendered}destroy(){this.ignore=!0,this.clear(),this.removeEventListeners(),this.viewport.destroy(),this.viewport=void 0,this.rendered=!1,this.scrollType=void 0,this.writingMode=void 0}}r()(Ye.prototype);const Je=Ye,Ze=Math.PI/2,Qe={easeOutSine:t=>Math.sin(t*Ze),easeInOutSine:t=>-.5*(Math.cos(Math.PI*t)-1),easeInOutQuint:t=>(t/=.5)<1?.5*Math.pow(t,5):.5*(Math.pow(t-2,5)+2),easeInCubic:t=>Math.pow(t,3)};class Ke{constructor(t,e){this.settings=g({duration:300,minVelocity:.2,minDistance:10,easing:Qe.easeInCubic},e||{}),this.supportsTouch()&&this.setup(t)}setup(t){this.manager=t,this.layout=this.manager.layout,this.element=this.manager.views.container,this.scroller=this.element,this.manager.settings.offset=this.layout.width,this.manager.settings.afterScrolledTimeout=2*this.settings.duration,this.isVertical="vertical"===this.manager.layout.axis,this.manager.paginated&&!this.isVertical&&(this.touchCanceler=!1,this.resizeCanceler=!1,this.snapping=!1,this.scrollLeft,this.scrollTop,this.startTouchX=void 0,this.startTouchY=void 0,this.startTime=void 0,this.endTouchX=void 0,this.endTouchY=void 0,this.endTime=void 0,this.addListeners())}supportsTouch(){return"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch}disableScroll(){}enableScroll(){}addListeners(){window.addEventListener("resize",this.onResize.bind(this)),this.scroller.addEventListener("scroll",this.onScroll.bind(this)),this.scroller.addEventListener("touchstart",this.onTouchStart.bind(this),{passive:!0}),this.scroller.addEventListener("touchmove",this.onTouchMove.bind(this),{passive:!0}),this.scroller.addEventListener("touchend",this.onTouchEnd.bind(this),{passive:!0}),this.on("touchstart",this.onTouchStart.bind(this)),this.on("touchmove",this.onTouchMove.bind(this)),this.on("touchend",this.onTouchEnd.bind(this)),this.manager.on(ht,this.afterDisplayed.bind(this))}removeListeners(){window.removeEventListener("resize",this.onResize.bind(this)),this.scroller.removeEventListener("scroll",this.onScroll.bind(this)),this.scroller.removeEventListener("touchstart",this.onTouchStart.bind(this),{passive:!0}),this.scroller.removeEventListener("touchmove",this.onTouchMove.bind(this),{passive:!0}),this.scroller.removeEventListener("touchend",this.onTouchEnd.bind(this),{passive:!0}),this.off("touchstart",this.onTouchStart.bind(this)),this.off("touchmove",this.onTouchMove.bind(this)),this.off("touchend",this.onTouchEnd.bind(this)),this.manager.off(ht,this.afterDisplayed.bind(this))}afterDisplayed(t){const e=t.contents;["touchstart","touchmove","touchend"].forEach((t=>{e.on(t,(t=>this.triggerViewEvent(t,e)))}))}triggerViewEvent(t,e){this.emit(t.type,t,e)}onScroll(t){this.scrollLeft=this.scroller.scrollLeft,this.scrollTop=this.scroller.scrollTop}onResize(t){this.resizeCanceler=!0}onTouchStart(t){const{screenX:e,screenY:r}=t.touches[0];this.touchCanceler=!0,this.startTouchX||(this.startTouchX=e,this.startTouchY=r,this.startTime=(new Date).getTime()),this.endTouchX=e,this.endTouchY=r,this.endTime=(new Date).getTime()}onTouchMove(t){const{screenX:e,screenY:r}=t.touches[0],i=Math.abs(r-this.endTouchY);this.touchCanceler=!0,i<10&&(this.element.scrollLeft-=e-this.endTouchX),this.endTouchX=e,this.endTouchY=r,this.endTime=(new Date).getTime()}onTouchEnd(t){this.touchCanceler=!1;let e=this.wasSwiped();0!==e?this.snap(e):this.snap(),this.startTouchX=void 0,this.startTouchY=void 0,this.startTime=void 0,this.endTouchX=void 0,this.endTouchY=void 0,this.endTime=void 0}wasSwiped(){const t=this.layout.pageWidth*this.layout.divisor,e=this.endTouchX-this.startTouchX,r=Math.abs(e),i=e/(this.endTime-this.startTime),n=this.settings.minVelocity;return r<=this.settings.minDistance||r>=t?0:i>n?-1:i<-n?1:void 0}needsSnap(){return this.scrollLeft%(this.layout.pageWidth*this.layout.divisor)!=0}snap(t=0){const e=this.scrollLeft,r=this.layout.pageWidth*this.layout.divisor;let i=Math.round(e/r)*r;return t&&(i+=t*r),this.smoothScrollTo(i)}smoothScrollTo(t){const e=new V,r=this.scrollLeft,i=(new Date).getTime(),n=this.settings.duration;this.snapping=!0;const s=()=>{const o=(new Date).getTime(),a=Math.min(1,(o-i)/n);if(this.touchCanceler||this.resizeCanceler)return this.resizeCanceler=!1,this.snapping=!1,void e.resolve();a<1?(window.requestAnimationFrame(s.bind(this)),this.scrollTo(r+(t-r)*a,0)):(this.scrollTo(t,0),this.snapping=!1,e.resolve())};return s.call(this),e.promise}scrollTo(t=0,e=0){this.scroller.scrollLeft=t,this.scroller.scrollTop=e}destroy(){void 0!==this.scroller&&(this.removeListeners(),this.scroller=void 0)}}r()(Ke.prototype);const tr=Ke,er="horizontal",rr=class extends Je{constructor(t,e){super(t,e),this.name="continuous",this.settings=g({axis:null,snap:null,view:"iframe",method:null,offset:500,offsetDelta:250,ignoreClass:"",forceEvenPages:!1},e||{})}render(t,e){super.render(t,e),this.paginated&&this.settings.snap&&(this.snapper=new tr(this,this.settings.snap))}async display(t,e){return super.display(t,e).then((()=>this.fill()))}fill(t){const e=t||new V;return this.q.enqueue((()=>this.check())).then((t=>{t?this.fill(e):e.resolve()})),e.promise}moveTo(t){let e=0,r=0;this.paginated?e=Math.floor(t.left/this.layout.delta)*this.layout.delta:r=t.top,(e>0||r>0)&&this.scrollBy(e,r,!0)}removeShownListeners(t){t.off(wt)}async update(t){const e=this.views,r=t||this.settings.offset||0,i=[];for(let t=0;t<e.length;t++){const n=e[t];if(this.isVisible(n,r,r))if(n.displayed)n.show();else{const t=n.display(this.load).then((t=>{t.show()}));i.push(t)}}return i.length?Promise.all(i):Promise.resolve(null)}async check(t,e){const r=[],i=this.layout.axis===er,n=this.views.container,s="rtl"===this.layout.direction;let o=this.settings.offset||0;t&&i&&(o=t),e&&!i&&(o=e);const a=this.viewport.rect,c=i?Math.floor(a.width):a.height,l=i?n.scrollWidth:n.scrollHeight;let h=i?n.scrollLeft:n.scrollTop;0===this.writingMode.indexOf(er)&&(s&&"default"===this.scrollType&&(h=l-c-h),s&&"negative"===this.scrollType&&(h*=-1));const u=h-o;return h+c+o>=l&&(()=>{const t=this.views.last(),e=t&&t.section.next();e&&r.push(this.append(e))})(),u<0&&(()=>{const t=this.views.first(),e=t&&t.section.prev();e&&r.push(this.prepend(e))})(),r.length?Promise.all(r).then((()=>this.update(o))):Promise.resolve(null)}scrolled(t){this.q.enqueue((()=>this.check())).then((()=>{this.relocated(),this.emit(dt,{top:t.target.scrollTop,left:t.target.scrollLeft})}))}next(){if(0===this.views.length)return Promise.resolve(null);let t;return t="pre-paginated"===this.layout.name&&"auto"===this.layout.spread?2*this.layout.delta:this.layout.delta,this.paginated&&this.layout.axis===er?this.scrollBy(t,0,!0):this.scrollBy(0,this.layout.height,!0),this.q.enqueue((()=>this.check()))}prev(){if(0===this.views.length)return Promise.resolve(null);let t;return t="pre-paginated"===this.layout.name&&"auto"===this.layout.spread?2*this.layout.delta:this.layout.delta,this.paginated&&this.layout.axis===er?this.scrollBy(-t,0,!0):this.scrollBy(0,-this.layout.height,!0),this.q.enqueue((()=>this.check()))}destroy(){super.destroy(),this.snapper&&this.snapper.destroy()}};class ir{constructor(t,e){this.settings=g({axis:void 0,width:null,height:null,manager:"default",view:"iframe",flow:null,hidden:!1,method:"write",layout:null,spread:null,minSpreadWidth:800,script:null,snap:!1,direction:null,ignoreClass:"",sandbox:[],stylesheet:null},e||{}),"object"==typeof this.settings.manager&&(this.manager=this.settings.manager),this.book=t,this.hooks={content:new xe(this),display:new xe(this),layout:new xe(this),render:new xe(this),show:new xe(this),unloaded:new xe(this)},this.hooks.content.register(this.handleLinks.bind(this)),this.hooks.content.register(this.passEvents.bind(this)),this.hooks.content.register(this.adjustImages.bind(this)),this.book.sections.hooks.content.register(this.injectIdentifier.bind(this)),this.settings.stylesheet&&this.book.sections.hooks.content.register(this.injectStylesheet.bind(this)),this.settings.script&&this.book.sections.hooks.content.register(this.injectScript.bind(this)),this.annotations=new me(this),this.themes=new be(this),this.epubcfi=new Z,this.location=void 0,this.starting=new V,this.started=this.starting.promise,this.q=new K(this),this.q.enqueue(this.book.opened),this.q.enqueue(this.start.bind(this))}setManager(t){this.manager=t}requireManager(t){let e;return e="string"==typeof t&&"default"===t?Je:"string"==typeof t&&"continuous"===t?rr:t,e}start(){const t=this.determineLayoutProperties();if(this.layout=new ye(t),this.layout.on(Mt,((t,e)=>{this.emit(It,t,e)})),this.viewport=new Ne(this.layout,{hidden:this.settings.hidden}),this.viewport.on(Ft,(t=>{"paginated"===this.layout.flow?this.layout.set({width:t.width,height:t.height}):"horizontal"===this.layout.axis?this.layout.set({height:t.height}):"vertical"===this.layout.axis&&this.layout.set({width:t.width}),this.location&&(this.emit(Rt,t),this.display(this.location.start.cfi))})),this.viewport.on(zt,(t=>{this.emit(At,t)})),!this.manager){const t=this.requireManager(this.settings.manager),e={snap:this.settings.snap,view:this.settings.view,method:this.settings.method,sandbox:this.settings.sandbox,ignoreClass:this.settings.ignoreClass};this.manager=new t(this.book,e)}this.manager.on(ht,this.afterDisplayed.bind(this)),this.manager.on(pt,this.afterRemoved.bind(this)),this.manager.on(lt,this.onResized.bind(this)),this.manager.on(ft,this.relocated.bind(this)),this.emit(Nt),this.starting.resolve()}attachTo(t){return this.q.enqueue((()=>{this.manager.render(t,{width:this.settings.width,height:this.settings.height}),this.emit(Tt)}))}display(t){return this.displaying&&this.displaying.resolve(),this.q.enqueue(this._display.bind(this),t)}_display(t){const e=new V;this.displaying=e,this.book.locations.length&&d(t)&&(t=this.book.locations.cfiFromPercentage(parseFloat(t)));const r=this.book.sections.get(t);return r?(this.manager.display(r,t).then((()=>{e.resolve(r),this.displaying=void 0,this.emit(kt,r)}),(t=>{this.emit(St,t)})).then((()=>{this.viewport.update()})),e.promise):(e.reject(new Error("No Section Found")),e.promise)}afterDisplayed(t){t.on(Et,((e,r)=>{this.triggerMarkEvent(e,r,t.contents)})),this.hooks.render.trigger(t,this).then((()=>{t.contents?this.hooks.content.trigger(t.contents,this).then((()=>{this.emit(Ct,t)})):this.emit(Ct,t)}))}afterRemoved(t){this.hooks.unloaded.trigger(t,this).then((()=>{this.emit(Ot,t)}))}onResized(t){return this.adjustImages(t.contents)}moveTo(t){this.manager.moveTo(t)}resize(t,e){return this.viewport.size(t,e)}clear(){this.manager.clear()}next(){return this.q.enqueue(this.manager.next.bind(this.manager))}prev(){return this.q.enqueue(this.manager.prev.bind(this.manager))}determineLayoutProperties(){const t=this.book.packaging.metadata,e=this.book.packaging.direction;return{axis:this.settings.axis,name:this.settings.layout||t.get("layout"),flow:this.settings.flow||t.get("flow"),spread:this.settings.spread||t.get("spread"),viewport:t.get("viewport"),direction:this.settings.direction||e||"ltr",orientation:this.settings.orientation||t.get("orientation"),minSpreadWidth:this.settings.minSpreadWidth,pageWidth:this.settings.pageWidth}}updateLayout(t){this.layout.set(t),this.display(this.location.start.cfi)}currentLocation(){const t=this.manager.currentLocation();if(t&&t.then&&"function"==typeof t.then)t.then((t=>this.located(t)));else if(t)return this.located(t)}located(t){if(0===t.length)return{};const e=t[0],r=t[t.length-1],i={atStart:!1,atEnd:!1,start:{cfi:e.mapping.start,href:e.href,index:e.index,displayed:{page:e.pages[0],total:e.total}},end:{cfi:r.mapping.end,href:r.href,index:r.index,displayed:{page:r.pages[r.pages.length-1],total:r.total}}},n=this.book.locations;if(n.size){const t=n.locationFromCfi(e.mapping.start),s=n.locationFromCfi(r.mapping.end);-1!==t&&(i.start.location=t,i.start.percentage=n.percentageFromLocation(t)),-1!==s&&(i.end.location=s,i.end.percentage=n.percentageFromLocation(s))}const s=this.book.navigation.pageList;if(s.length){const t=s.pageFromCfi(e.mapping.start),n=s.pageFromCfi(r.mapping.end);-1!==t&&(i.start.page=t),-1!==n&&(i.end.page=n)}const o=i.start.displayed.page;this.book.sections.first().index===e.index&&0===o.index&&(i.atStart=!0);const a=i.end.displayed.page;return this.book.sections.last().index===r.index&&a.index===i.end.displayed.total-1&&(i.atEnd=!0),i}relocated(t){const e=this.located(t);e&&e.start&&e.end&&(this.location=e,this.emit(Lt,this.location))}destroy(){this.q.clear(),this.q=void 0,this.manager&&this.manager.destroy(),this.book=void 0,this.hooks.display.clear(),this.hooks.content.clear(),this.hooks.layout.clear(),this.hooks.render.clear(),this.hooks.show.clear(),this.hooks.unloaded.clear(),this.hooks=void 0,this.themes.destroy(),this.themes=void 0,this.epubcfi=void 0,this.starting=void 0,this.started=void 0}passEvents(t){et.forEach((e=>{t.on(e,(e=>this.triggerViewEvent(e,t)))})),t.on(st,(e=>this.triggerSelectedEvent(e,t)))}triggerViewEvent(t,e){this.emit(t.type,t,e)}triggerSelectedEvent(t,e){this.emit(qt,t,e)}triggerMarkEvent(t,e,r){this.emit(Dt,t,e,r)}getRange(t,e){const r=new Z(t),i=this.manager.visible().filter((t=>{if(r.spinePos===t.section.index)return!0}));if(i.length)return i[0].contents.range(r,e)}adjustImages(t){if("pre-paginated"===this.layout.name)return new Promise((t=>{t(null)}));const e=t.content,r=parseFloat(e.style["padding-top"]),i=parseFloat(e.style["padding-bottom"]),n=parseFloat(e.style["padding-left"])+parseFloat(e.style["padding-right"]),s=r+i,o=(this.layout.columnWidth?this.layout.columnWidth-n+"px":"100%")+" !important",a=e.offsetHeight-s+"px !important";return t.appendStylesheet("images",{img:{"max-width":o,"max-height":a,"object-fit":"contain","page-break-inside":"avoid","break-inside":"avoid","box-sizing":"border-box"},svg:{"max-width":o,"max-height":a,"page-break-inside":"avoid","break-inside":"avoid"}})}getContents(){return this.manager?this.manager.getContents():[]}views(){return(this.manager?this.manager.views:void 0)||[]}handleLinks(t){t&&t.on(at,(t=>{this.display(t)}))}injectStylesheet(t,e){const r=t.createElement("link");r.setAttribute("type","text/css"),r.setAttribute("rel","stylesheet"),r.setAttribute("href",this.settings.stylesheet),t.getElementsByTagName("head")[0].appendChild(r)}injectScript(t,e){const r=t.createElement("script");r.setAttribute("type","text/javascript"),r.setAttribute("src",this.settings.script),r.textContent=" ",t.getElementsByTagName("head")[0].appendChild(r)}injectIdentifier(t,e){const r=this.book.packaging.metadata.get("identifier"),i=t.createElement("meta");i.setAttribute("name","dc.relation.ispartof"),r&&i.setAttribute("content",r),t.getElementsByTagName("head")[0].appendChild(i)}}r()(ir.prototype);const nr=ir,sr=!(!window||!window.URL),or=sr?"blob":"arraybuffer",ar=(t,e,r=!1,i=[])=>{const n=new V,s=new XMLHttpRequest;e=e||new G(t).extension,s.withCredentials=r,S(e)?(s.responseType="document",s.overrideMimeType("text/xml")):"xhtml"===e||"html"===e||"htm"===e?s.responseType="document":"binary"===e?s.responseType="arraybuffer":"blob"===e?s.responseType=or:"json"===e&&(s.responseType="json"),s.onreadystatechange=t=>((t,e)=>{const r=t.target;403===r.status&&e.reject({message:"Forbidden",target:r,stack:(new Error).stack})})(t,n),s.onload=t=>((t,e,r)=>{const i=t.target;let n;"document"===i.responseType?null===i.response&&null===i.responseXML?r.reject({message:"Empty Response",target:i,stack:(new Error).stack}):i.responseXML?n=i.responseXML:S(e)?n=D(i.response,"text/xml"):"xhtml"===e?n=D(i.response,"application/xhtml+xml"):"html"!==e&&"htm"!==e||(n=D(i.response,"text/html")):n="json"===i.responseType?i.response:"blob"===i.responseType?sr?i.response:new Blob([i.response]):i.response,r.resolve(n)})(t,e,n),s.onerror=t=>{n.reject({message:"Error",target:t.target,stack:(new Error).stack})},s.open("GET",t,!0);for(const t in i)s.setRequestHeader(t,i[t]);return s.send(),n.promise},cr=class{constructor(){this.instance=null}async request(t,e){let r;return r="blob"===(e=e||new G(t).extension)||"binary"===e?this.getBlob(t):"base64"===e?this.getBase64(t):this.getText(t),r.then((r=>{const i=new V;if(r){const t=this.handleResponse(r,e);i.resolve(t)}else i.reject({message:"File not found in: "+t,stack:(new Error).stack});return i.promise}))}handleResponse(t,e){let r;return r=S(e)?D(t,"text/xml"):"xhtml"===e?D(t,"application/xhtml+xml"):"html"==e||"htm"==e?D(t,"text/html"):"json"===e?JSON.parse(t):t,r}async getBlob(t,e){}async getText(t,e){}async getBase64(t,e){}destroy(){this.instance=void 0}};var lr=n(6838),hr=n.n(lr);const ur=class extends cr{constructor(){super(),this.createInstance()}createInstance(){if(!hr())throw new Error("JSZip lib not loaded");this.instance=new(hr())}open(t,e){if("base64"===e){const e=t.split(",");t=2===e.length?e[1]:t}return this.instance.loadAsync(t,{base64:"base64"===e})}async openUrl(t,e){return ar(t,"binary").then((t=>this.instance.loadAsync(t,{base64:e})))}get(t){const e=window.decodeURIComponent(t.substring(1));return this.instance.file(e)}async getBlob(t,e){const r=this.get(t);if(r){const t=e||le(r.name);return r.async("uint8array").then((e=>new Blob([e],{type:t})))}return new Promise((t=>{t(null)}))}async getText(t){const e=this.get(t);return e?e.async("string").then((t=>t)):new Promise((t=>{t(null)}))}async getBase64(t,e){const r=this.get(t);if(r){const t=e||le(r.name);return r.async("base64").then((e=>"data:"+t+";base64,"+e))}return new Promise((t=>{t(null)}))}};var dr=n(6361),pr=n.n(dr);class fr extends cr{constructor(t){super(),this.name=t,this.online=window.navigator.onLine}createInstance(){if(!pr())throw new TypeError("LocalForage lib not loaded");this.instance=pr().createInstance({name:this.name}),this.appendListeners()}appendListeners(){window.addEventListener("online",this.status.bind(this)),window.addEventListener("offline",this.status.bind(this))}removeListeners(){window.removeEventListener("online",this.status.bind(this)),window.removeEventListener("offline",this.status.bind(this))}status(t){this.online="online"===t.type,this.online?this.emit("online"):this.emit("offline")}async get(t){const e=this.getKey(t);return this.instance.getItem(e)}async set(t,e){const r=this.getKey(t);return this.instance.setItem(r,e)}async put(t){return this.get(t).then((e=>e||ar(t,"binary").then((e=>this.set(t,e)))))}async dispatch(t,e,r,i){if(this.online){const n=[];return n.push(ar(t,e,r,i)),n.push(this.put(t)),Promise.all(n).then((t=>t[0]||null))}return this.request(t,e)}getKey(t){let e;return e="string"==typeof t?t:`book-${t}`,e}async getBlob(t,e){return this.get(t).then((r=>{if(!r)return null;const i=e||le(t);return new Blob([r],{type:i})}))}async getText(t,e){return this.get(t).then((r=>{if(!r)return null;const i=new V,n=new FileReader,s=e||le(t),o=new Blob([r],{type:s});return n.onloadend=()=>{i.resolve(n.result)},n.readAsText(o,s),i.promise}))}async getBase64(t,e){return this.get(t).then((r=>{if(!r)return null;const i=new V,n=new FileReader,s=e||le(t),o=new Blob([r],{type:s});return n.onloadend=()=>{i.resolve(n.result)},n.readAsDataURL(o,s),i.promise}))}destroy(){super.destroy(),this.removeListeners()}}r()(fr.prototype);const gr=fr;n(4905),n(8872);const mr=class{constructor(t,e){this.idref=t.idref,this.linear="yes"===t.linear,this.index=t.index,this.href=t.href,this.url=t.url,this.canonical=t.canonical,this.cfiBase=t.cfiBase,this.next=t.next,this.prev=t.prev,this.properties=t.properties,this.hooks=e,this.document=void 0,this.contents=void 0,this.output=void 0}load(t){const e=new V;return this.contents?e.resolve(this.contents):t(this.url).then((t=>(this.document=t,this.contents=t.documentElement,this.hooks.content.trigger(this.document,this)))).then((()=>{e.resolve(this.contents)})).catch((t=>{e.reject(t)})),e.promise}render(t){const e=new V;return this.load(t).then((t=>{const e=new XMLSerializer;return this.output=e.serializeToString(t),this.output})).then((()=>this.hooks.serialize.trigger(this.output,this))).then((()=>{e.resolve(this.output)})).catch((t=>{e.reject(t)})),e.promise}find(t){const e=this,r=[],i=t.toLowerCase();return P(e.document,(t=>(t=>{const n=t.textContent.toLowerCase();let s,o=-1;for(;-1!==s;){if(s=n.indexOf(i,o+1),-1!==s){const n=e.document.createRange();n.setStart(t,s),n.setEnd(t,s+i.length);const o=e.cfiFromRange(n);let a;t.textContent.length<150?a=t.textContent:(a=t.textContent.substring(s-75,s+75),a="..."+a+"..."),r.push({cfi:o,excerpt:a})}o=s}})(t))),r}search(t,e=5){if(void 0===document.createTreeWalker)return this.find(t);const r=[],i=this,n=t.toLowerCase(),s=t=>{const e=t.reduce(((t,e)=>t+e.textContent),"").toLowerCase().indexOf(n);if(-1!==e){const s=0,o=e+n.length;let a=0,c=0;if(e<t[s].length){for(;a<t.length-1&&(c+=t[a].length,!(o<=c));)a+=1;const n=t[s],l=t[a],h=i.document.createRange();h.setStart(n,e);const u=t.slice(0,a).reduce(((t,e)=>t+e.textContent.length),0);h.setEnd(l,u>o?o:o-u);const d=i.cfiFromRange(h);let p=t.slice(0,a+1).reduce(((t,e)=>t+e.textContent),"");p.length>150&&(p=p.substring(e-75,e+75),p="..."+p+"..."),r.push({cfi:d,excerpt:p})}}},o=document.createTreeWalker(i.document,NodeFilter.SHOW_TEXT,null,!1);let a,c=[];for(;a=o.nextNode();)c.push(a),c.length==e&&(s(c.slice(0,e)),c=c.slice(1,e));return c.length>0&&s(c),r}cfiFromRange(t){return new Z(t,this.cfiBase).toString()}cfiFromElement(t){return new Z(t,this.cfiBase).toString()}unload(){this.document=void 0,this.contents=void 0,this.output=void 0}destroy(){this.unload(),this.hooks.serialize.clear(),this.hooks.content.clear(),this.hooks=void 0,this.idref=void 0,this.linear=void 0,this.properties=void 0,this.index=void 0,this.href=void 0,this.url=void 0,this.next=void 0,this.prev=void 0,this.cfiBase=void 0}};class vr extends Map{constructor(){super(),this.hooks={content:new xe(this),serialize:new xe(this)},this.hooks.content.register(ne),this.hooks.content.register(oe),this.hooks.content.register(se),this.points={},this.nav=void 0,this.pkg=void 0}clear(){this.forEach((t=>t.destroy())),this.hooks.serialize.clear(),this.hooks.content.clear(),this.hooks.content.register(ne),this.hooks.content.register(oe),this.hooks.content.register(se),this.points={},super.clear()}get(t){let e;if(void 0===t)e=this.first();else if("number"==typeof t&&!1===isNaN(t))e=[...this.values()][t];else if("string"==typeof t)if(Z.prototype.isCfiString(t)){const r=new Z(t).spinePos;e=[...this.values()][r]}else 0===t.indexOf("#")?(e=this.pkg.spine.get(t.substring(1)))&&(e=[...this.values()][e.index]):(e=this.nav.toc.get(t))?e=super.get(e.bind):(t=t.split("#")[0],e=super.get(t));return e||null}first(){return this.points.first||null}last(){return this.points.last||null}unpack(t,e,r,i){this.pkg=t,this.nav=e;const n=t.manifest,s=t.spine,o=e.toc;if(s.forEach(((t,e)=>{const a=n.get(e),c={};if(c.cfiBase=Z.prototype.generateChapterComponent(s.nodeIndex,t.index,t.id),a){const t=o.get(a.href);c.bind=t?t.bind:a.href,c.href=a.href,c.url=r(a.href,!0),c.canonical=i(a.href),c.properties=[],a.properties.length&&c.properties.push.apply(c.properties,a.properties)}c.idref=t.idref,c.index=t.index,c.linear=t.linear,"yes"===c.linear?(c.next=()=>{let t=c.index;for(;t<this.size-1;){let e=this.get(t+1);if(e&&e.linear)return e;t+=1}return null},c.prev=()=>{let t=c.index;for(;t>0;){let e=this.get(t-1);if(e&&e.linear)return e;t-=1}return null}):(c.prev=()=>null,c.next=()=>null);const l=new mr(c,this.hooks);this.set(c.bind,l)})),this.size){let t=0;for(;t<this.size;){let e=this.get(t);if(e&&e.linear){this.points.first=e;break}t+=1}}if(this.size){let t=this.size;for(;t>0;){let e=this.get(t-1);if(e&&e.linear){this.points.last=e;break}t-=1}}return new Promise((t=>{t(this)}))}destroy(){this.clear(),this.hooks=void 0,this.points=void 0,this.nav=void 0,this.pkg=void 0}}const yr=vr,wr="META-INF/container.xml",br="binary",xr="base64",Er="epub",Nr="json",Tr="directory";class kr{constructor(t,e){void 0===e&&"string"!=typeof t&&t instanceof Blob==0&&t instanceof ArrayBuffer==0&&(e=t,t=void 0),this.settings=g({canonical:void 0,encoding:void 0,replacements:null,request:{method:void 0,withCredentials:!1,headers:[]},store:null},e||{}),this.request=this.settings.request.method||ar,this.archive=void 0,this.storage=new gr(this.settings.store),this.rendition=void 0,this.container=new Vt,this.packaging=new Qt,this.resources=new de(this.request.bind(this),this.resolve.bind(this),this.settings.replacements),this.sections=new yr,this.locations=new Ht(this.sections,this.load.bind(this)),this.navigation=new ie,this.url=void 0,this.settings.store&&this.storage.createInstance(),t&&this.open(t).catch((t=>{this.emit(rt,t)}))}init(){this.archived=!1,this.cover=null,this.path=void 0,this.isOpen=!1,this.opening=new V,this.opened=this.opening.promise,this.loading={packaging:new V,resources:new V,navigation:new V,sections:new V,cover:new V},this.loaded={packaging:this.loading.packaging.promise,resources:this.loading.resources.promise,navigation:this.loading.navigation.promise,sections:this.loading.sections.promise,cover:this.loading.cover.promise}}clear(){this.container.clear(),this.packaging.clear(),this.resources.clear(),this.navigation.clear(),this.sections.clear(),this.locations.clear()}async open(t,e){this.init();const r=e||this.determineType(t);let i;if(this.settings.store&&this.store(t),r===br)this.archived=!0,this.url=new $("/",""),i=this.openEpub(t);else if(r===xr)this.archived=!0,this.url=new $("/",""),i=this.openEpub(t,r);else if(r===Er)this.archived=!0,this.url=new $("/",""),i=this.request(t,"binary",this.settings.request.withCredentials,this.settings.request.headers).then(this.openEpub.bind(this));else if("opf"===r){this.url=new $(t);const e=this.url.path.toString();i=this.openPackaging(e)}else if(r===Nr){this.url=new $(t);const e=this.url.path.toString();i=this.openManifest(e)}else r===Tr&&(this.url=new $(t),i=this.openDirectory());return i}async openEpub(t,e){const r=e||this.settings.encoding;return this.unarchive(t,r).then((()=>this.openContainer(wr))).then((t=>this.openPackaging(t)))}async openContainer(t){return this.load(t).then((t=>this.container.parse(t))).then((t=>this.resolve(t.fullPath)))}async openPackaging(t){return this.path=new G(t),this.load(t).then((t=>this.packaging.parse(t))).then((()=>this.loadNavigation())).then((()=>this.unpack()))}async openManifest(t){return this.path=new G(t),this.load(t).then((t=>this.packaging.load(t))).then((()=>this.loadNavigation())).then((()=>this.unpack()))}async openDirectory(){return this.openContainer(wr).then((t=>this.openPackaging(t)))}load(t,e=null){const r=this.resolve(t);return this.archived?this.archive.request(r):this.request(r,e,this.settings.request.withCredentials,this.settings.request.headers)}resolve(t,e=!1){if(!t)return;if(t.indexOf("://")>-1)return t;let r=t;return this.path&&(r=this.path.resolve(this.path.directory,t)),!1===e&&this.url&&(r=this.url.resolve(r)),r}canonical(t){if(!t)return"";let e;return e=this.settings.canonical?this.settings.canonical(t):this.resolve(t,!0),e}determineType(t){if("base64"===this.settings.encoding)return xr;if("string"!=typeof t)return br;let e=new $(t).path.extension;return e&&(e=e.replace(/\?.*$/,"")),e?"epub"===e?Er:"opf"===e?"opf":"json"===e?Nr:void 0:Tr}async unpack(){this.loading.packaging.resolve(this.packaging),this.loading.navigation.resolve(this.navigation),this.resources.unpack(this.packaging.manifest,this.archive,this.storage).then((t=>{this.loading.resources.resolve(t)})),this.sections.unpack(this.packaging,this.navigation,this.resolve.bind(this),this.canonical.bind(this)).then((t=>{this.loading.sections.resolve(t)})),this.resources.replacements&&this.sections.hooks.serialize.register(this.resources.substitute.bind(this.resources)),this.packaging.manifest.coverPath&&(this.cover=this.resolve(this.packaging.manifest.coverPath)),this.loading.cover.resolve(this.cover);const t=[...Object.values(this.loaded)];return Promise.all(t).then((()=>(this.isOpen=!0,this.opening.resolve(this),this.opened)))}async loadNavigation(){const t=this.packaging.manifest.navPath;return t?this.load(t).then((t=>this.navigation.parse(t))):new Promise((t=>{t(this.navigation)}))}section(t){return this.sections.get(t)}renderTo(t,e){const r="blobUrl";return this.settings.replacements===r&&(e=g({method:r},e||{})),this.rendition=new nr(this,e),this.rendition.attachTo(t),this.rendition}setRequestCredentials(t){this.settings.request.withCredentials=t}setRequestHeaders(t){this.settings.request.headers=t}unarchive(t,e){return this.archive=new ur,this.archive.open(t,e)}store(t){"string"==typeof t&&(this.request=this.storage.dispatch.bind(this.storage))}async coverUrl(){return this.loaded.cover.then((()=>this.archived&&this.cover?this.resources.createUrl(this.cover):this.cover))}async getRange(t){const e=new Z(t),r=this.sections.get(e.spinePos),i=this.load.bind(this);return r?r.load(i).then((t=>e.toRange(r.document))):new Promise(((t,e)=>{e(new Error("CFI could not be found"))}))}key(t){const e=t||this.packaging.metadata.get("identifier")||this.url.filename;return`epubjs:${tt}:${e}`}destroy(){this.isOpen=!1,this.opened=void 0,this.opening=void 0,this.loading=void 0,this.loaded=void 0,this.archive&&this.archive.destroy(),this.locations&&this.locations.destroy(),this.resources&&this.resources.destroy(),this.container&&this.container.destroy(),this.packaging&&this.packaging.destroy(),this.rendition&&this.rendition.destroy(),this.archive=void 0,this.locations=void 0,this.resources=void 0,this.container=void 0,this.packaging=void 0,this.rendition=void 0,this.navigation.destroy(),this.navigation=void 0,this.url=void 0,this.path=void 0,this.cover=void 0,this.archived=!1}}r()(kr.prototype);const Sr=kr;function Cr(t,e){return new Sr(t,e)}Cr.VERSION=tt,void 0!==n.g&&(n.g.EPUBJS_VERSION=tt),Cr.Book=Sr,Cr.Rendition=nr,Cr.Contents=Le,Cr.EpubCFI=Z,Cr.utils=t;const Or=Cr})(),s.default})()));
//# sourceMappingURL=epub.min.js.map